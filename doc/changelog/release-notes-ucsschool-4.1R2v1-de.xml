<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE book [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	<!ENTITY % DocBookDTD PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
	<!ENTITY % entities SYSTEM "../stylesheets/macros-de.ent" >
	%extensions;
	%DocBookDTD;
	%entities;
]>
<book lang="de" id="releasenotes-4.1R2-de">

	<bookinfo>
 		<title>UCS@school 4.1 R2 v1 Release Notes</title>
		<subtitle>Release Notes für die Inbetriebnahme und Aktualisierung von UCS@school 4.1 R2 v1</subtitle>
		<legalnotice>
			<literallayout>
Version 4.1 R2 v1
Stand: 14. Juni 2016
			</literallayout>
			<literallayout lang="">
Alle Rechte vorbehalten./ All rights reserved.
(c) 2002-2016
Univention GmbH
Mary-Somerville-Straße 1
28359 Bremen
Deutschland
feedback@univention.de
			</literallayout>
			<para>
				Jede aufgeführte Marke und jedes Warenzeichen steht im Eigentum ihrer jeweiligen eingetragenen Rechtsinhaber.
				Linux ist ein eingetragenes Warenzeichen von Linus Torvalds.
			</para>
			<para lang="en">
				The mentioned brand names and registered trademarks are owned by the respective legal owners in each case.
				Linux is a registered trademark of Linus Torvalds.
			</para>
		</legalnotice>
	</bookinfo>

	<chapter id="relnotes:prepare">
		<title>Hinweise zum Update</title>
		<para>
			Während der Aktualisierung kann es zu Ausfällen von Diensten innerhalb der Domäne
			kommen. Aus diesem Grund sollte das Update innerhalb eines Wartungsfensters
			erfolgen. Grundsätzlich wird empfohlen das Update zunächst in einer Testumgebung
			einzuspielen und zu testen. Die Testumgebung sollte dabei identisch zur
			Produktivumgebung sein. Je nach Systemgeschwindigkeit, Netzwerkanbindung und
			installierter Software kann das Update zwischen dreißig Minuten und mehreren Stunden
			dauern.
		</para>
		<para>
			Das Update von UCS@school muss zunächst auf dem Domaincontroller Master durchgeführt
			werden, bevor das Update auf den übrigen UCS@school-Systemen der Domäne gestartet werden kann.
		</para>
		<chapter id="relnote:prepare:ouspanningusers">
			<title>Schulübergreifende Benutzerkonten</title>
			<para>
				Ein neues Kernfeature von &ucsUAS; 4.1 R2 ist die Unterstützung von schulübergreifenden
				Benutzerkonten. Schulübergreifende Benutzerkonten werden an mehrere, vordefinierte Schulen
				repliziert und können in diversen Szenarien multiple Benutzerkonten ersetzen (z.B. bei Lehrern war
				zuvor häufig ein Benutzerkonto pro Schule notwendig). Die schulübergreifenden Benutzerkonten
				erfordern u.a. die Installation neuer LDAP-ACLs (LDAP-Zugriffsregeln), was bei der Installation
				bzw. dem Update von UCs@school 4.1 R2 automatisch passiert.
			</para>
			<para>
				Neben den neuen LDAP-ACLs ist auch eine Anpassung der Benutzerobjekte und der
				UCS@school-Administrator-Gruppen im LDAP-Verzeichnis notwendig, die unterhalb der OU-Objekte für die
				Schulen bzw. in einem zentralen Container liegen. Während des Updates von UCS@school 4.1 R2 wird auf
				dem &ucsMaster; automatisch bei der Ausführung des Joinskriptes
				<filename>35ucs-school-import.inst</filename> die Anpassung der UCS@school-Benutzerobjekte und
				-Gruppenobjekte vorgenommen. Dies kann je nach Umgebungsgröße einige Zeit beanspruchen und führt
				während der Anpassungen zu einer erhöhten Last bei LDAP-Servern und LDAP-Replikation.
			</para>
			<para>
				Um die automatische Anpassung zu verhindern, kann VOR dem Update auf UCS@school 4.1 R2
				die &ucsUCRV; <envar>ucsschool/update/ldap/41R2</envar> auf den Wert <literal>false</literal>
				gesetzt werden. Die Anpassung der Benutzerobjekte muss dann für die korrekte Funktion der
				UCS@school-Umgebung manuell nachgeholt werden. Dafür muss das folgende Kommando als Benutzer
				<systemitem class="username">root</systemitem> auf dem &ucsMaster; ausgeführt werden:
				<command>/usr/share/ucs-school-import/scripts/ucs-school-migrate-users-to-4.1R2</command>.
			</para>
		</chapter>
		<chapter id="relnote:prepare:ldapindices">
			<title>LDAP-Indizes</title>
			<para>
				Während des Updates auf UCS@school 4.1 R2 werden auf den Systemrollen
				Domaincontroller Master, Domaincontroller Backup und Domaincontroller Slave die LDAP-Indizes um die
				Attribute <literal>ucsschoolSchool</literal>, <literal>ucsschoolSourceUID</literal> und
				<literal>ucsschoolRecordUID</literal> erweitert und die Index-Dateien automatisch
				aktualisiert. Diese Anpassung bzw. Aktualisierung kann je nach Umfang des LDAP-Verzeichnisdienstes
				einige Minuten in Anspruch nehmen.
			</para>
		</chapter>
	</chapter>

	<chapter id="relnotes:preparations">
	  <title>Vorbereitung von Installation und Update</title>
	  <para>
		Es sollte geprüft werden, ob ausreichend Festplattenplatz verfügbar ist. Eine
		Standard-Installation benötigt min. 6 GB Speicherplatz. Das Update benötigt je nach Umfang
		der vorhanden Installation mindestens 1,0 GB weiteren Speicherplatz zum Herunterladen und
		Installieren der Pakete.
	  </para>

	  <para>
		Für das Update sollte eine Anmeldung auf der lokalen Konsole des Systems mit dem Benutzer
		<emphasis>root</emphasis> durchgeführt und das Update dort gestartet werden. Alternativ
		kann das Update über die &ucsUMC; durchgeführt werden.
	  </para>

	  <para>
		Eine Remote-Aktualisierung über SSH wird nicht empfohlen, da dies beispielsweise bei
		Unterbrechung der Netzverbindung zum Abbruch des Update-Vorgangs und zu einer
		Beeinträchtigung des Systems führen kann. Sollte dennoch eine Aktualisierung über eine
		Netzverbindung durchgeführt werden, ist sicherzustellen, dass das Update bei einer Unterbrechung
		der Netzverbindung trotzdem weiterläuft. Hierfür können beispielsweise die Tools
		<command>screen</command> oder <command>at</command> eingesetzt werden, die auf allen
		Systemrollen installiert sind.
	  </para>
	</chapter>

	<chapter id="relnotes:post">
		<title>Nachbereitung des Updates</title>
		<para>
			Nach dem Update müssen die neuen oder aktualisierten Join-Skripte ausgeführt werden. Dies
			kann auf zwei Wegen erfolgen: 
		</para>
		<itemizedlist>
		  <listitem>
			<para>
			  über das UMC-Modul <guimenu>Domänenbeitritt</guimenu> oder
			</para>
		  </listitem>
		  <listitem>
			<para>
			  durch Aufruf des Befehls <command>univention-run-join-scripts</command> als Benutzer <emphasis>root</emphasis>.
			</para>
		  </listitem>
		</itemizedlist>
	</chapter>

	<chapter id="relnotes:umc">
		<title>Hinweise zum Zugriff auf die Univention Management Console</title>
			<para>
				&ucsUMC; verwendet für die Darstellung der Web-Oberfläche zahlreiche Javascript- und
				CSS-Funktionen. Cookies müssen im Browser zugelassen sein. Die folgenden Browser werden
				empfohlen:
			</para>
			<itemizedlist>
				<listitem>
					<para>Chrome ab Version 33</para>
				</listitem>
				<listitem>
					<para>Firefox ab Version 24</para>
				</listitem>
				<listitem>
					<para>Internet Explorer ab Version 9 </para>
				</listitem>
				<listitem>
					<para>Safari und Safari Mobile ab Version 7</para>
				</listitem>
			</itemizedlist>
			<para>
			  Auf älteren Browsern können Darstellungs- oder Performanceprobleme auftreten.
			</para>
	</chapter>

	<chapter id="relnotes:changes">
		<title>Changelog</title>
		<para>
		  Die Changelogs mit den detaillierten Änderungsinformationen werden nur in Englisch
		  gepflegt. Aufgeführt sind die Änderungen zwischen den UCS@school-Versionen 4.1 v5 und 4.1 R2 v1. Die
		  Änderungsinformationen für vorherige Versionssprünge finden sich unter <ulink
		  url="https://docs.software-univention.de/"/>.
		</para>
		<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="changelog-ucsschool-4.1R2v1.xml" xpointer="xpointer(/chapter/section)"/>
	</chapter>
</book>
