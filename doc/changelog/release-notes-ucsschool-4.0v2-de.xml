<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE book [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	<!ENTITY % DocBookDTD PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
	<!ENTITY % entities SYSTEM "../stylesheets/macros-de.ent" >
	%extensions;
	%DocBookDTD;
	%entities;
]>
<book lang="de" id="releasenotes-4.0-de">

	<bookinfo>
 		<title>UCS@school 4.0 v2 Release Notes</title>
		<subtitle>Release Notes für die Inbetriebnahme und Aktualisierung von UCS@school 4.0 v2</subtitle>
		<legalnotice>
			<literallayout>
Version 4.0 v2
Stand: 25. Februar 2015
			</literallayout>
			<literallayout lang="">
Alle Rechte vorbehalten./ All rights reserved.
(c) 2002-2015
Univention GmbH
Mary-Somerville-Straße 1
28359 Bremen
Deutschland
feedback@univention.de
			</literallayout>
			<para>
				Jede aufgeführte Marke und jedes Warenzeichen steht im Eigentum ihrer jeweiligen eingetragenen Rechtsinhaber.
				Linux ist ein eingetragenes Warenzeichen von Linus Torvalds.
			</para>
			<para lang="en">
				The mentioned brand names and registered trademarks are owned by the respective legal owners in each case.
				Linux is a registered trademark of Linus Torvalds.
			</para>
		</legalnotice>
	</bookinfo>

	<chapter id="relnotes:prepare">
		<title>Hinweise zum Update</title>
			<para>
				Während der Aktualisierung kann es zu Ausfällen von Diensten innerhalb der Domäne
				kommen. Aus diesem Grund sollte das Update innerhalb eines Wartungsfensters
				erfolgen. Grundsätzlich wird empfohlen das Update zunächst in einer Testumgebung
				einzuspielen und zu testen. Die Testumgebung sollte dabei identisch zur
				Produktivumgebung sein. Je nach Systemgeschwindigkeit, Netzwerkanbindung und
				installierter Software kann das Update zwischen dreißig Minuten und mehreren Stunden
				dauern.
			</para>

		<section id="relnotes:order">
			<title>Empfohlene Update-Reihenfolge</title>
				<para>
					In Umgebungen mit mehr als einem UCS-System muss die Update-Reihenfolge der
					UCS-Systeme beachtet werden:
				</para>

				<para>
					Auf dem &ucsMaster; wird die maßgebliche (authoritative) Version des
					LDAP-Verzeichnisdienstes vorgehalten, die an alle übrigen LDAP-Server der
					UCS-Domäne repliziert wird. Da bei Release-Updates Veränderungen an den
					LDAP-Schemata auftreten können, muss der &ucsMaster; bei einem Release-Update immer
					als erstes System aktualisiert werden.
				</para>
		</section>
		<section id="relnotes:mix">
			<title>Mischbetrieb mit älteren UCS-Systemen</title>
				<para>
					UCS 4.0 unterstützt den Mischbetrieb mit UCS 3.2-4 bzw. UCS 3.2-5 Systemen. Aus diesem Grund müssen
					nicht alle UCS-Systeme in einem Wartungsfenster auf UCS 4.0 aktualisiert werden. Ein
					Mischbetrieb mit älteren UCS-Versionen, bspw. UCS 3.1, wird nicht unterstützt.
				</para>
		</section>
		<section id="relnotes:update">
		  <title>Hinweise zum UCS-Release-Update</title>
		  <para>
			Bei einem gleichzeitigen Release-Update von UCS 3.2 auf UCS 4.0 sollten auch die Release Notes von UCS 4.0-0 beachtet werden.
			Diese sind unter der URL <ulink url="http://docs.univention.de/release-notes-4.0-0-de.html"/> abrufbar.
		  </para>
		</section>
		<section id="relnotes:apps">
			<title>Univention App Center</title>
				<para>
					Sofern Applikationen aus dem App Center installiert sind, ist das Update erst
					dann möglich, wenn alle lokal installierten Applikationen im App Center
					verfügbar sind. Einige Applikationen werden beim Update ebenfalls auf neuere
					Versionen aktualisiert. Sollte eine Applikation noch nicht für UCS 4.0 verfügbar sein,
					kann der Zeitpunkt der Veröffentlichung beim Applikationshersteller nachgefragt werden.
				</para>
				<para>
					Falls &ucsUCC; 1.0 im Einsatz ist und ein Update auf &ucsUCC; 2.0 noch nicht
					erfolgen soll, so sollte vor dem Update auf UCS 4.0 auf die letzte verfügbare
					&ucsUCC; 1.0 Version aktualisiert werden. Dies kann mit dem folgenden Befehlen
					durchgeführt werden:
					<programlisting language="sh">
eval "$(ucr shell version/version version/patchlevel)"
univention-add-app ucc_20140115
univention-upgrade --updateto $version_version-$version_patchlevel
					</programlisting>
					Eine detaillierte Übersicht zu den Änderungen ist in den UCC 1.0 rev3 Release
					Notes beschrieben:
					<ulink url="http://download.univention.de/doc/release-notes-ucc-1.0-rev3.pdf"/>.
				</para>
		</section>
		<section id="relnotes:samba">
			<title>Ablösung von Windows NT DC Funktionalität</title>
				<para>
					Die Verwendung von Windows NT Domänendiensten, die klassisch durch Samba 3
					bereitgestellt wurden, wird mit UCS 4.0 nicht mehr empfohlen. Eine Auswahl der
					Windows NT Domänendienste ist deshalb während der Installation von UCS und durch
					das App Center nicht mehr vorgesehen. Es wird empfohlen auf die Active Directory
					Domänendienste von UCS (Samba 4) zu migrieren. Die Migration ist im Univention
					Wiki dokumentiert:
					<ulink url="http://wiki.univention.de/index.php?title=Migration_from_Samba_3_to_Samba_4"/>.
				</para>
		</section>
		<section id="relnotes:32bit">
			<title>UCS-Installations-DVDs nur noch als 64-Bit-Variante</title>
				<para>
					UCS-Installations-DVSs werden ab UCS 4 nur noch für 64-Bit-Archtitekturen
					bereitgestellt. Vorhandene 32-Bit UCS 3 Systeme können weiterhin über das Online
					Repository oder über Update-DVDs auf UCS 4 aktualisiert werden. Die
					32-Bit-Archtitektur wird für die gesamte UCS 4-Maintenance noch unterstützt.
				</para>
		</section>
		<section id="relnotes:umc-policy">
			<title>UMC-Berechtigungen für UCS@school Benutzer</title>
			<para>
				Beim Anlegen von neuen Schulen wird nun automatisch die UMC-Richtlinie
				<uri>default-umc-users</uri> an die Gruppe <systemitem class="groupname">Domain Users <replaceable>OU-NAME</replaceable></systemitem> angehängt.
				Diese Richtlinie ermöglicht Benutzern, ihr eigenes Passwort über die Univention Management Console (UMC) zu verändern sowie die
				Single-Sign-On-Technik von UMC zu benutzen.
				Das Verhalten kann über die &ucsUCRV; <envar>ucsschool/import/attach/policy/default-umc-users</envar>
				gesteuert werden.
			</para>
		</section>
		<section id="relnotes:usernamelength">
		  <title>Benutzernamen</title>
		  <para>
			Microsoft Windows unterstützt Benutzernamen bis zu einer Länge von 20 Zeichen. Ist der
			Benutzername länger, kann es zu Anmeldeproblemen an Windows-Systemen kommen.  Um diese Probleme zu
			vermeiden, beschränken die UMC-Module <emphasis>Benutzer (Schulen)</emphasis> und
			<emphasis>CSV-Import</emphasis> jetzt die maximale Länge von Benutzernamen.  Da für Prüfungsbenutzer
			des Klassenarbeitsmodus ein Präfix (<literal>exam-</literal>) vor den eigentlichen Benutzernamen
			angefügt wird, werden Benutzernamen in der Standardeinstellung auf 15 Zeichen limitiert.  Diese
			Beschränkung kann über das Setzen der UCR-Variable
			<envar>ucsschool/ldap/check/username/lengthlimit</envar> auf <literal>false</literal> deaktiviert
			werden.
		  </para>
		  <para>
			Auf Neuinstallationen werden ab sofort im UMC-Modul <emphasis>CSV-Import</emphasis>
			automatisch generierte Benutzernamen aus den ersten 5 Zeichen des Vornamens und den ersten 5 Zeichen
			des Nachnamens generiert, die durch einen Punkt getrennt sind. Das neue Verhalten kann auf
			aktualisierten Systemen durch das manuelle Setzen der UCR-Variable
			<envar>ucsschool/csvimport/username/generation/firstname_lastname</envar> auf
			<literal>false</literal> aktiviert werden.
		  </para>
		</section>
	</chapter>

	<chapter id="relnotes:preparations">
	  <title>Vorbereitung von Installation und Update</title>
	  <para>
		Es sollte geprüft werden, ob ausreichend Festplattenplatz verfügbar ist. Eine
		Standard-Installation benötigt min. 6 GB Speicherplatz. Das Update benötigt je nach Umfang
		der vorhanden Installation mindestens 1 GB weiteren Speicherplatz zum Herunterladen und
		Installieren der Pakete.
	  </para>

	  <para>
		Für das Update sollte eine Anmeldung auf der lokalen Konsole des Systems mit dem Benutzer
		<emphasis>root</emphasis> durchgeführt und das Update dort gestartet werden. Alternativ
		kann das Update über &ucsUMC; durchgeführt werden.
	  </para>

	  <para>
		Eine Remote-Aktualisierung über SSH wird nicht empfohlen, da dies beispielsweise bei
		Unterbrechung der Netzverbindung zum Abbruch des Update-Vorgangs und zu einer
		Beeinträchtigung des Systems führen kann. Sollte dennoch eine Aktualisierung über eine
		Netzverbindung durchgeführt werden, ist sicherzustellen, dass das Update bei Unterbrechung
		der Netzverbindung trotzdem weiterläuft. Hierfür können beispielsweise die Tools
		<command>screen</command> oder <command>at</command> eingesetzt werden, die auf allen
		Systemrollen installiert sind.
	  </para>
	</chapter>

	<chapter id="relnotes:post">
		<title>Nachbereitung des Updates</title>
		<para>
			Nach dem Update müssen die neuen oder aktualisierten Join-Skripte ausgeführt werden. Dies
			kann auf zwei Wegen erfolgen: 
		</para>
		<itemizedlist>
		  <listitem>
			<para>
			  über das UMC-Modul <guimenu>Domänenbeitritt</guimenu> oder
			</para>
		  </listitem>
		  <listitem>
			<para>
			  durch Aufruf des Befehls <command>univention-run-join-scripts</command> als Benutzer <emphasis>root</emphasis>.
			</para>
		  </listitem>
		</itemizedlist>
		<para>
			Bei der Neuinstallation einer UCS@school 4.0 Domäne mit Samba 4 sollte nach Abschluss
			der Installation einmalig als Benutzer <emphasis>root</emphasis> das Kommando
			<command>samba-tool ntacl sysvolreset</command> auf der Kommandozeile ausgeführt werden.
		</para>
	</chapter>

	<chapter id="relnotes:umc">
		<title>Hinweise zum Zugriff auf die Univention Management Console</title>
			<para>
				&ucsUMC; verwendet für die Darstellung der Web-Oberfläche zahlreiche Javascript- und
				CSS-Funktionen. Cookies müssen im Browser zugelassen sein. Die folgenden Browser werden
				empfohlen:
			</para>
			<itemizedlist>
				<listitem>
					<para>Chrome ab Version 33</para>
				</listitem>
				<listitem>
					<para>Firefox ab Version 24</para>
				</listitem>
				<listitem>
					<para>Internet Explorer ab Version 9 </para>
				</listitem>
				<listitem>
					<para>Safari und Safari Mobile ab Version 7</para>
				</listitem>
			</itemizedlist>
			<para>
			  Auf älteren Browsern können Darstellungs- oder Performanceprobleme auftreten.
			</para>
	</chapter>

	<chapter id="relnotes:changes">
		<title>Changelog</title>
		<para>
		  Die Changelogs mit den detaillierten Änderungsinformationen werden nur in Englisch
		  gepflegt. Aufgeführt sind die Änderungen zwischen den UCS@school-Versionen 4.0 v1 und 4.0 v2. Die
		  Änderungsinformationen für vorherige Versionssprünge finden sich unter <ulink
		  url="http://docs.univention.de/"/>.
		</para>
		<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="changelog-ucsschool-4.0v2.xml" xpointer="xpointer(/chapter/section)"/>
	</chapter>

	<?dbhtml-include href="../stylesheets/piwik.html"?>
</book>
