<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE book [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	<!ENTITY % DocBookDTD PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
	<!ENTITY % entities SYSTEM "../stylesheets/macros-de.ent" >
	%extensions;
	%DocBookDTD;
	%entities;
]>
<book lang="de" id="errata-changelog-4.1-de">

	<bookinfo>
 		<title>UCS@school 4.1 R2 v9 Changelog</title>
		<!-- <subtitle>Changelog für das Update von UCS@school 4.1 R2 v8 nach 4.1 R2 v9</subtitle> -->
		<legalnotice>
			<literallayout>
Version 4.1 R2 v9
Stand: 11. December 2016
			</literallayout>
			<literallayout lang="">
Alle Rechte vorbehalten./ All rights reserved.
(c) 2002-2016
Univention GmbH
Mary-Somerville-Straße 1
28359 Bremen
Deutschland
feedback@univention.de
			</literallayout>
			<para>
				Jede aufgeführte Marke und jedes Warenzeichen steht im Eigentum ihrer jeweiligen eingetragenen Rechtsinhaber.
				Linux ist ein eingetragenes Warenzeichen von Linus Torvalds.
			</para>
			<para lang="en">
				The mentioned brand names and registered trademarks are owned by the respective legal owners in each case.
				Linux is a registered trademark of Linus Torvalds.
			</para>
		</legalnotice>
	</bookinfo>

	<chapter id="changelog:main">
		<title>&ucsUAS;-Update</title>
		<para>
			Dieses Dokument enthält die Changelogs mit den detaillierten Änderungsinformationen zum Update von &ucsUAS; von Version 4.1 R2 v8 nach 4.1 R2 v9.
			Sofern notwendig, werden wichtige Hinweise zum Update in einem separaten Abschnitt behandelt. Die Changelogs werden nur in Englisch
			gepflegt. Die Änderungsinformationen für vorherige Versionssprünge finden sich unter <ulink	url="https://docs.software-univention.de/"/>.
		</para>

		<section id="changelog:prepare">
			<title>Generelle Hinweise zum Update</title>
			<para>
				Während der Aktualisierung kann es zu Ausfällen von Diensten innerhalb der Domäne
				kommen. Aus diesem Grund sollte das Update innerhalb eines Wartungsfensters
				erfolgen. Grundsätzlich wird empfohlen das Update zunächst in einer Testumgebung
				einzuspielen und zu testen. Die Testumgebung sollte dabei identisch zur
				Produktivumgebung sein.
			</para>
		</section>

		<section id="changelog:changelogs" lang="en">
			<title>Changelog</title>
						<section id="changelog:ucsschool:ucs-school-old-homedirs" lang="en">
				<title>Source package ucs-school-old-homedirs</title>
				<itemizedlist>
					<listitem><simpara>Code cleanup of the listener module. As the univention-directory-listener is now aware of OU changes, the listener module now also backups or removes home directories of users that are moved to another school (<u:bug>41989</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-internetrules" lang="en">
				<title>Source package ucs-school-umc-internetrules</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-wizards" lang="en">
				<title>Source package ucs-school-umc-wizards</title>
				<itemizedlist>
					<listitem><simpara>The error handling regarding non-existing objects has been improved (<u:bug>41229</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-italc" lang="en">
				<title>Source package ucs-school-italc</title>
				<itemizedlist>
					<listitem><simpara>A segfault in the UMC module <guimenu>Computer room</guimenu> has been fixed which could occur during a reconnection of a client (<u:bug>43044</u:bug>).</simpara></listitem>

					<listitem><simpara>A segfault in the UMC module <guimenu>Computer room</guimenu> has been fixed which occurred during creation of a screenshot after changing the Windows client's screen resolution (<u:bug>43051</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-distribution" lang="en">
				<title>Source package ucs-school-umc-distribution</title>
				<itemizedlist>
					<listitem><simpara>If a cache directory already exists an error message will not be shown anymore (<u:bug>41252</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-webproxy" lang="en">
				<title>Source package ucs-school-webproxy</title>
				<itemizedlist>
					<listitem><simpara>The squidguard configuration is only written for groups and users belonging to the schools of the specific server. This decreases the system load (<u:bug>41749</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-exam" lang="en">
				<title>Source package ucs-school-umc-exam</title>
				<itemizedlist>
					<listitem><simpara>School users stored outside of any OU can now participate in school exams (<u:bug>41568</u:bug>).</simpara></listitem>

					<listitem><simpara>Don't log an error message if the exam user is not yet replicated (<u:bug>41562</u:bug>).</simpara></listitem>

					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

					<listitem><simpara>Each exam user now gets a unique home directory containing a time stamp and is placed (in default configuration) in <uri>/home/$OU/schueler/exam-homes/$UID.$TIMESTAMP</uri>. This prevents access problems with orphaned home directories of previous exam runs. (<u:bug>37955</u:bug>).</simpara></listitem>

					<listitem><simpara>A problem with the exam status of a computer room has been fixed. If the UMC module <guimenu>Computer room</guimenu> had been opened before starting a new exam and the exam room settings were changed via the previously opened <guimenu>Computer room</guimenu>, the exam was terminated mistakenly and the exam user accounts were not removed (<u:bug>40901</u:bug>).</simpara></listitem>

					<listitem><simpara>When starting the exam mode, the user accounts of the selected groups are duplicated as new exam users. Mistakenly the LDAP attributes <property>ucsschoolRecordUID</property> and <property>ucsschoolSourceUID</property> have been duplicated, too, which caused error messages when using the &ucsUAS; import scripts <command>ucs-school-user-import</command> or <command>import_user</command>. Starting from this release, these two LDAP attributes are no longer duplicated (<u:bug>43045</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-printermoderation" lang="en">
				<title>Source package ucs-school-umc-printermoderation</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-installer" lang="en">
				<title>Source package ucs-school-umc-installer</title>
				<itemizedlist>
					<listitem><simpara>All connections to the UCS DC Master are now done via UMC instead of using SSH (<u:bug>41007</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-groups" lang="en">
				<title>Source package ucs-school-umc-groups</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-metapackage" lang="en">
				<title>Source package ucs-school-metapackage</title>
				<itemizedlist>
					<listitem><simpara>The &ucsUAS; meta packages maintained its own values for the UCR variable <envar>connector/s4/mapping/group/ignorelist</envar>. These values were out of sync with the values of univention-s4-connector and have been resynced to avoid rejects (<u:bug>40418</u:bug>).</simpara></listitem>

					<listitem><simpara>A (re)join is now aborted by a safety check if the version of the UCS@school app on the joining system is higher than the version of the app on the DC master. UCR variables with the prefix <envar>ucsschool/join/ignore-version-mismatch/...</envar> allow to override the safety check. Instruction on how to install differing app version can be found in the SDB article at <uri>http://sdb.univention.de/1374</uri> (<u:bug>41760</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-helpdesk" lang="en">
				<title>Source package ucs-school-umc-helpdesk</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:univention-management-console-module-selective-udm" lang="en">
				<title>Source package univention-management-console-module-selective-udm</title>
				<itemizedlist>
					<listitem><simpara>The UMC call <command>selectiveudm/create_windows_computer</command> now returns the DN of the created object. This is required to fix <u:bug>40435</u:bug>.</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-import" lang="en">
				<title>Source package ucs-school-import</title>
				<itemizedlist>
					<listitem><simpara>The function <property>UsernameHandler.format_username()</property> has been improved to not produce illegal usernames anymore (e.g. ending with a dot) (<u:bug>42478</u:bug>).</simpara></listitem>

					<listitem><simpara>Added additional log output for simpler debugging of a specific exception case during user import (<u:bug>42942</u:bug>).</simpara></listitem>

					<listitem><simpara>The configration directive <property>mandatory_attributes</property> is now honored, when checking if an email address was created. It is now only an error, if <property>email</property> is listed in <property>mandatory_attributes</property> and no email address was created (<u:bug>42503</u:bug>).</simpara></listitem>

					<listitem><simpara>The expiration date is not overriden anymore when the user object already has an expiration date set. This prevents that an import which marks users for deactivation will push the expiration date forward in time. (<u:bug>42112</u:bug>).</simpara></listitem>

					<listitem><simpara>A regression in <command>import_networks</command> has been fixed that prevented the automatic assignment of DHCP policies to new IP subnets (<u:bug>43103</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-lib" lang="en">
				<title>Source package ucs-school-lib</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

					<listitem><simpara>The internal handling of group modifications has been optimized (<u:bug>42495</u:bug>).</simpara></listitem>

					<listitem><simpara>Creation and modifications of shares which belong to classes or working groups are now performed with the host account of the school server (<u:bug>42065</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-computerroom" lang="en">
				<title>Source package ucs-school-umc-computerroom</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

					<listitem><simpara>A problem with the exam status of a computer room has been fixed. If the UMC module <guimenu>Computer room</guimenu> had been opened before starting a new exam and the exam room settings were changed via the previously opened <guimenu>Computer room</guimenu>, the exam was terminated mistakenly and the exam user accounts were not removed (<u:bug>40901</u:bug>).</simpara></listitem>

					<listitem><simpara>A segfault in the UMC module <guimenu>Computer room</guimenu> has been fixed which could occur during a reconnection of a client (<u:bug>43044</u:bug>).</simpara></listitem>

					<listitem><simpara>A segfault in the UMC module <guimenu>Computer room</guimenu> has been fixed which occurred during creation of a screenshot after changing the Windows client's screen resolution (<u:bug>43051</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-ldap-acls-master" lang="en">
				<title>Source package ucs-school-ldap-acls-master</title>
				<itemizedlist>
					<listitem><simpara>Domain Admins which are also school administrators are allowed to operate domain wide again (<u:bug>42437</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-users" lang="en">
				<title>Source package ucs-school-umc-users</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:italc" lang="en">
				<title>Source package italc</title>
				<itemizedlist>
					<listitem><simpara>A segfault in the UMC module <guimenu>Computer room</guimenu> has been fixed which could occur during a reconnection of a client (<u:bug>43044</u:bug>).</simpara></listitem>

					<listitem><simpara>A segfault in the UMC module <guimenu>Computer room</guimenu> has been fixed which occurred during creation of a screenshot after changing the Windows client's screen resolution (<u:bug>43051</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-rooms" lang="en">
				<title>Source package ucs-school-umc-rooms</title>
				<itemizedlist>
					<listitem><simpara>Proper error messages are shown when no school exists (<u:bug>42399</u:bug>).</simpara></listitem>

				</itemizedlist>
			</section>

		</section>
	</chapter>
</book>
