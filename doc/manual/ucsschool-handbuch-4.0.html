<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>UCS@school</title><link rel="stylesheet" type="text/css" href="http://docs.univention.de/css/style.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div id="header"><div id="header-left"><a href="//docs.univention.de/"><img alt="Univention documentations" src="images/univention_logo.png" /></a></div><h1 class="title"><a id="ucsschool-4.0-admin"></a>
      UCS@school
    </h1><div id="header-right"></div></div><div xml:lang="de" class="book" lang="de"><div class="titlepage"><div><h1 class="title"><a name="ucsschool-4.0-admin" id="ucsschool-4.0-admin"></a>
      UCS@school
    </h1><div align="center"><img src="images/ucsschool_logo.png" width="40%" /></div><div><h2 class="subtitle">
      Handbuch für Administratoren
    </h2></div></div><hr /></div><div class="toc"><p><strong>Inhaltsverzeichnis</strong></p><dl class="toc"><dt><span class="chapter"><a href="#introduction">1. Einführung</a></span></dt><dt><span class="chapter"><a href="#structure">2. Aufbau einer UCS@school-Umgebung</a></span></dt><dd><dl><dt><span class="section"><a href="#structure:userroles">2.1. UCS@school-Benutzerrollen</a></span></dt><dt><span class="section"><a href="#structure:distribution">2.2. Aufteilung von UCS@school</a></span></dt><dd><dl><dt><span class="section"><a href="#structure:ou:replication">2.2.1. Replikation der LDAP-Daten auf die Schul-Standorte</a></span></dt></dl></dd><dt><span class="section"><a href="#structure:edunet-vs-adminnet">2.3. Verwaltungsnetz und Edukativnetz</a></span></dt><dt><span class="section"><a href="#structure:ldap">2.4. UCS@school-Objekte im LDAP-Verzeichnisdienst</a></span></dt><dd><dl><dt><span class="section"><a href="#structure:ldap:ou">2.4.1. Struktur einer UCS@school-OU</a></span></dt><dt><span class="section"><a href="#structure:ldap:global">2.4.2. Weitere UCS@school-Objekte</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#installation">3. Installation</a></span></dt><dd><dl><dt><span class="section"><a href="#installation:single">3.1. Installation einer Single-Server-Umgebung</a></span></dt><dd><dl><dt><span class="section"><a href="#installation:single:master">3.1.1. Installation des DC Master</a></span></dt></dl></dd><dt><span class="section"><a href="#school:installation:master2">3.2. Installation einer Multi-Server-Umgebung</a></span></dt><dd><dl><dt><span class="section"><a href="#installation:multi:master">3.2.1. Installation des DC Master</a></span></dt><dt><span class="section"><a href="#installation:multi:backup">3.2.2. Installation eines DC Backup (optional)</a></span></dt><dt><span class="section"><a href="#school:installation:slave">3.2.3. Installation eines Schulservers</a></span></dt></dl></dd><dt><span class="section"><a href="#school:installation:domjoin">3.3. (Erneuter) Domänenbeitritt eines Schulservers</a></span></dt><dt><span class="section"><a href="#school:installation:migration-single2multi">3.4. Umwandlung einer Single-Server-Umgebung in eine Multi-Server-Umgebung</a></span></dt></dl></dd><dt><span class="chapter"><a href="#school:setup:umc">4. Verwaltung von Schulen über die Univention Management Console</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:schools">4.1. Verwaltung von Schulen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:schools:create">4.1.1. Anlegen von Schulen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:schools:modify">4.1.2. Bearbeiten von Schulen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:schools:delete">4.1.3. Löschen von Schulen</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:user">4.2. Verwaltung einzelner Benutzerkonten</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:user:create">4.2.1. Anlegen eines Benutzerkontos</a></span></dt><dt><span class="section"><a href="#school:setup:umc:user:modify">4.2.2. Bearbeiten eines Benutzerkontos</a></span></dt><dt><span class="section"><a href="#school:setup:umc:user:delete">4.2.3. Löschen von Benutzerkonten</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:csvimport">4.3. Pflege von Benutzerkonten über CSV-Dateien</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:csvimport:import">4.3.1. Import von CSV-Dateien</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:classes">4.4. Verwaltung von Schulklassen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:classes:create">4.4.1. Anlegen von Schulklassen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:classes:modify">4.4.2. Bearbeiten von Schulklassen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:classes:delete">4.4.3. Löschen von Schulklassen</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:computers">4.5. Verwaltung von Rechnern</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:computers:create">4.5.1. Anlegen von Rechnerkonten</a></span></dt><dt><span class="section"><a href="#school:setup:umc:computers:modify">4.5.2. Bearbeiten von Rechnerkonten</a></span></dt><dt><span class="section"><a href="#school:setup:umc:computers:delete">4.5.3. Löschen von Rechnerkonten</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#school:setup:cli">5. Verwaltung von Schulen über Importskripte</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:cli:importusers">5.1. Pflege von Benutzerkonten für Schüler, Lehrer und Mitarbeiter</a></span></dt><dt><span class="section"><a href="#school:setup:cli:classes">5.2. Import von Schulklassen</a></span></dt><dt><span class="section"><a href="#school:setup:cli:annualrotation">5.3. Vorgehen zum Schuljahreswechsel</a></span></dt><dt><span class="section"><a href="#school:schoolcreate:network:import">5.4. Skriptbasierter Import von Netzwerken</a></span></dt><dt><span class="section"><a href="#school:schoolcreate:computers">5.5. Import von Rechnerkonten für Windows-PCs</a></span></dt><dd><dl><dt><span class="section"><a href="#school:schoolcreate:computers:import">5.5.1. Skriptbasierter Import von PCs</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:cli:printers">5.6. Konfiguration von Druckern an der Schule</a></span></dt></dl></dd><dt><span class="chapter"><a href="#school:setup:generic">6. Erweiterte Konfiguration</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:generic:printmoderation">6.1. Einrichtung der Druckmoderation</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:generic:moderated-printer">6.1.1. Anlegen eines PDF-Druckers für die Druckermoderation</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:generic:windowsattributes">6.2. Windows-spezifische Benutzereinstellungen</a></span></dt><dt><span class="section"><a href="#school:setup:generic:shares">6.3. Anlegen von Freigaben</a></span></dt><dt><span class="section"><a href="#school:setup:generic:roleshares">6.4. Lehrerzugriff auf Benutzerfreigaben</a></span></dt><dt><span class="section"><a href="#school:setup:generic:schooladmins">6.5. Anlegen von Benutzerkonten für Schuladministratoren</a></span></dt><dt><span class="section"><a href="#school:setup:generic:configurehelpdesk">6.6. Konfiguration der Helpdesk-Kontaktadresse</a></span></dt></dl></dd><dt><span class="chapter"><a href="#school:windows:general">7. Integration und Verwaltung von Microsoft Windows-Clients</a></span></dt><dd><dl><dt><span class="section"><a href="#school:windows:samba">7.1. Anmeldedienste mit Samba</a></span></dt><dt><span class="section"><a href="#school:windows:shares">7.2. Server für Dateifreigaben</a></span></dt><dt><span class="section"><a href="#school:windows:samba4netlogon">7.3. Netlogon-Skripte für Samba4-Umgebung</a></span></dt><dt><span class="section"><a href="#school:windows:italc">7.4. iTALC-Installation auf Windows-Clients</a></span></dt></dl></dd><dt><span class="chapter"><a href="#module-overview">8. Übersicht über die schulspezifischen Anwendungen</a></span></dt><dd><dl><dt><span class="section"><a href="#ucsschool:moduluebersicht">8.1. Modulübersicht</a></span></dt></dl></dd><dt><span class="chapter"><a href="#school:proxy">9. Web-Proxy auf den Schulservern</a></span></dt><dt><span class="chapter"><a href="#radius">10. Authentifizierung des WLAN-Zugriffs über RADIUS</a></span></dt><dd><dl><dt><span class="section"><a href="#radius:install">10.1. Installation und Konfiguration des RADIUS-Servers</a></span></dt><dt><span class="section"><a href="#radius:config">10.2. Konfiguration der <span class="foreignphrase"><em class="foreignphrase">Access Points</em></span></a></span></dt><dt><span class="section"><a href="#radius:client">10.3. Konfiguration der zugreifenden Clients</a></span></dt><dt><span class="section"><a href="#radius:wlan">10.4. Freigabe des WLAN-Zugriffs in der Univention Management Console</a></span></dt><dt><span class="section"><a href="#radius:error">10.5. Fehlersuche</a></span></dt></dl></dd><dt><span class="chapter"><a href="#school:exam">11. Klassenarbeitsmodus</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:concept">11.1. Technische Hintergründe</a></span></dt><dt><span class="section"><a href="#school:exam:configuration">11.2. Konfiguration</a></span></dt><dt><span class="section"><a href="#school:exam:gpo">11.3. Beispiele für Gruppenrichtlinien</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:general">11.3.1. Generelle Hinweise zu Gruppenrichtlinien und Administrativen Vorlagen</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:group">11.3.2. Windows-Anmeldung im Prüfungsraum auf Mitglieder der Klassenarbeitsgruppe beschränken</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:computer">11.3.2.1. Anwendungsbereich der GPO auf Klassenarbeitscomputer einschränken</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:user">11.3.2.2. Einschränkung der Windows-Anmeldung auf Klassenarbeitsbenutzerkonten und Lehrer</a></span></dt></dl></dd><dt><span class="section"><a href="#school:exam:gpo:usb">11.3.3. Zugriff auf USB-Speicher und Wechselmedien einschränken</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:usb:xp">11.3.3.1. Zugriff auf USB-Speicher an Windows XP einschränken</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:usb:xp:drivers">11.3.3.2. Installation neuer Gerätetreiber für USB-Speicher an Windows XP verbieten</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:usb:w7">11.3.3.3. Zugriff auf USB-Speicher an Windows 7 einschränken</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:usb:w7:drivers">11.3.3.4. Installation neuer Gerätetreiber für USB-Speicher an Windows 7 Clients verbieten</a></span></dt></dl></dd><dt><span class="section"><a href="#school:exam:gpo:proxy">11.3.4. Vorgabe von Proxy-Einstellungen für den Internetzugriff</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:proxy:ie">11.3.4.1. Proxy-Vorgabe für den Internet Explorer</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:proxy:ie:lock">11.3.4.2. Sperrung der Proxyeinstellung für den Internet Explorer</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:proxy:chrome">11.3.4.3. Proxy-Vorgabe für Google Chrome</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:proxy:firefox">11.3.4.4. Proxy-Vorgabe für Mozilla Firefox</a></span></dt></dl></dd><dt><span class="section"><a href="#school:exam:gpo:cmd">11.3.5. Zugriff auf bestimmte Programme einschränken</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:cmd:cli">11.3.5.1. Kommandoeingabeaufforderung deaktivieren</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:cmd:regedit">11.3.5.2. Zugriff auf Windows-Registry-Editor deaktivieren</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:cmd:srp">11.3.5.3. Konfiguration von <span class="foreignphrase"><em class="foreignphrase">Software Restriction Policies</em></span> (SRP)</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#school:ucc:general">12. Integration und Verwaltung von Univention Corporate Client-Systemen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:ucc:installation">12.1. Installation von UCC</a></span></dt><dt><span class="section"><a href="#school:ucc:configuration">12.2. Konfigurationseinstellungen für UCC-Systeme</a></span></dt><dt><span class="section"><a href="#school:ucc:new-ucc-clients">12.3. Ausrollen von neuen UCC-Systemen</a></span></dt></dl></dd><dt><span class="chapter"><a href="#import">13. Pre- und Post-Hook-Skripte für den Import</a></span></dt><dd><dl><dt><span class="section"><a href="#import:extend">13.1. Erweiterung von Importdateien</a></span></dt><dt><span class="section"><a href="#import:marketplace">13.2. Beispiel-Hook-Skript: automatische Erstellung der Marktplatzfreigabe</a></span></dt><dt><span class="section"><a href="#import:dhcp">13.3. Beispiel-Hook-Skript: Setzen des LDAP-Containers für DHCP-Objekte</a></span></dt></dl></dd><dt><span class="chapter"><a href="#school:performance:general">14. Hinweise für große UCS@school-Umgebungen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:performance:scaling">14.1. Skalierung von UCS@school Samba 4 Umgebungen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:performance:additionalMemberserver">14.1.1. Installation zusätzlicher Memberserver</a></span></dt><dt><span class="section"><a href="#school:performance:secondarySamba4DC">14.1.2. Installation zusätzlicher Anmeldeserver</a></span></dt></dl></dd><dt><span class="section"><a href="#school:performance:backup-share">14.2. Verzeichnisfreigabe für backup-Heimatverzeichnisse</a></span></dt><dd><dl><dt><span class="section"><a href="#idp72929360">14.2.1. </a></span></dt></dl></dd></dl></dd><dt><span class="bibliography"><a href="#bibliography">Literaturverzeichnis</a></span></dt></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="introduction"><a class="anchor" href="#introduction" title="Link to this section">§</a>Kapitel 1. Einführung</h1></div></div></div><p>
	UCS@school ist eine auf Univention Corporate Server (UCS) basierende IT-Komplettlösung
	mit zahlreichen Zusatzkomponenten für Nutzung, Betrieb und Management
	von Informationstechnologie (IT) in Schulen. UCS@school vereint die
	Stärken des Enterprise-Betriebssystems UCS im Bereich einfacher und
	zentraler Verwaltung von IT-Umgebungen mit den Vorteilen klassischer
	Schulsoftware für den Computereinsatz im Unterricht.
  </p><p>
	UCS ist die ideale Plattform für Schulen und Schulträger, um IT
	gemeinsam mit den dazu gehörenden Service- und Supportprozessen für
	eine oder mehrere Schulen zentral und wirtschaftlich
	bereitzustellen. UCS@school ergänzt UCS um zahlreiche Komponenten für
	den IT-Betrieb und den IT-gestützten Unterricht in der Schule.
  </p><p>
	Die Univention Management Console ermöglicht die zentrale, web-basierte Verwaltung aller
	Domänendaten (z.B. Benutzer, Gruppen, Rechner, DNS/DHCP). Die
	Speicherung der Daten erfolgt in einem Verzeichnisdienst auf Basis von
	OpenLDAP. Da viele Schuldaten primär in schulträgerspezifischen Systemen
	erfasst werden, bringt UCS@school unter anderem eine CSV-Datei-basierte
	Importschnittstelle für Schülerdaten mit.
  </p><p>
	Um den IT-gestützten Unterricht zu ergänzen, wurde die Benutzeroberfläche der
	Univention Management Console an die Anforderungen von Lehrern
	angepasst. Dies ermöglicht zum Beispiel die Organisation der
	Unterrichtsvorbereitung und Klassenraumplanung sowie die temporäre Sperrung des
	Internetzugangs für ausgewählte Computer. Lehrern ist es auch möglich,
	den Bildschirminhalt eines Schüler-PCs einzusehen, via Netzwerk
	individuelle Hilfestellungen zu geben oder einen beliebigen Desktop
	auf alle anderen Computer in der Klasse oder per Beamer zu
	übertragen. Auch bei im Schulalltag wiederkehrenden Tätigkeiten, wie
	dem Zurücksetzen von Passwörtern für Schüler-Benutzerkonten, werden
	Lehrer unterstützt.
  </p><p>
	Für die Bedienung der UCS@school-spezifischen Module der Univention Management Console
	steht ein zusätzliches Dokument [<a href="#ucs-school-teacher" class="biblioref">ucs-school-teacher</a>] bereit.
  </p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="structure"><a class="anchor" href="#structure" title="Link to this section">§</a>Kapitel 2. Aufbau einer UCS@school-Umgebung</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#structure:userroles">2.1. UCS@school-Benutzerrollen</a></span></dt><dt><span class="section"><a href="#structure:distribution">2.2. Aufteilung von UCS@school</a></span></dt><dd><dl><dt><span class="section"><a href="#structure:ou:replication">2.2.1. Replikation der LDAP-Daten auf die Schul-Standorte</a></span></dt></dl></dd><dt><span class="section"><a href="#structure:edunet-vs-adminnet">2.3. Verwaltungsnetz und Edukativnetz</a></span></dt><dt><span class="section"><a href="#structure:ldap">2.4. UCS@school-Objekte im LDAP-Verzeichnisdienst</a></span></dt><dd><dl><dt><span class="section"><a href="#structure:ldap:ou">2.4.1. Struktur einer UCS@school-OU</a></span></dt><dt><span class="section"><a href="#structure:ldap:global">2.4.2. Weitere UCS@school-Objekte</a></span></dt></dl></dd></dl></div><p>
		Univention Corporate Server (UCS) bietet ein plattformübergreifendes Domänenkonzept mit
		einem gemeinsamen Vertrauenskontext zwischen Linux- und
		Windows-Systemen. Innerhalb einer UCS-Domäne ist ein Benutzer mit seinem
		Benutzernamen und Passwort auf allen Systemen bekannt, und kann für
		ihn freigeschaltete Dienste nutzen.
	</p><p>
		UCS@school baut auf das flexible Domänenkonzept von UCS auf und integriert
		einige schulspezifische Erweiterungen.
	</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="structure:userroles"><a class="anchor" href="#structure:userroles" title="Link to this section">§</a>2.1. UCS@school-Benutzerrollen<a href="https://www.univention.de/produkt-feedback/?manual=structure:userroles" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			In einer Standard-UCS-Installation sind alle Benutzerkonten vom selben
			Typ und unterscheiden sich nur anhand ihrer Gruppenmitgliedschaften.
			In einer UCS@school-Umgebung ist jeder Benutzer einer <span class="emphasis"><em>Rolle</em></span>
			zugeordnet, aus der sich Berechtigungen in der UCS@school-Verwaltung
			ergeben:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
					<span class="emphasis"><em>Schülern</em></span> wird in der Standardeinstellung kein Zugriff auf
					die Administrationsoberflächen gewährt. Sie können sich mit ihren Benutzerkonten
					nur an Windows-Clients anmelden und die für sie freigegebenen
					Dateifreigaben und Drucker verwenden.
				</li><li class="listitem">
					<span class="emphasis"><em>Lehrer</em></span> erhalten gegenüber Schülern zusätzliche
					Rechte, um z.B. auf UMC-Module zuzugreifen, die das
					Zurücksetzen von Schülerpasswörtern oder das Auswählen von
					Internetfiltern ermöglichen. Die einem Lehrer angezeigten Module können
					individuell definiert werden, Lehrer erhalten in der Regel aber nur Zugriff
					auf einen Teil der von der Univention Management Console bereitgestellten Funktionen.
				</li><li class="listitem">
					Vollen Zugriff auf die Administrationsfunktionen von UCS@school
					erhalten die <span class="emphasis"><em>Schuladministratoren</em></span>. Sie können z.B. Computer zu
					Rechnergruppen zusammenfassen, neue Internetfilter definieren oder
					auch Lehrerpasswörter zurücksetzen.
				</li><li class="listitem">
					Der Benutzertyp <span class="emphasis"><em>Mitarbeiter</em></span> kommt häufig im Umfeld der
					Schulverwaltung zum Einsatz. Er besitzt in der Standardeinstellung
					ähnliche Zugriffsrechte wie ein Schülerkonto, kann jedoch mit
					zusätzlichen Rechten ausgestattet werden (siehe auch <a class="xref" href="#structure:edunet-vs-adminnet" title="2.3. Verwaltungsnetz und Edukativnetz">Abschnitt 2.3</a>).
				</li><li class="listitem">
					Die <span class="emphasis"><em>System-Administratoren</em></span> sind Mitarbeiter mit vollem
					administrativen Zugriff auf die UCS@school-Systeme, also beispielweise
					ein IT-Dienstleister, der die Schule beim Betrieb der Server
					unterstützt.
				</li></ul></div><p>
			Überschneidungen der Benutzertypen Lehrer, Mitarbeiter und
			Schuladministrator sind möglich. So können z.B. Benutzerkonten
			erstellt werden, die eine Nutzung des Kontos als Lehrer und
			Mitarbeiter ermöglichen.
		</p><p>
			Für die Pflege der Benutzerkonten stehen mehrere Möglichkeiten zur
			Verfügung. Die Bearbeitung von Benutzerkonten kann über die Univention Management Console erfolgen.
			Darüber hinaus bringt UCS@school flexible Importskripte mit. Sie lesen
			Tabulator-getrennte Importdateien ein, die üblicherweise aus
			vorhandenen Schulverwaltungssystemen extrahiert werden können und so
			einen automatisierten Abgleich ermöglichen.
		</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="structure:distribution"><a class="anchor" href="#structure:distribution" title="Link to this section">§</a>2.2. Aufteilung von UCS@school<a href="https://www.univention.de/produkt-feedback/?manual=structure:distribution" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		  Für den Betrieb von UCS@school an einer einzelnen Schule reicht ein Serversystem aus
		  (dieses wird dann in der UCS-Systemrolle Domänencontroller Master installiert). Ein solches Szenario wird
		  nachfolgend auch als Single-Server-Umgebung bezeichnet.
		</p><p>
		  Für Schulträger oder große Schulen mit mehreren Standorten oder mit einer großen Anzahl
		  an Clients, kann die UCS@school-Installation auf mehrere Server verteilt werden
		  (Multi-Server-Umgebung). Dabei wird ein Domänencontroller Master als der primäre Server zur Datenverwaltung
		  genutzt. Für jeden Schul-Standort wird dann ein Domänencontroller Slave installiert, nachfolgend als
		  <span class="emphasis"><em>Schulserver</em></span> bezeichnet.
		</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
			UCS@school unterstützt derzeit nur einen Schulserver pro Standort. Darüber hinaus können
			weitere UCS-Systeme mit Samba 4 installiert und an den Schul-Standorten betrieben
			werden. Diese zusätzlichen UCS-Systeme können jedoch nicht in Verbindung mit
			UCS@school-Funktionalitäten eingesetzt werden; z.B. wird das Sperren von Dateifreigaben über die
			UCS@school-UMC-Module auf den zusätzlichen UCS-Systemen nicht unterstützt. Zusätzlich müssen die
			Rechnerobjekte der zusätzlichen UCS-Systeme vor dem Domänenbeitritt unterhalb der
			Organisationseinheit (OU) der Schule angelegt werden (siehe auch <a class="xref" href="#structure:ou:replication" title="2.2.1. Replikation der LDAP-Daten auf die Schul-Standorte">Abschnitt 2.2.1</a>). Die Einrichtung zusätzlicher UCS-Systeme wird in <a class="xref" href="#school:performance:scaling" title="14.1. Skalierung von UCS@school Samba 4 Umgebungen">Abschnitt 14.1</a> beschrieben.
		  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="structure:ou:replication"><a class="anchor" href="#structure:ou:replication" title="Link to this section">§</a>2.2.1. Replikation der LDAP-Daten auf die Schul-Standorte<a href="https://www.univention.de/produkt-feedback/?manual=structure:ou:replication" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
				Ein Schulserver bietet alle an einem Standort verwendeten Dienste an. Die
				Anfragen an den LDAP-Verzeichnisdienst erfolgen dabei gegen einen
				lokalen LDAP-Server, der automatisch gegen den Domänencontroller Master fortlaufend repliziert
				und aktualisiert wird. Dies gewährleistet einen reibungslosen Betrieb,
				auch wenn die Verbindung zwischen Schulserver und dem
				zentralen Domänencontroller Master einmal ausfallen sollte.
			</p><p>
				Aus Sicherheitsgründen speichern die Schulservern nur eine Teilreplikation
				des LDAP-Verzeichnisses. Nur die für den Schulserver relevanten Teile
				(z.B. Benutzer und Gruppen der jeweiligen Schule) sowie die globalen
				Strukturen des LDAP-Verzeichnisses werden auf den Schul-Server
				übertragen.
			</p><p>
				Zur Unterteilung der im LDAP-Verzeichnisdienst hinterlegten Objekte und
				Einstellungen wird für jede Schule im LDAP-Verzeichnis eine eigene
				<span class="emphasis"><em>Organisationseinheit</em></span> (OU) angelegt. Unterhalb dieser OU
				werden Container für z.B. Benutzerobjekte, Gruppen, DHCP-Einstellungen, 
				usw. angelegt. Diese OUs werden direkt unterhalb
				der LDAP-Basis angelegt. 
			</p><p>
			  Seit UCS@school 3.2 R2 wird zwischen dem Namen einer Schule und dem Schulkürzel
			  (OU-Namen) unterschieden.  Der Name einer Schule kann frei gewählt werden und wird primär in den
			  UMC-Modulen angezeigt (in anderem Kontexten wird dieser Wert häufig auch als Anzeigename
			  bezeichnet).  Der eigentliche Name der Organisationseinheit (OU) wird nachfolgend auch als
			  Schulkürzel bezeichnet.  Das Schulkürzel sollte ausschließlich aus Buchstaben, Ziffern oder dem
			  Bindestrich bestehen, da es unter anderem die Grundlage für Gruppen-, Freigabe- und Rechnernamen
			  bildet. Häufig kommen hier Schulnummern wie <span class="emphasis"><em>340</em></span> oder zusammengesetzte Kürzel
			  wie <em class="wordasword">g123m</em> oder <em class="wordasword">gymmitte</em> zum Einsatz.
			</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="structure:edunet-vs-adminnet"><a class="anchor" href="#structure:edunet-vs-adminnet" title="Link to this section">§</a>2.3. Verwaltungsnetz und Edukativnetz<a href="https://www.univention.de/produkt-feedback/?manual=structure:edunet-vs-adminnet" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			Die Netze für den edukativen Bereich und für die Schulverwaltung
			müssen aus organisatorischen oder rechtlichen Gründen in der Regel logisch und/oder physikalisch getrennt
			werden. In UCS@school kann daher zusätzlich zur Unterteilung in
			Organisationseinheiten (OU) noch eine Unterteilung der OU in
			Verwaltungsnetz und Edukativnetz erfolgen.
		</p><p>
		  Diese optionale Unterteilung findet auf Ebene der Serversysteme bzw. der Netzwerksegmente
		  statt und sieht vor, dass in einer Schule ein Schulserver für das edukative Netz und ein Schulserver für
		  das Verwaltungsnetz betrieben wird. Diese Server verwenden für ihre Client-Systeme (Schülerrechner
		  bzw. Rechner der Verwaltung) jeweils ein eigenes IP-Subnetz.
		</p><p>
		  Auch bei der Unterteilung in Verwaltungsnetz und Edukativnetz findet eine selektive
		  Replikation statt, wie sie in <a class="xref" href="#structure:ou:replication" title="2.2.1. Replikation der LDAP-Daten auf die Schul-Standorte">Abschnitt 2.2.1</a> beschrieben
		  wird. Zusätzlich wird jedoch bei der Replikation der Benutzerkonten anhand ihrer Benutzerrolle(n)
		  unterschieden. Auf den Schulserver des edukativen Netzes werden die Benutzerkonten mit den
		  Benutzerrollen <span class="emphasis"><em>Schüler</em></span>, <span class="emphasis"><em>Lehrer</em></span>,
		  <span class="emphasis"><em>Schuladministrator</em></span> und <span class="emphasis"><em>System-Administrator</em></span>
		  repliziert. Auf den Schulserver der Verwaltung werden die Benutzerkonten mit den Benutzerrollen
		  <span class="emphasis"><em>Mitarbeiter</em></span>, <span class="emphasis"><em>Schuladministrator</em></span> und
		  <span class="emphasis"><em>System-Administrator</em></span> repliziert. Die gemeinsame Verwendung der Benutzerrollen
		  <span class="emphasis"><em>Lehrer</em></span> und <span class="emphasis"><em>Mitarbeiter</em></span> für ein Benutzerkonto ist möglich,
		  z.B. für Benutzerkonten der Schulleitung, die neben ihrer Verwaltungstätigkeit auch lehrend tätig
		  sind.
		</p><p>
		  Auf den Schulservern des Verwaltungsnetzes werden keine speziellen Dienste oder UMC-Module
		  angeboten. Sie dienen den Verwaltungsrechnern hauptsächlich als Anmelde-, Druck- und Dateiserver.
		  Die Benutzerkonten mit der Benutzerrolle <span class="emphasis"><em>Mitarbeiter</em></span> haben entsprechend keinen
		  Zugriff auf die UCS@school-spezifischen UMC-Module des edukativen Netzes. Im Gegensatz zu den
		  Benutzern des edukativen Netzes werden für die Benutzer des Verwaltungsnetzes keine automatischen
		  Einstellungen für Windows-Profilverzeichnis oder Windows-Heimatverzeichnis gesetzt.
		</p><p>
		  Die Installationsschritte für Schulserver des Edukativnetzes und des Verwaltungsnetzes sind sehr ähnlich.
		  In <a class="xref" href="#school:installation:slave" title="3.2.3. Installation eines Schulservers">Abschnitt 3.2.3</a> werden diese ausführlich beschrieben.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
			Die Einrichtung eines Verwaltungsnetzes ist in einer Single-Server-Umgebung nicht
			möglich. Hier werden alle Benutzerkonten auf dem Domänencontroller Master
			vorgehalten.
		  </p></div><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
			Voraussetzung für diese Unterteilung ist eine physikalische Trennung der beiden
			Netzwerksegmente. D.h. das edukative Netz und das Verwaltungsnetz können nicht gleichzeitig im
			gleichen Netzwerksegment verwendet werden.
		  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="structure:ldap"><a class="anchor" href="#structure:ldap" title="Link to this section">§</a>2.4. UCS@school-Objekte im LDAP-Verzeichnisdienst<a href="https://www.univention.de/produkt-feedback/?manual=structure:ldap" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		UCS@school erstellt zur Verwaltung der schulspezifischen Erweiterungen zusätzliche Strukturen
		im LDAP-Verzeichnisdienst. Im Folgenden werden einige Funktionen dieser Container und Objekte genauer
		vorgestellt.
	  </p><p>
		Wie bereits im <a class="xref" href="#structure:ou:replication" title="2.2.1. Replikation der LDAP-Daten auf die Schul-Standorte">Abschnitt 2.2.1</a> beschrieben wurde, wird für jede
		Schule direkt unterhalb der LDAP-Basis eine eigene Organisationseinheit (OU) angelegt. Unterhalb
		dieser OU werden Container für Benutzerobjekte, Gruppen und weitere UCS@school-relevante Objekte
		erstellt. Darüber hinaus werden einige neue Objekte in den bereits bestehenden UCS-Strukturen des
		LDAP-Verzeichnisses angelegt.
	  </p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="structure:ldap:ou"><a class="anchor" href="#structure:ldap:ou" title="Link to this section">§</a>2.4.1. Struktur einer UCS@school-OU<a href="https://www.univention.de/produkt-feedback/?manual=structure:ldap:ou" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Der Aufbau einer Schul-OU wird nachfolgend am Beispiel der Schul-OU
		  <code class="uri">gymmitte</code> in einem LDAP-Verzeichnis mit der LDAP-Basis
		  <code class="uri">dc=example,dc=com</code> erläutert.
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri">cn=computers,ou=gymmitte,dc=example,dc=com</code></p><p>
			  In diesem Container werden Rechnerobjekte abgelegt, die von der OU verwaltet
			  werden. Dies können z.B. Objekte vom Typ <span class="emphasis"><em>Windows-Client</em></span> oder
			  <span class="emphasis"><em>IP-Managed-Client</em></span> sein. Die Rechnerobjekte für Schulserver (Verwaltungs- und
			  Edukativnetz) werden in dem Untercontainer
			  <code class="uri">cn=dc,cn=server,cn=computers,ou=gymmitte,dc=example,dc=com</code> abgelegt.
			</p></li><li class="listitem"><p><code class="uri">cn=examusers,ou=gymmitte,dc=example,dc=com</code></p><p>
			  Dieser Container enthält temporäre Prüfungsbenutzer, die für den Klassenarbeitsmodus
			  benötigt werden. Sie werden zu Beginn bzw. nach Beendigung des Klassenarbeitsmodus automatisch
			  erstellt bzw. wieder gelöscht.
			</p></li><li class="listitem"><p><code class="uri">cn=groups,ou=gymmitte,dc=example,dc=com</code></p><p><code class="uri">cn=raeume,cn=groups,ou=gymmitte,dc=example,dc=com</code></p><p><code class="uri">cn=schueler,cn=groups,ou=gymmitte,dc=example,dc=com</code></p><p><code class="uri">cn=klassen,cn=schueler,cn=groups,ou=gymmitte,dc=example,dc=com</code></p><p>
			  In den aufgeführten Containern werden Gruppenobjekte für UCS@school vorgehalten. Im
			  Container <code class="uri">cn=groups</code> werden automatisch einige Standard-Gruppen angelegt, die
			  alle Schüler, Lehrer bzw. Mitarbeiter der Schul-OU als Gruppenmitglied enthalten. Diese Gruppen
			  werden bei der Verwendung der UCS@school-Import-Mechanismen automatisch gepflegt. Beim Import von
			  Benutzern über die Importskripte oder über die UMC-Module wird den Benutzern je nach ihrer
			  Benutzerrolle eine der drei Gruppen automatisch als primäre Gruppe zugeordnet. Die Namen der drei
			  Gruppen lauten <code class="systemitem">schueler-gymmitte</code>, <code class="systemitem">lehrer-gymmitte</code> und
			  <code class="systemitem">mitarbeiter-gymmitte</code>.
			</p><p>
			  Gruppenobjekte für Schulklassen müssen im Untercontainer
			  <code class="uri">cn=klassen</code> abgelegt werden, damit diese von UCS@school korrekt als Klassengruppe
			  erkannt werden. Im übergeordneten Container <code class="uri">cn=schueler</code> werden von den
			  UCS@school-Modulen Gruppenobjekte für klassenübergreifende Arbeitsgruppen (z.B. Musik-AG) gepflegt,
			  die z.B. über das UMC-Modul <span class="guimenu">Arbeitsgruppen verwalten</span> erstellt werden.
			</p><p>
			  Beim Anlegen von Räumen über das UMC-Modul <span class="guimenu">Computerräume verwalten</span>
			  werden ebenfalls Gruppenobjekte erstellt, die im Container <code class="uri">cn=raeume</code> abgelegt
			  werden. Diese Gruppenobjekte enthalten üblicherweise ausschließlich Rechnerobjekte als
			  Gruppenmitglieder.
			</p></li><li class="listitem"><p><code class="uri">cn=shares,ou=gymmitte,dc=example,dc=com</code></p><p><code class="uri">cn=klassen,cn=shares,ou=gymmitte,dc=example,dc=com</code></p><p>
			  Die beiden Container enthalten allgemeine bzw. klassenspezifische Freigabeobjekte für
			  die Schul-OU.
			</p></li><li class="listitem"><p><code class="uri">cn=users,ou=gymmitte,dc=example,dc=com</code></p><p>
			  Die Benutzerobjekte für UCS@school müssen entsprechend ihrer Benutzerrolle in einem der
			  vier Untercontainer <code class="uri">cn=schueler</code>, <code class="uri">cn=lehrer</code>,
			  <code class="uri">cn=lehrer und mitarbeiter</code>, <code class="uri">cn=mitarbeiter</code> oder
			  <code class="uri">cn=admins</code> erstellt werden.
			</p></li><li class="listitem"><p><code class="uri">cn=dhcp,ou=gymmitte,dc=example,dc=com</code></p><p><code class="uri">cn=networks,ou=gymmitte,dc=example,dc=com</code></p><p><code class="uri">cn=policies,ou=gymmitte,dc=example,dc=com</code></p><p><code class="uri">cn=printers,ou=gymmitte,dc=example,dc=com</code></p><p>
			  Die genannten Container enthalten (analog zu ihrem globalem Pendant direkt unterhalb der
			  LDAP-Basis) die DHCP-, Netzwerk-, Richtlinien- und Drucker-Objekte für die jeweilige Schul-OU.
			</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
			UCS@school unterstützt aktuell keine weitere Strukturierung der LDAP-Objekte durch
			Untercontainer oder Unter-OUs in den oben angegebenen Containern.
		  </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="structure:ldap:global"><a class="anchor" href="#structure:ldap:global" title="Link to this section">§</a>2.4.2. Weitere UCS@school-Objekte<a href="https://www.univention.de/produkt-feedback/?manual=structure:ldap:global" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Für die Steuerung von Zugriffsrechten auf UCS@school-Funktionen und das LDAP-Verzeichnis werden mit dem Erstellen einer neuen Schul-OU automatisch einige Gruppen erstellt.
		  Auch diese Gruppen werden am Beispiel der OU <em class="wordasword">gymmitte</em> in einem LDAP-Verzeichnis mit der LDAP-Basis <code class="uri">dc=example,dc=com</code> erläutert.
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="uri">cn=DC-Edukativnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p><code class="uri">cn=DC-Verwaltungsnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p><code class="uri">cn=Member-Edukativnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p><code class="uri">cn=Member-Verwaltungsnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p>
			  Diese Gruppen werden beim Erstellen der ersten Schul-OU einmalig angelegt und sind
			  nicht OU-spezifisch. Sie enthalten (entsprechend ihrem Namen) als Gruppenmitglieder die Schul-DCs
			  oder die Memberserver der Schulstandorte, wobei diese jeweils nach Verwaltungsnetz und Edukativnetz
			  getrennt werden. Domaincontroller Master und Domaincontroller Backup dürfen
			  <span class="emphasis"><em>kein</em></span> Mitglied in einer dieser Gruppen sein!
			</p></li><li class="listitem"><p><code class="uri">cn=OUgymmitte-DC-Edukativnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p><code class="uri">cn=OUgymmitte-DC-Verwaltungsnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p><code class="uri">cn=OUgymmitte-Member-Edukativnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p><code class="uri">cn=OUgymmitte-Member-Verwaltungsnetz,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p>
			  Diese OU-spezifischen Gruppen werden während des Anlegens der Schul-OU erstellt. Sie
			  enthalten (entsprechend ihrem Namen) als Gruppenmitglieder die Schul-DCs oder die Memberserver der
			  jeweiligen OU (hier <em class="wordasword">gymmitte</em>), wobei diese jeweils nach Verwaltungsnetz und
			  Edukativnetz getrennt werden. Domaincontroller Master und Domaincontroller Backup dürfen
			  <span class="emphasis"><em>kein</em></span> Mitglied in einer dieser Gruppen sein!
			</p></li><li class="listitem"><p><code class="uri">cn=OUgymmitte-Klassenarbeit,cn=ucsschool,cn=groups,dc=example,dc=com</code></p><p>
			  Während eines laufenden Klassenarbeitsmodus werden die beteiligten Benutzer und
			  Rechner als Gruppenmitglieder zu dieser Gruppe hinzugefügt. Sie wird z.B. für die Steuerung von
			  speziellen Einstellungen für den Klassenarbeitsmodus verwendet.
			</p></li><li class="listitem"><p><code class="uri">cn=admins-gymmitte,cn=ouadmins,cn=groups,dc=example,dc=com</code></p><p>
			  Benutzer, die Mitglied dieser Gruppe sind, werden von UCS@school in der betreffenden OU automatisch als Schuladministrator behandelt.
			  Siehe dazu auch <a class="xref" href="#school:setup:generic:schooladmins" title="6.5. Anlegen von Benutzerkonten für Schuladministratoren">Abschnitt 6.5</a>.
			</p></li></ul></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="installation"><a class="anchor" href="#installation" title="Link to this section">§</a>Kapitel 3. Installation</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#installation:single">3.1. Installation einer Single-Server-Umgebung</a></span></dt><dd><dl><dt><span class="section"><a href="#installation:single:master">3.1.1. Installation des DC Master</a></span></dt></dl></dd><dt><span class="section"><a href="#school:installation:master2">3.2. Installation einer Multi-Server-Umgebung</a></span></dt><dd><dl><dt><span class="section"><a href="#installation:multi:master">3.2.1. Installation des DC Master</a></span></dt><dt><span class="section"><a href="#installation:multi:backup">3.2.2. Installation eines DC Backup (optional)</a></span></dt><dt><span class="section"><a href="#school:installation:slave">3.2.3. Installation eines Schulservers</a></span></dt></dl></dd><dt><span class="section"><a href="#school:installation:domjoin">3.3. (Erneuter) Domänenbeitritt eines Schulservers</a></span></dt><dt><span class="section"><a href="#school:installation:migration-single2multi">3.4. Umwandlung einer Single-Server-Umgebung in eine Multi-Server-Umgebung</a></span></dt></dl></div><p>
	UCS@school basiert auf Univention Corporate Server (UCS). UCS@school wird dabei als
	Repository-Komponente eingebunden. Die Installation von UCS ist im UCS-Handbuch
	dokumentiert. Nachfolgend wird nur auf ggf. auftretende Unterschiede zur Grundinstallation
	von Univention Corporate Server sowie die Installation von UCS@school selbst
	eingegangen.
  </p><p>
	Im folgenden werden zwei Installationsvarianten beschrieben:
	die Installation als Single-Server-Umgebung und die Installation als
	Multi-Server-Umgebung mit einem Domänencontroller Master und mindestens einem
	Schulserver. Die nachträgliche Umwandlung einer Single-Server-Umgebung in eine
	Multi-Server-Umgebung wird unterstützt und in <a class="xref" href="#school:installation:migration-single2multi" title="3.4. Umwandlung einer Single-Server-Umgebung in eine Multi-Server-Umgebung">Abschnitt 3.4</a> genauer beschrieben.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="installation:single"><a class="anchor" href="#installation:single" title="Link to this section">§</a>3.1. Installation einer Single-Server-Umgebung<a href="https://www.univention.de/produkt-feedback/?manual=installation:single" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="installation:single:master"><a class="anchor" href="#installation:single:master" title="Link to this section">§</a>3.1.1. Installation des DC Master<a href="https://www.univention.de/produkt-feedback/?manual=installation:single:master" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Bei der UCS-Installation muss die Systemrolle <span class="emphasis"><em>Domänencontroller Master</em></span> ausgewählt werden. Nach der
		  UCS-Installation kann in Univention Management Console das Modul <span class="guimenu">App Center</span> geöffnet und dort die
		  Applikation <span class="emphasis"><em>UCS@school</em></span> nachinstalliert werden. Nach Abschluss der Installation
		  wird in Univention Management Console ein neues Modul angezeigt, mit welchem die wizardgesteuerte Konfiguration von
		  UCS@school durchgeführt wird:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			  Das Konfigurationsmodul fragt auf dem DC Master zunächst nach der Art
			  der UCS@school-Umgebung, die installiert werden soll. Hier ist der Eintrag
			  <span class="emphasis"><em>Single-Server-Umgebung</em></span> auszuwählen.
				</li><li class="listitem">
			  UCS@school benötigt für die Bereitstellung von Datei- und Drucker-Freigaben den
			  Samba-Dienst. Sofern auf dem DC Master noch kein Samba-Dienst installiert ist, kann zwischen
			  <span class="emphasis"><em>Samba 3</em></span> und <span class="emphasis"><em>Samba 4</em></span> ausgewählt werden.
				</li><li class="listitem">
				  Die Daten eines Schulservers werden im Verzeichnisdienst in Organisationseinheiten
				  (OU) gespeichert (siehe auch <a class="xref" href="#structure" title="Kapitel 2. Aufbau einer UCS@school-Umgebung">Kapitel 2</a>). Im letzten Schritt des
				  Konfigurationsassistenten wird nach dem Namen der Schule gefragt. Dieser ist ein frei wählbarer
				  Bezeichner (wie z.B. <span class="emphasis"><em>Gymnasium Mitte</em></span>), der primär in den UMC-Modulen verwendet
				  wird. Das ebenfalls abgefragte Schulkürzel entspricht dem eigentlichen Namen der
				  Organisationseinheit, welche vom UMC-Modul im Zuge der Konfiguration automatisch angelegt
				  wird. Das Schulkürzel sollte ausschließlich aus Buchstaben (a-z und A-Z), Ziffern (0-9) oder dem Bindestrich (-) bestehen,
				  da es unter anderem die Grundlage für Gruppen-, Freigabe- und Rechnernamen bildet. Häufig kommen
				  hier Schulnummern wie <span class="emphasis"><em>340</em></span> oder zusammengesetzte Kürzel wie
				  <em class="wordasword">g123m</em> oder <em class="wordasword">gymmitte</em> zum Einsatz.  Nach der Eingabe des
				  Schulnamens wird automatisch ein Vorschlag für ein Schulkürzel gemacht, welcher jedoch manuell
				  angepasst werden kann.
				</li></ul></div><p>
		  Während der Konfiguration werden benötigte Softwarepakete automatisch aus dem Univention App Center heruntergeladen und installiert.
		  Somit sind nach der Konfiguration alle für die Datenpflege und Steuerung von
		  UCS@school benötigten Pakete auf dem DC Master zugreifbar.
		</p><p>
		  Installation und Konfiguration von UCS@school sollten mit einem Neustart des Systems
		  abgeschlossen werden.  Im Anschluss kann die weitere Konfiguration der Schule vorgenommen werden,
		  siehe <a class="xref" href="#school:setup:umc" title="Kapitel 4. Verwaltung von Schulen über die Univention Management Console">Kapitel 4</a> und <a class="xref" href="#school:setup:cli" title="Kapitel 5. Verwaltung von Schulen über Importskripte">Kapitel 5</a>.
		</p><div class="figure" id="install-via-appcenter"><a class="anchor" href="#install-via-appcenter" title="Link to this section">§</a><p class="title"><strong>Abbildung 3.1. Installation von UCS@school über das Univention App Center</strong></p><div class="figure-contents"><div align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="97%"><tr><td align="center"><img src="illustrations40/appcenter_ucsschool_40.png" align="middle" width="100%" alt="Installation von UCS@school über das Univention App Center" /></td></tr></table></div></div></div><br class="figure-break" /><p>
		  Wurde während der Installation des DC Masters ein DHCP-Server installiert, verschiebt der
		  UCS@school-Konfigurationsassistent das DHCP-Server-Objekt des DC Masters (zu finden unter
		  <code class="command">cn=dhcp,<em class="replaceable"><code>LDAPBASIS</code></em></code>) automatisch in den entsprechenden
		  DHCP-Container der OU
		  (<code class="command">cn=dhcp,ou=<em class="replaceable"><code>OUNAME</code></em>,<em class="replaceable"><code>LDAPBASIS</code></em></code>).
		  Dies ist für die korrekte Funktion des DHCP-Servers notwendig.
		</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:installation:master2"><a class="anchor" href="#school:installation:master2" title="Link to this section">§</a>3.2. Installation einer Multi-Server-Umgebung<a href="https://www.univention.de/produkt-feedback/?manual=school:installation:master2" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="installation:multi:master"><a class="anchor" href="#installation:multi:master" title="Link to this section">§</a>3.2.1. Installation des DC Master<a href="https://www.univention.de/produkt-feedback/?manual=installation:multi:master" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Bei der UCS-Installation muss die Systemrolle <span class="emphasis"><em>Domänencontroller Master</em></span> ausgewählt werden. Nach der
		  UCS-Installation kann in Univention Management Console das Modul <span class="guimenu">App Center</span> geöffnet und dort die
		  Applikation <span class="emphasis"><em>UCS@school</em></span> nachinstalliert werden. Nach Abschluss der Installation
		  wird in Univention Management Console ein neues Modul angezeigt, mit welchem die wizardgesteuerte Konfiguration von
		  UCS@school durchgeführt wird:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			  Das Konfigurationsmodul fragt auf dem DC Master zunächst nach der Art
			  der UCS@school-Umgebung, die installiert werden soll. Hier ist der Eintrag
			  <span class="emphasis"><em>Multi-Server-Umgebung</em></span> auszuwählen.
				</li><li class="listitem">
			  Weitere Konfigurationsoptionen werden in einer Multi-Server-Umgebung auf dem DC Master nicht benötigt.
				</li></ul></div><p>
		  Während der Konfiguration werden benötigte Softwarepakete automatisch aus dem Univention App Center heruntergeladen und installiert.
		  Somit sind nach der Konfiguration alle für die Datenpflege benötigten Pakete
		  auf dem DC Master zugreifbar.
		</p><p>
		  Installation und Konfiguration von UCS@school sollten mit einem Neustart des Systems abgeschlossen werden.
		</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="installation:multi:backup"><a class="anchor" href="#installation:multi:backup" title="Link to this section">§</a>3.2.2. Installation eines DC Backup (optional)<a href="https://www.univention.de/produkt-feedback/?manual=installation:multi:backup" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Auf Servern mit der Rolle <span class="emphasis"><em>Domänencontroller Backup</em></span> (kurz DC Backup) werden alle Domänendaten und
		  SSL-Sicherheitszertifikate als Nur-Lese-Kopie gespeichert.
		</p><p>
		  Ein DC Backup dient als Fallback-System des DC Master. Sollte dieser ausfallen, kann ein DC Backup
		  die Rolle des DC Master dauerhaft übernehmen. Der Einsatz eines DC Backup ist optional.
		</p><p>
		  Die Installation von UCS@school auf einem DC Backup erfolgt analog zur in <a class="xref" href="#school:installation:master2" title="3.2. Installation einer Multi-Server-Umgebung">Abschnitt 3.2</a> beschriebenen Installation des DC Master.
		</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
			Sofern DC Backup-Systeme in der UCS-Domäne vorhanden sind, muss dort ebenfalls UCS@school
			installiert und konfiguriert werden. Sollte dies nicht der Fall sein, kann es zu schweren
			Replikationsproblemen auf den Schulservern kommen.
		  </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:installation:slave"><a class="anchor" href="#school:installation:slave" title="Link to this section">§</a>3.2.3. Installation eines Schulservers<a href="https://www.univention.de/produkt-feedback/?manual=school:installation:slave" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  An jedem Schul-Standort muss ein Schulserver installiert werden.
		</p><p>
		  Bei der UCS-Installation muss die Systemrolle <span class="emphasis"><em>Domänencontroller Slave</em></span> (kurz DC
		  Slave) ausgewählt werden. Nach der UCS-Installation kann in Univention Management Console das Modul <span class="guimenu">App
		  Center</span> geöffnet und dort die Applikation <span class="emphasis"><em>UCS@school</em></span> nachinstalliert
		  werden. Nach Abschluss der Installation wird in Univention Management Console ein neues Modul angezeigt, mit welchem
		  die wizardgesteuerte Konfiguration von UCS@school auf dem DC Slave durchgeführt wird:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			  Das Konfigurationsmodul kann auf einem DC Slave nur dann
			  erfolgreich durchlaufen werden, wenn die Konfiguration des DC Masters bereits über das dort
			  installierte Konfigurationsmodul abgeschlossen wurde.
			</li><li class="listitem">
			  Nach der Konfiguration ist es erforderlich, dass der DC Slave erneut der Domäne
			  beitritt. Im zweiten Schritt werden die für den erneuten Beitritt notwendigen Anmeldedaten
			  (Benutzername, Passwort) abgefragt. Hier kann der Benutzer <code class="systemitem">Administrator</code> oder
			  ein Mitglied der Gruppe <code class="systemitem">Domain Admins</code> angegeben werden. Der vollqualifizierte
			  Rechnername (FQDN) des DC Masters wird üblicherweise automatisch ermittelt und vorausgefüllt. Sollte
			  dies nicht möglich sein, muss der vollständige Rechnername inkl. DNS-Domäne angegeben werden,
			  z.B. <code class="systemitem">master.example.com</code>.
			</li><li class="listitem">
			  UCS@school benötigt für die Bereitstellung von Datei- und Drucker-Freigaben den
			  Samba-Dienst. Sofern auf dem DC Master noch kein Samba-Dienst installiert ist, kann zwischen
			  <span class="emphasis"><em>Samba 3</em></span> und <span class="emphasis"><em>Samba 4</em></span> ausgewählt werden.
			</li><li class="listitem">
			  Die Daten eines Schulservers werden im Verzeichnisdienst in Organisationseinheiten
			  (OU) gespeichert (siehe auch <a class="xref" href="#structure" title="Kapitel 2. Aufbau einer UCS@school-Umgebung">Kapitel 2</a>). Daher wird im Konfigurationsassistenten
			  nach dem Namen der Schule gefragt. Dieser ist ein frei wählbarer Bezeichner (wie
			  z.B. <span class="emphasis"><em>Gymnasium Mitte</em></span>), der primär in den UMC-Modulen verwendet wird. Das
			  ebenfalls abgefragte Schulkürzel entspricht dem eigentlichen Namen der Organisationseinheit, welche
			  vom UMC-Modul im Zuge der Konfiguration automatisch angelegt wird. Das Schulkürzel sollte
			  ausschließlich aus Buchstaben, Ziffern oder dem Bindestrich bestehen, da es unter anderem die
			  Grundlage für Gruppen-, Freigabe- und Rechnernamen bildet. Häufig kommen hier Schulnummern wie
			  <span class="emphasis"><em>340</em></span> oder zusammengesetzte Kürzel wie <em class="wordasword">g123m</em> oder
			  <em class="wordasword">gymmitte</em> zum Einsatz.  Nach der Eingabe des Schulnamens wird automatisch ein
			  Vorschlag für ein Schulkürzel gemacht, welcher jedoch manuell angepasst werden kann.
			</li><li class="listitem">
			  Nach der Angabe des Schulnamens ist die Art des Schulservers anzugeben. Es kann
			  zwischen einem Schulserver für das Edukativnetz (<span class="guimenu">Edukativer Schulserver</span>) und
			  einem Schulserver für das Verwaltungsnetz (<span class="guimenu">Verwaltungsserver</span>) gewählt werden.
			  Die Funktionen für den IT-gestützten Unterricht werden dabei nur von den Schulservern im
			  Edukativnetz bereitgestellt.
			</li><li class="listitem">
			  Sollte an einem Schulstandort der Schulserver des Verwaltungsnetzes vor dem
			  edukativen Schulserver konfiguriert werden, fragt der Konfigurationsassistent zusätzlich den Namen
			  des zukünftigen edukativen Schulservers ab. Sollte der hier angegebene Name des Schulservers nicht
			  korrekt sein, muss vor dem Import von Benutzern der Freigabeserver für die
			  Benutzer-Heimatverzeichnisse korrigiert werden (siehe auch <a class="xref" href="#school:setup:umc:schools:modify" title="4.1.2. Bearbeiten von Schulen">Abschnitt 4.1.2</a>).
			</li></ul></div><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
			Für den Verwaltungsserver muss ein vom edukativen Netz physikalisch getrenntes
			Netzwerksegment sowie ein eigenes IP-Subnetz verwendet wird, um Konflikte mit dem Schulserver des
			Edukativnetzes zu vermeiden (siehe auch <a class="xref" href="#structure:edunet-vs-adminnet" title="2.3. Verwaltungsnetz und Edukativnetz">Abschnitt 2.3</a>).
		  </p></div><p>
		  Während der Konfiguration werden benötigte Softwarepakete automatisch aus dem Univention App Center installiert
		  und ein erneuter Domänenbeitritt durchgeführt. Somit sind nach der Konfiguration
		  alle für die Steuerung von UCS@school benötigten Pakete auf dem DC Slave zugreifbar.
		</p><p>
		  Wurde während der Installation des DC Slaves ein DHCP-Server installiert, verschiebt der
		  UCS@school-Konfigurationsassistent das DHCP-Server-Objekt des DC Slaves (zu finden unter
		  <code class="command">cn=dhcp,<em class="replaceable"><code>LDAPBASIS</code></em></code>) automatisch in den entsprechenden
		  DHCP-Container der OU
		  (<code class="command">cn=dhcp,ou=<em class="replaceable"><code>OUNAME</code></em>,<em class="replaceable"><code>LDAPBASIS</code></em></code>).
		  Dies ist für die korrekte Funktion des DHCP-Servers notwendig, da jeder Schulserver eine
		  individuelle LDAP-Suchbasis verwendet.
		</p><p>
		  Installation und Konfiguration von UCS@school sollten mit einem Neustart des Systems abgeschlossen werden.
		</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:installation:domjoin"><a class="anchor" href="#school:installation:domjoin" title="Link to this section">§</a>3.3. (Erneuter) Domänenbeitritt eines Schulservers<a href="https://www.univention.de/produkt-feedback/?manual=school:installation:domjoin" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	    Die Einrichtung eines Schulservers ist auch ohne das oben beschriebene UMC-Konfigurationsmodul möglich,
		bzw. notwendig, wenn während des Konfigrationsprozesses Probleme auftreten sollten.
		Dazu müssen die in diesem Abschnitt beschriebenen Schritte manuell durchgeführt werden.
	  </p><p>
		Vor dem Domänenbeitritt des Schulservers muss die Schule (OU) des Schulservers in der
		Univention Management Console des DC Masters angelegt werden (siehe <a class="xref" href="#school:setup:umc:schools" title="4.1. Verwaltung von Schulen">Abschnitt 4.1</a>).
	  </p><p>
		Anschließend muss das System erneut der Domäne beitreten. Dies erfolgt auf der Kommandozeile
		durch Aufruf des Befehls <code class="command">univention-join</code>.
	  </p><p>
		Der Domänencontroller Master wird im Regelfall durch eine DNS-Abfrage ermittelt. Wenn das nicht möglich
		sein sollte, kann der Rechnername des DC Master auch durch den Parameter <code class="option">-dcname
		<em class="replaceable"><code>HOSTNAME</code></em></code> direkt angegeben werden. Der Rechnername muss dabei als vollqualifizierter Name
		angegeben werden, also beispielsweise <code class="systemitem">master.example.com</code>.
	  </p><p>
		Als Join-Account wird ein Benutzerkonto bezeichnet, das berechtigt ist, Systeme der UCS-Domäne
		hinzuzufügen. Standardmäßig ist dies der Benutzer <code class="systemitem">Administrator</code> oder ein
		Mitglied der Gruppe <code class="systemitem">Domain Admins</code>. Der Join-Account kann durch den Parameter
		<code class="option">-dcaccount <em class="replaceable"><code>ACCOUNTNAME</code></em></code> an <code class="command">univention-join</code> übergeben werden.
	  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
		Der Name des Schulservers darf nur aus Kleinbuchstaben, Ziffern sowie dem Bindestrich
		bestehen (a-z, 0-9 und -). Der Name darf nur mit einem Kleinbuchstaben beginnen, mit einem
		Kleinbuchstaben oder einer Ziffer enden und ist auf eine Länge von 12 Zeichen beschränkt. Bei
		Abweichungen von diesen Vorgaben kann es zu Problemen bei der Verwendung von Windows-Clients kommen.
		</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:installation:migration-single2multi"><a class="anchor" href="#school:installation:migration-single2multi" title="Link to this section">§</a>3.4. Umwandlung einer Single-Server-Umgebung in eine Multi-Server-Umgebung<a href="https://www.univention.de/produkt-feedback/?manual=school:installation:migration-single2multi" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		UCS@school-Umgebungen, die als Single-Server-Umgebung installiert/eingerichtet wurden, können
		bei Bedarf nachträglich in eine Multi-Server-Umgebung umgewandelt werden. Die Umwandlung ermöglicht
		die Aufnahme von Schulservern in die Domäne.
	  </p><p>
		Für die Umwandlung sind einige Befehle auf der Kommandozeile des DC Masters auszuführen, die
		einen Austausch des UCS@school-Metapakets sowie eine Konfigurationsänderung durchführen (Bitte das Minuszeichen hinter dem zweiten Paketnamen beachten):
		</p><pre class="programlisting">univention-install ucs-school-master ucs-school-singlemaster-
ucr unset ucsschool/singlemaster</pre><p>
	  </p><p>
		Mit der Deinstallation des Pakets <span class="package">ucs-school-singlemaster</span> werden die
		nachfolgenden UCS@school-spezifischen Pakete (z.B. UMC-Module), die normalerweise nicht auf einem DC Master
		der Multi-Server-Umgebung installiert sind, automatisch zur Löschung vorgesehen. Die eigentliche
		Löschung findet während des nächsten Updates oder durch den manuellen Aufruf von <code class="command">apt-get
		autoremove</code> statt. Dabei ist zu beachten, dass neben den genannten Paketen ggf. auch
		ungenutzte Paketabhängigkeiten entfernt werden.
		</p><pre class="programlisting">ucs-school-branding
ucs-school-umc-computerroom
ucs-school-umc-distribution
ucs-school-umc-exam
ucs-school-umc-helpdesk
ucs-school-umc-internetrules
ucs-school-umc-lessontimes
ucs-school-umc-printermoderation
ucs-school-netlogon
ucs-school-netlogon-user-logonscripts
ucs-school-old-homedirs
ucs-school-old-sharedirs
ucs-school-ucc-integration
ucs-school-webproxy
univention-squid-kerberos</pre><p>
		Um die Löschung einzelner Pakete zu vermeiden, kann der folgende Befehl verwendet werden, bei dem <em class="replaceable"><code>PAKETNAME</code></em> durch den gewünschten Paketnamen auszutauschen ist:
		</p><pre class="programlisting">apt-get unmarkauto <em class="replaceable"><code>PAKETNAME</code></em></pre><p>
	  </p><p>
		Richtlinien, die (ggf. automatisch von UCS@school) an Container der Schul-OUs verknüpft wurden, sollte auf ihre Einstellungen hin überprüft werden. Dies betrifft unter anderem die DHCP-DNS-Einstellungen sowie die Einstellungen für UCC-Systeme (siehe auch <a class="xref" href="#school:ucc:configuration" title="12.2. Konfigurationseinstellungen für UCC-Systeme">Abschnitt 12.2</a>).
	  </p><p>
		Nachdem die oben genannten Schritte ausgeführt wurden, sollte abschließend der UMC-Server auf dem DC Master neu gestartet werden:
		</p><pre class="programlisting">invoke-rc.d univention-management-console-server restart</pre><p>
	  </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
		  Es ist zu beachten, dass auch nach der abgeschlossenen Umwandlung in eine
		  Multi-Server-Umgebung der auf dem DC Master installierte Samba3- oder Samba4-Dienst bestehen bleibt
		  und nicht automatisch deinstalliert wird.
		</p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:setup:umc"><a class="anchor" href="#school:setup:umc" title="Link to this section">§</a>Kapitel 4. Verwaltung von Schulen über die Univention Management Console</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#school:setup:umc:schools">4.1. Verwaltung von Schulen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:schools:create">4.1.1. Anlegen von Schulen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:schools:modify">4.1.2. Bearbeiten von Schulen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:schools:delete">4.1.3. Löschen von Schulen</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:user">4.2. Verwaltung einzelner Benutzerkonten</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:user:create">4.2.1. Anlegen eines Benutzerkontos</a></span></dt><dt><span class="section"><a href="#school:setup:umc:user:modify">4.2.2. Bearbeiten eines Benutzerkontos</a></span></dt><dt><span class="section"><a href="#school:setup:umc:user:delete">4.2.3. Löschen von Benutzerkonten</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:csvimport">4.3. Pflege von Benutzerkonten über CSV-Dateien</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:csvimport:import">4.3.1. Import von CSV-Dateien</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:classes">4.4. Verwaltung von Schulklassen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:classes:create">4.4.1. Anlegen von Schulklassen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:classes:modify">4.4.2. Bearbeiten von Schulklassen</a></span></dt><dt><span class="section"><a href="#school:setup:umc:classes:delete">4.4.3. Löschen von Schulklassen</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:umc:computers">4.5. Verwaltung von Rechnern</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:umc:computers:create">4.5.1. Anlegen von Rechnerkonten</a></span></dt><dt><span class="section"><a href="#school:setup:umc:computers:modify">4.5.2. Bearbeiten von Rechnerkonten</a></span></dt><dt><span class="section"><a href="#school:setup:umc:computers:delete">4.5.3. Löschen von Rechnerkonten</a></span></dt></dl></dd></dl></div><p>
	  UCS@school bietet für viele der regelmäßig wiederkehrenden Verwaltungsaufgaben spezielle
	  UMC-Module und -Assistenten an, die beim Anlegen, Modifizieren und Löschen von z.B. Schulen,
	  Benutzerkonten und Rechnern unterstützen. Ergänzend hierzu gibt es Programme für die Kommandozeile,
	  die auch eine automatisierte Pflege der UCS@school-Umgebung zulassen (diese werden in <a class="xref" href="#school:setup:cli" title="Kapitel 5. Verwaltung von Schulen über Importskripte">Kapitel 5</a> näher beschrieben).
	</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:umc:schools"><a class="anchor" href="#school:setup:umc:schools" title="Link to this section">§</a>4.1. Verwaltung von Schulen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:schools" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		  Die Daten einer Schule werden in einer Organisationseinheit (OU) - einem Teilbaum des
		  LDAP-Verzeichnisdienstes - gespeichert (siehe auch <a class="xref" href="#structure" title="Kapitel 2. Aufbau einer UCS@school-Umgebung">Kapitel 2</a>).  Die Verwaltung der
		  logischen Einheit <span class="emphasis"><em>Schule</em></span> kann in der Univention Management Console über das Modul
		  <span class="guimenu">Schulen</span> erfolgen, welches sich in der Modulgruppe
			<span class="emphasis"><em>Schul-Administration</em></span> befindet. Es ermöglicht das
			Suchen nach, sowie das Anlegen, Bearbeiten und Löschen von Schulen in der
			UCS@school-Umgebung.
		</p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:schools:create"><a class="anchor" href="#school:setup:umc:schools:create" title="Link to this section">§</a>4.1.1. Anlegen von Schulen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:schools:create" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
			Um den Assistenten für das Hinzufügen einer neuen Schule zu starten, ist die
			Schaltfläche <span class="guimenu">Hinzufügen</span> oberhalb der Tabelle auszuwählen. Bei Neuinstallationen
			ohne bestehende Schulen fragt das UMC-Modul automatisch beim Öffnen, ob jetzt die erste Schule angelegt
			werden soll.
		  </p><p>
			Der Assistent fragt in jeder UCS@school-Umgebung mindestens die beiden Werte <span class="guimenu">Name
			der Schule</span> und <span class="guimenu">Schulkürzel</span> ab. In Multi-Server-Umgebungen wird
			zusätzlich der Name des edukativen Schulservers abgefragt, welcher später die Dienste für die neue
			Schule bereitstellen soll.
		  </p><p>
			Im Eingabefeld <span class="guimenu">Name der Schule</span> ist ein beliebige Beschreibung für die
			Schule (z.B. <span class="emphasis"><em>Gymnasium Mitte</em></span>) anzugeben, die keiner Zeichenlimitierung
			unterliegt. Sie wird später in den UCS@school-Modulen angezeigt, wenn zwischen unterschiedlichen
			Schulen zu wählen ist. Nachdem ein Wert eingetragen wurde, wird beim Wechsel in das nächste
			Eingabefeld automatisch ein Vorschlag für das <span class="guimenu">Schulkürzel</span> generiert.
		  </p><p>
			Das Schulkürzel ist i.d.R. ein kurzer Bezeichner für die Schule, der sich später an
			unterschiedlichen Stellen wiederfindet. Es wird automatisch u.a. als Präfix für Gruppen- und
			Freigabenamen verwendet. Darüber hinaus wird das Schulkürzel als Name für die Organisationseinheit
			(OU) im Verzeichnisdienst verwendet. Häufig kommen hier Schulnummern wie <span class="emphasis"><em>340</em></span>
			oder zusammengesetzte Kürzel wie <em class="wordasword">g123m</em> oder <em class="wordasword">gymmitte</em> zum
			Einsatz.
		  </p><p>
			In Single-Server-Umgebungen ist die Angabe eines Schulservernamens nicht erforderlich,
			während in Multi-Server-Umgebungen der <span class="guimenu">Rechnername des Schulservers</span> angegeben
			werden muss.  Der eingetragene Schulserver wird automatisch als Dateiserver für Klassen- und
			Benutzerfreigaben verwendet (siehe <a class="xref" href="#school:setup:generic:windowsattributes" title="6.2. Windows-spezifische Benutzereinstellungen">Abschnitt 6.2</a> und
			<a class="xref" href="#school:windows:shares" title="7.2. Server für Dateifreigaben">Abschnitt 7.2</a>).
		  </p><p>
			Nach dem erfolgreichen Anlegen der Schule über die Schaltfläche
			<span class="guimenu">Speichern</span> erscheint eine Statusmeldung im oberen Teil der Univention Management Console.
		  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
			  Das Schulkürzel sollte ausschließlich aus Buchstaben (a-z und A-Z), Ziffern (0-9) oder dem Bindestrich (-) bestehen,
			  da es unter anderem die Grundlage für Gruppen-, Freigabe- und Rechnernamen bildet.
			</p><p>
			  Der Name des Schulservers darf nur aus Kleinbuchstaben, Ziffern sowie dem Bindestrich
			  bestehen (a-z, 0-9 und -). Der Name darf nur mit einem Kleinbuchstaben beginnen, mit einem
			  Kleinbuchstaben oder einer Ziffer enden und ist auf eine Länge von 12 Zeichen beschränkt. Bei
			  Abweichungen von diesen Vorgaben kann es zu Problemen bei der Verwendung von Windows-Clients kommen.
			</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:schools:modify"><a class="anchor" href="#school:setup:umc:schools:modify" title="Link to this section">§</a>4.1.2. Bearbeiten von Schulen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:schools:modify" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
			Zum Bearbeiten einer bestimmten Schule ist diese in der Tabelle auszuwählen und die
			Schaltfläche <span class="guimenu">Bearbeiten</span> anzuklicken. Im folgenden Dialog kann der Name der Schule
			angepasst werden. Das nachträgliche Ändern des Schulkürzels ist nicht möglich.
		  </p><p>
			Darüber hinaus können durch einen Klick auf <span class="guimenu">Erweiterte Einstellungen</span>
			die für die Schule zuständigen Freigabeserver eingesehen und modifiziert werden.  Die genaue
			Funktion dieser Freigabeserver wird in <a class="xref" href="#school:setup:generic:windowsattributes" title="6.2. Windows-spezifische Benutzereinstellungen">Abschnitt 6.2</a> und
			<a class="xref" href="#school:windows:shares" title="7.2. Server für Dateifreigaben">Abschnitt 7.2</a> beschrieben.
		  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:schools:delete"><a class="anchor" href="#school:setup:umc:schools:delete" title="Link to this section">§</a>4.1.3. Löschen von Schulen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:schools:delete" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
			Zum Löschen einer bestimmten Schule ist diese in der Tabelle auszuwählen und die
			Schaltfläche <span class="guimenu">Löschen</span> anzuklicken.
		  </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
			Das Löschen einer Schule umfasst auch das Entfernen aller damit verbundenen Objekte wie
			Benutzerkonten, Klassen, Arbeitsgruppen, Rechner, DHCP-Leases, Drucker und Freigaben! Das Löschen
			einer Schule kann nicht rückgängig gemacht werden!
			</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:umc:user"><a class="anchor" href="#school:setup:umc:user" title="Link to this section">§</a>4.2. Verwaltung einzelner Benutzerkonten<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:user" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		Für die manuelle Pflege von einzelnen Benutzerkonten wird auf dem Domänencontroller Master
		das UMC-Modul <span class="guimenu">Benutzer (Schulen)</span> bereitgestellt, welches sich in der
		UMC-Modulgruppe <span class="emphasis"><em>Schul-Administration</em></span> befindet. Es ermöglicht das
		Suchen nach, sowie das Anlegen, Bearbeiten und Löschen von Schülern, Lehrern und
		Mitarbeitern in der UCS@school-Umgebung.
	  </p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:user:create"><a class="anchor" href="#school:setup:umc:user:create" title="Link to this section">§</a>4.2.1. Anlegen eines Benutzerkontos<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:user:create" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Um den Assistenten für das Hinzufügen eines neuen Benutzers zu starten, ist die
		  Schaltfläche <span class="guimenu">Hinzufügen</span> oberhalb der Tabelle auszuwählen. In UCS@school-Umgebungen
		  ohne bestehende Benutzer fragt das Modul automatisch beim Öffnen, ob jetzt der erste Benutzer
		  angelegt werden soll.
		</p><p>
		  Die erste Seite des Assistenten fragt zunächst die gewünschte Benutzerrolle für das neue
		  Benutzerkonto ab.  Zur Auswahl stehen die vier Benutzerrollen <span class="emphasis"><em>Schüler</em></span>,
		  <span class="emphasis"><em>Lehrer</em></span>, <span class="emphasis"><em>Lehrer und Mitarbeiter</em></span> und
		  <span class="emphasis"><em>Mitarbeiter</em></span>. Die einzelnen Benutzerrollen werden in <a class="xref" href="#structure:userroles" title="2.1. UCS@school-Benutzerrollen">Abschnitt 2.1</a> genauer beschrieben. Sind mehrere Schulen in der UCS@school-Umgebung
		  eingerichtet, wird zusätzlich abgefragt, in welcher Schule das Benutzerkonto angelegt werden soll.
		</p><p>
		  Über die Schaltfläche <span class="guimenu">Weiter</span> gelangt man auf die zweite Seite des
		  Assistenten. Dort werden die für UCS@school relevanten Benutzerattribute abgefragt:
		  <span class="emphasis"><em>Vorname</em></span>, <span class="emphasis"><em>Nachname</em></span>, <span class="emphasis"><em>Benutzername</em></span>,
		  ggf. <span class="emphasis"><em>Klasse</em></span>, <span class="emphasis"><em>E-Mail-Adresse</em></span> und
		  <span class="emphasis"><em>Passwort</em></span>. Über die Schaltfläche <span class="guimenu">Neue Klasse erstellen</span> ist es
		  möglich, direkt in das UMC-Modul <span class="guimenu">Klassen (Schule)</span> zu wechseln, um dort eine
		  weitere Schulklasse anlegen zu können. Die Angabe von E-Mail-Adresse und Passwort ist optional. Ist
		  kein Passwort vergeben, muss das Passwort vom Administrator (oder Lehrer) zurückgesetzt werden,
		  bevor das Benutzerkonto vom Benutzer erstmalig verwendet werden kann.
		</p><p>
		  Nach dem Anklicken der Schaltfläche <span class="guimenu">Speichern</span> wird das Benutzerkonto im
		  Verzeichnisdienst angelegt und eine Benachrichtigung über den Erfolg der Aktion
		  angezeigt. Anschließend wird wieder die zweite Seite des Assistenten angezeigt, um weitere
		  Benutzerkonten anlegen zu können. Die Einstellungen für Schule und Benutzerrolle bleiben dabei
		  erhalten. Mit der Verwendung der Schaltfläche <span class="guimenu">Abbrechen</span> gelangt man zurück zum
		  zentralen Suchdialog des UMC-Moduls.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
		  Die Benutzernamen müssen schulübergreifend eindeutig sein. D.h. es ist nicht möglich, den
		  gleichen Benutzernamen an zwei unterschiedlichen Schulen zu verwenden.
		  </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:user:modify"><a class="anchor" href="#school:setup:umc:user:modify" title="Link to this section">§</a>4.2.2. Bearbeiten eines Benutzerkontos<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:user:modify" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Zum Bearbeiten eines Benutzerkontos ist dieses in der Tabelle auszuwählen und die
		  Schaltfläche <span class="guimenu">Bearbeiten</span> anzuklicken. Im folgenden Dialog können die Attribute des
		  Benutzerkontos bearbeitet werden. Das nachträgliche Ändern des Benutzernamens ist nicht möglich.
		</p><p>
		  Sofern der angemeldete UMC-Benutzer die Rechte für das UMC-Modul
		  <span class="guimenu">Benutzer</span> aus der Modulgruppe <span class="emphasis"><em>Domäne</em></span> besitzt, wird zusätzlich
		  die Schaltfläche <span class="guimenu">Erweiterte Einstellungen</span> angezeigt. Über sie kann das UMC-Modul
		  <span class="guimenu">Benutzer</span> geöffnet werden, in dem viele erweiterte Einstellungen für das
		  Benutzerkonto möglich sind.
		</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:user:delete"><a class="anchor" href="#school:setup:umc:user:delete" title="Link to this section">§</a>4.2.3. Löschen von Benutzerkonten<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:user:delete" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Zum Löschen von Benutzerkonten sind diese in der Tabelle auszuwählen und anschließend die
		  Schaltfläche <span class="guimenu">Löschen</span> anzuklicken. Nach dem Bestätigen werden die Benutzerkonten
		  aus dem Verzeichnisdienst entfernt.
		</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:umc:csvimport"><a class="anchor" href="#school:setup:umc:csvimport" title="Link to this section">§</a>4.3. Pflege von Benutzerkonten über CSV-Dateien<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:csvimport" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		Zusätzlich zum UMC-Modul <span class="guimenu">Benutzer (Schulen)</span>, welches die Pflege einzelner
		Benutzerkonten erlaubt, bringt UCS@school den Assistenten <span class="guimenu">CSV-Import</span> für die Pflege von
		Benutzerkonten über CSV-Dateien mit.
	  </p><p>
		Der Assistent erlaubt es, eine CSV-Datei mit Benutzerinformationen einzulesen. Die
		eingelesenen Daten werden z.B. auf Schreibfehler oder Konflikte geprüft und werden vor dem
		eigentlichen Import innerhalb des Assistenten noch einmal angezeigt. Dort können die Daten
		nachträglich bearbeitet werden. Neben dem Anlegen neuer Benutzerkonten ist es auch möglich, vorhandene
		Benutzerkonten zu modifizieren oder zu löschen.
	  </p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:csvimport:import"><a class="anchor" href="#school:setup:umc:csvimport:import" title="Link to this section">§</a>4.3.1. Import von CSV-Dateien<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:csvimport:import" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Für den Import einer CSV-Datei muss das UMC-Modul <span class="guimenu">CSV-Import</span> aus der
		  UMC-Modulgruppe <span class="guimenu">Schul-Administration</span> geöffnet werden. Der Assistent sieht vor,
		  dass durch eine CSV-Datei nur Benutzer einer bestimmten Benutzerrolle importiert werden können. Der
		  gleichzeitige Import von z.B. Schülern und Lehrern durch den Import einer einzelnen CSV-Datei ist
		  also nicht möglich. Auf der ersten Seite des Assistenten ist daher die gewünschte Benutzerrolle
		  auszuwählen (siehe <a class="xref" href="#csvimport:userrole" title="Abbildung 4.1. CSV-Import: Auswahl der Benutzerrolle">Abbildung 4.1</a>). Sind mehrere Schulen in der
		  UCS@school-Umgebung eingerichtet, wird zusätzlich abgefragt, in welche Schule die CSV-Datei
		  importiert werden soll.
		  </p><div class="figure" id="csvimport:userrole"><a class="anchor" href="#csvimport:userrole" title="Link to this section">§</a><p class="title"><strong>Abbildung 4.1. CSV-Import: Auswahl der Benutzerrolle</strong></p><div class="figure-contents"><div align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="97%"><tr><td align="center"><img src="illustrations40/csvimport-userrole_40.png" align="middle" width="100%" alt="CSV-Import: Auswahl der Benutzerrolle" /></td></tr></table></div></div></div><p><br class="figure-break" />
		</p><p>
		  Nach dem Auswählen der Schaltfläche <span class="guimenu">Weiter</span> ist auf der zweiten Seite
		  der Import-Modus auszuwählen sowie die CSV-Datei hochzuladen.
		</p><p>
		  In der Standardeinstellung werden die in der CSV-Datei angegebenen Benutzerkonten
		  hinzugefügt. Sollten gleichlautende Benutzerkonten schon im Verzeichnisdienst existieren, werden sie
		  entsprechend der CSV-Datei modifiziert. Dieser Import-Modus ist für den Erstimport von Benutzerkonten
		  (z.B. ein einzelner Klassensatz) oder das nachträgliche Modifizieren einer Teilmenge der vorhandenen
		  Benutzerkonten gedacht.
		</p><p>
		  Liegt eine CSV-Datei mit allen gültigen Benutzern vor, kann alternativ der zweite
		  Import-Modus verwendet werden. In diesem Modus werden (zusätzlich zum vorher beschriebenen
		  Verhalten) alle Benutzerkonten gelöscht, die im Verzeichnisdienst, aber nicht in der CSV-Datei
		  enthalten sind. Zum Beispiel kann so zum Schuljahreswechsel ein CSV-Komplettexport der Schülerdatenbank aus
		  der Schulverwaltungssoftware durchgeführt und die CSV-Datei in UCS@school importiert werden: für neue
		  Schüler werden Benutzerkonten erstellt, die Benutzerkonten von vorhandenen Schülern werden
		  aktualisiert und die Benutzerkonten von abgegangenen Schülern werden gelöscht. Für den zweiten
		  Import-Modus ist die Checkbox <span class="guimenu">Austausch der vorhandenen Benutzer mit der ausgewählten
		  Benutzerrolle durch die Benutzer der CSV-Datei</span> zu aktivieren.
		  </p><div class="figure" id="csvimport:upload"><a class="anchor" href="#csvimport:upload" title="Link to this section">§</a><p class="title"><strong>Abbildung 4.2. CSV-Import: Upload der CSV-Datei</strong></p><div class="figure-contents"><div align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="97%"><tr><td align="center"><img src="illustrations40/csvimport-upload_40.png" align="middle" width="100%" alt="CSV-Import: Upload der CSV-Datei" /></td></tr></table></div></div></div><p><br class="figure-break" />
		</p><p>
		  Mit dem <span class="guimenu">Hochladen</span> einer CSV-Datei wechselt der Assistent automatisch
		  zum dritten Schritt, in dem eine Zuordnung der Spalten der CSV-Datei zu konkreten Benutzerattributen
		  erfolgt. Folgende Benutzerattribute stehen für die Zuordnung zur Verfügung:
		  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Benutzername</p></li><li class="listitem"><p>Vorname</p></li><li class="listitem"><p>Nachname</p></li><li class="listitem"><p>Geburtstag</p></li><li class="listitem"><p>E-Mail</p></li><li class="listitem"><p>Klasse</p></li><li class="listitem"><p>Passwort</p></li></ul></div><p>
		  Für die einfachere Zuordnung zeigt der Assistent die ersten 10 Zeilen der CSV-Datei
		  an. Mit einem Klick auf den Titel der jeweiligen Spalte kann die Zuordnung geändert
		  werden (siehe <a class="xref" href="#csvimport:assignment" title="Abbildung 4.3. CSV-Import: Zuordnung der Benutzerattribute">Abbildung 4.3</a>).
		</p><p>
		  Für den Import wird mindestens die Zuordnung der Benutzerattribute
		  <span class="emphasis"><em>Vorname</em></span> und <span class="emphasis"><em>Nachname</em></span> benötigt. Wurde dem Attribut
		  <span class="emphasis"><em>Benutzername</em></span> keine Spalte aus der CSV-Datei zugeordnet, wird der Benutzername
		  automatisch aus dem Vornamen und dem Nachnamen generiert
		  (<span class="emphasis"><em>&lt;Vorname&gt;.&lt;Nachname&gt;</em></span>). Bei jedem weiteren Import wird der
		  Benutzername erneut generiert und ggf. anhand von zusätzlich angegebenen Attributen einem bestehenden
		  Benutzerkonto zugeordnet.
		</p><div class="figure" id="csvimport:assignment"><a class="anchor" href="#csvimport:assignment" title="Link to this section">§</a><p class="title"><strong>Abbildung 4.3. CSV-Import: Zuordnung der Benutzerattribute</strong></p><div class="figure-contents"><div align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="97%"><tr><td align="center"><img src="illustrations40/csvimport-assignment_40.png" align="middle" width="100%" alt="CSV-Import: Zuordnung der Benutzerattribute" /></td></tr></table></div></div></div><br class="figure-break" /><p>
		  Auf der letzten Seite des Assistenten werden zur Prüfung alle vorgesehenen
		  Änderungsschritte in einer Tabelle angezeigt. Jede Zeile der Tabelle repräsentiert ein Benutzerkonto
		  und enthält die folgenden Angaben:
		  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>den Benutzernamen (ggf. automatisch generiert, falls nicht zugeordnet),</p></li><li class="listitem"><p>die zugeordneten Attribute aus der CSV-Datei,</p></li><li class="listitem"><p>
				die vorgesehene <span class="guimenu">Aktion</span> für das Benutzerkonto, welche angibt, ob
				das betreffende Benutzerkonto neu angelegt werden soll (<span class="guimenu">Erstellen</span>), bereits
				existiert und modifiziert werden soll (<span class="guimenu">Ändern</span>) oder gelöscht werden soll
				(<span class="guimenu">Löschen</span>). Darüber hinaus können Einträge während des Imports auch manuell
				ausgelassen werden (<span class="guimenu">Ignorieren</span>).
			  </p></li><li class="listitem"><p>der Angabe der betreffenden Zeile in der CSV-Datei</p></li></ul></div><p>
		  
		  Werden bei der automatischen Prüfung der CSV-Datei Unstimmigkeiten oder Probleme erkannt,
		  werden die betreffenden Attributfelder farblich hervorgehoben:
		  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
				Gelbe Zellen weisen auf ungewöhnliche Änderungen hin (z.B. eine Änderung des
				Geburtsdatums). Die betreffenden Zeilen sollten manuell geprüft werden. Sie stellen jedoch kein
				Hindernis für einen Import dar.
			  </p></li><li class="listitem"><p>
				Rot markierte Zellen enthalten ein gravierendes Problem, wie z.B. die doppelte
				Vergabe eines Benutzernamens oder die ungültige Schreibweise eines Geburtsdatums. Probleme, die durch
				die roten Zellen angezeigt werden, müssen korrigiert werden (siehe unten), da ansonsten der Import
				verweigert wird. Alternativ kann die betroffene Zeile markiert und über die Schaltfläche
				<span class="guimenu">Ignorieren</span> komplett ignoriert werden.
			  </p></li></ul></div><p>
		  Beim Verweilen des Mauszeigers über einer farblich markierten Zeile wird ein Tooltip mit
		  näheren Informationen zu erkannten Problemen angezeigt. Über die Checkbox <span class="guimenu">Nur Zeilen mit
		  Problemen anzeigen</span> kann die Anzeige auf Einträge mit gelb oder rot markierten Zellen
		  beschränkt werden.
		  </p><div class="figure" id="csvimport:check"><a class="anchor" href="#csvimport:check" title="Link to this section">§</a><p class="title"><strong>Abbildung 4.4. CSV-Import: Überprüfung der bevorstehenden Änderungen</strong></p><div class="figure-contents"><div align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="97%"><tr><td align="center"><img src="illustrations40/csvimport-check_40.png" align="middle" width="100%" alt="CSV-Import: Überprüfung der bevorstehenden Änderungen" /></td></tr></table></div></div></div><p><br class="figure-break" />
		</p><p>
		  Um fehlerhafte Werte einer Zeile zu korrigieren, muss die betroffene Zeile zunächst
		  ausgewählt und anschließend die Schaltfläche <span class="guimenu">Bearbeiten</span> angeklickt werden. Es
		  öffnet sich ein Bearbeitungsdialog, in dem alle Werte einer Tabellenzeile angezeigt
		  werden. Alternativ kann in der Tabelle mit einem Doppelklick auf die betreffende Zelle ebenfalls der
		  Dialog zum Bearbeiten eines Eintrags geöffnet werden.
		</p><p>
		  Über die Schaltfläche <span class="guimenu">Zurücksetzen</span> können nach einer Modifikation die
		  markierten Zeilen wieder auf die Originalwerte aus der CSV-Datei zurückgesetzt werden.
		</p><p>
		  Nach Abschluss der manuellen Prüfung und möglicher Korrekturen kann über die Schaltfläche
		  <span class="guimenu">Weiter</span> eine Zusammenfassung über die bevorstehenden Änderungen im
		  Verzeichnisdienst angezeigt werden (siehe <a class="xref" href="#csvimport:summary" title="Abbildung 4.5. CSV-Import: Abschließende Zusammenfassung">Abbildung 4.5</a>). Nach der Bestätigung der bevorstehenden
		  Änderungen werden diese in den Verzeichnisdienst eingepflegt. Je nach Menge der zu importierenden
		  Daten kann dies einen Moment dauern. Ein Fortschrittsbalken informiert über den aktuellen
		  Fortschritt.
		  </p><div class="figure" id="csvimport:summary"><a class="anchor" href="#csvimport:summary" title="Link to this section">§</a><p class="title"><strong>Abbildung 4.5. CSV-Import: Abschließende Zusammenfassung</strong></p><div class="figure-contents"><div align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="37%"><tr><td align="center"><img src="illustrations40/csvimport-summary_40.png" align="middle" width="100%" alt="CSV-Import: Abschließende Zusammenfassung" /></td></tr></table></div></div></div><p><br class="figure-break" />
		</p><p>
		  Nach Abschluss des Imports wird eine kurze Rückmeldung zum Import angezeigt. Die
		  angelegten bzw. geänderten Benutzerkonten stehen nach Abschluss der Verzeichnisdienstreplikation auf
		  den betreffenden UCS@school-Systemen zur Verfügung.
		</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:umc:classes"><a class="anchor" href="#school:setup:umc:classes" title="Link to this section">§</a>4.4. Verwaltung von Schulklassen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:classes" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		Auf dem Domaincontroller Master kann das Anlegen und Entfernen von Schulklassen über das
		UMC-Modul <span class="guimenu">Klassen (Schulen)</span> erfolgen. Das Anlegen einer Schulklasse ist
		erforderlich, bevor das erste Schüler-Benutzerkonto erstellt werden kann. Die eigentliche Zuordnung
		von Schülern zu einer Klasse erfolgt über das UMC-Modul <span class="guimenu">Benutzer (Schulen)</span> am
		Schüler-Benutzerobjekt oder während des CSV-Imports. Die Zuordnung von Lehrern zu Klassen erfolgt über
		das UMC-Modul <span class="guimenu">Lehrer Klassen zuordnen</span>.
	  </p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:classes:create"><a class="anchor" href="#school:setup:umc:classes:create" title="Link to this section">§</a>4.4.1. Anlegen von Schulklassen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:classes:create" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Im zentralen Suchdialog des UMC-Moduls ist oberhalb der Tabelle die Schaltfläche
		  <span class="guimenu">Hinzufügen</span> auszuwählen, um eine neue Klasse zu erstellen.  Sind mehrere Schulen
		  in der UCS@school-Umgebung eingerichtet, wird zunächst abgefragt, in welcher Schule die Klasse
		  angelegt werden soll. Wurde nur eine Schule eingerichtet, wird dieser Schritt automatisch
		  übersprungen.
		</p><p>
		  Anschließend wird für die neue Klasse ein Name sowie eine Beschreibung erfragt. Sprechende
		  Namen, wie zum Beispiel <span class="emphasis"><em>Igel</em></span> oder <em class="wordasword">BiologieLK</em> sind als
		  Namen ebenso möglich wie Buchstaben-Ziffern-Kombinationen (<em class="wordasword">10R</em>). Über die
		  Schaltfläche <span class="guimenu">Speichern</span> wird die neue Klasse im Verzeichnisdienst angelegt.
		</p><p>
		  Die Klassennamen in UCS@school müssen schulübergreifend eindeutig sein. Um trotzdem
		  z.B. die Klasse <em class="wordasword">7A</em> in mehreren Schule verwenden zu können, wird dem
		  Klassennamen im Verzeichnisdienst automatisch das jeweilige Schulkürzel als Präfix
		  vorangestellt. Für die Klasse <em class="wordasword">7A</em> an der Schule mit dem Schulkürzel
		  <em class="wordasword">gymmitte</em> wird daher das Klassenobjekt <em class="wordasword">gymmitte-7A</em>
		  erstellt. Dieser Name mit Präfix zeigt sich z.B. später bei der Administration von Datei- und
		  Verzeichnisberechtigungen auf Windows-Rechnern.
		</p><p>
		  Um innerhalb einer Klasse den Austausch von Dokumenten zu vereinfachen, wird mit dem
		  Anlegen einer neuen Klasse auch automatisch eine neue Freigabe erstellt, die den gleichen Namen
		  trägt, wie das Klassenobjekt (z.B. <em class="wordasword">gymmitte-7A</em>). Die Freigabe wird auf dem
		  Dateiserver angelegt, welcher an dem Schulobjekt unter <span class="guimenu">Erweiterte Einstellungen</span>
		  als <span class="guimenu">Server für Klassenfreigaben</span> hinterlegt ist. Der Zugriff auf diese Freigabe
		  ist auf die Benutzer der Klasse beschränkt.
		</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:classes:modify"><a class="anchor" href="#school:setup:umc:classes:modify" title="Link to this section">§</a>4.4.2. Bearbeiten von Schulklassen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:classes:modify" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Zum Bearbeiten einer Klasse ist diese in der Tabelle auszuwählen und die Schaltfläche
		  <span class="guimenu">Bearbeiten</span> anzuklicken. Im folgenden Dialog können Name und Beschreibung der
		  Klasse bearbeitet werden.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
		  Beim Ändern des Namens werden Klassengruppe, Klassenfreigabe und Freigabeverzeichnis
		  automatisch umbenannt. Gegebenenfalls ist auf Windows-Rechner ein erneutes Anmelden notwendig, um
		  wieder Zugriff auf die Freigabe zu erhalten.
		  </p></div><p>
		  Sofern der angemeldete UMC-Benutzer die Rechte für das UMC-Modul
		  <span class="guimenu">Gruppen</span> aus der Modulgruppe <span class="emphasis"><em>Domäne</em></span> besitzt, wird zusätzlich
		  die Schaltfläche <span class="guimenu">Erweiterte Einstellungen</span> angezeigt. Über sie kann das UMC-Modul
		  <span class="guimenu">Gruppen</span> geöffnet werden, in dem viele erweiterte Einstellungen für die
		  Gruppe möglich sind.
		</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:classes:delete"><a class="anchor" href="#school:setup:umc:classes:delete" title="Link to this section">§</a>4.4.3. Löschen von Schulklassen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:classes:delete" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Zum Löschen von Klassen sind diese in der Tabelle auszuwählen und anschließend die
		  Schaltfläche <span class="guimenu">Löschen</span> anzuklicken. Nach dem Bestätigen werden die Klassen
		  aus dem Verzeichnisdienst entfernt.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
		  Mit dem Löschen der Klassen wird auch automatisch die jeweilige Klassenfreigabe entfernt. In der
		  Standardkonfiguration von UCS@school wird das Freigabeverzeichnis auf dem Dateiserver automatisch in das
		  Backup-Verzeichnis <code class="filename">/home/backup/groups/</code> verschoben.
		  </p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:umc:computers"><a class="anchor" href="#school:setup:umc:computers" title="Link to this section">§</a>4.5. Verwaltung von Rechnern<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:computers" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		Für die Anbindung von Arbeitsplatzrechnern in Form von z.B. Windows-Rechnern werden im
		Verzeichnisdienst Rechnerkonten benötigt. Rechnerkonten werden z.B. von Windows-Rechnern automatisch
		beim Domänenbeitritt angelegt. Sie können aber auch vor dem Domänenbeitritt manuell über das
		UMC-Modul <span class="guimenu">Rechner (Schulen)</span> eingepflegt werden. Dies ist unter anderem für
		IP-Managed-Clients wie z.B. Netzwerkdrucker notwendig.
	  </p><p>
		Das Anlegen der Rechnerkonten vor der Inbetriebnahme bringt den Vorteil, dass z.B. die für
		DHCP notwendigen Informationen wie IP- und MAC-Adresse schon hinterlegt sind.
	  </p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:computers:create"><a class="anchor" href="#school:setup:umc:computers:create" title="Link to this section">§</a>4.5.1. Anlegen von Rechnerkonten<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:computers:create" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Im zentralen Suchdialog des UMC-Moduls ist oberhalb der Tabelle die Schaltfläche
		  <span class="guimenu">Hinzufügen</span> auszuwählen, um den Assistenten für ein neues Rechnerkonto zu starten. 
		</p><p>
		  Sind mehrere Schulen in der UCS@school-Umgebung eingerichtet, ist zunächst auszuwählen, in welcher Schule das Rechnerkonto
		  angelegt werden soll. Wurde nur eine Schule eingerichtet, wird dieses Auswahlfeld automatisch
		  ausgeblendet. Im Auswahlfeld <span class="guimenu">Rechnertyp</span> stehen bis zu vier Rechnertypen zur Auswahl:
		  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
				<span class="guimenu">Windows-System</span> für Windows-Rechner ab Windows XP
			  </p></li><li class="listitem"><p>
				<span class="guimenu">Mac OS X</span>
			  </p></li><li class="listitem"><p>
				<span class="guimenu">Gerät mit IP-Adresse</span> für z.B. Netzwerkdrucker mit eigener IP-Adresse
			  </p></li><li class="listitem"><p>
				<span class="guimenu">Univention Corporate Client</span> ist nur verfügbar, wenn über das
				Univention App Center die Applikation <span class="emphasis"><em>Univention Corporate Client</em></span> installiert
				wurde - siehe dazu auch <a class="xref" href="#school:ucc:general" title="Kapitel 12. Integration und Verwaltung von Univention Corporate Client-Systemen">Kapitel 12</a>.
			  </p></li></ul></div><p>
		</p><p>
		  Auf der nächste Seite des Assistenten müssen <span class="guimenu">Name</span>,
		  <span class="guimenu">IP-Adresse</span> und <span class="guimenu">MAC-Adresse</span> des neuen Rechnerkontos angegeben
		  werden. Um Probleme beim Domänenbeitritt zu vermeiden, muss der Name des Rechnerkontos mit dem Namen
		  des Rechners übereinstimmen. Die <span class="guimenu">Subnetzmaske</span> kann in den meisten Fällen auf der
		  Voreinstellung belassen werden. Die MAC-Adresse wird unter anderem für die statische Vergabe der
		  IP-Adressen per DHCP verwendet. Die Angabe der Inventarnummer ist optional.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
				Als IP-Adresse kann auch die Adresse des Subnetzes angegeben werden (z.B. <code class="systemitem">192.168.2.0</code> bei einer Subnetzmaske von <code class="systemitem">255.255.255.0</code>).
				Der Assistent wählt dann automatisch eine freie IP-Adresse aus dem angegebenen Subnetz aus (z.B. <code class="systemitem">192.168.2.20</code>) und
				weist sie dem neuen Rechnerkonto zu.
			</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:computers:modify"><a class="anchor" href="#school:setup:umc:computers:modify" title="Link to this section">§</a>4.5.2. Bearbeiten von Rechnerkonten<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:computers:modify" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Zum Bearbeiten eines Rechnerkontos ist dieses in der Tabelle auszuwählen und die
		  Schaltfläche <span class="guimenu">Bearbeiten</span> anzuklicken. Im folgenden Dialog können IP-Adresse,
		  MAC-Adresse, Subnetzmaske und Inventarnummer angepasst werden. Das Bearbeiten des Rechnernamens ist
		  nicht möglich.
		</p><p>
		  Sofern der angemeldete UMC-Benutzer die Rechte für das UMC-Modul
		  <span class="guimenu">Rechner</span> aus der Modulgruppe <span class="emphasis"><em>Domäne</em></span> besitzt, wird zusätzlich
		  die Schaltfläche <span class="guimenu">Erweiterte Einstellungen</span> angezeigt. Über sie kann das UMC-Modul
		  <span class="guimenu">Rechner</span> geöffnet werden, in dem viele erweiterte Einstellungen für das
		  Rechnerkonto möglich sind.
		</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:umc:computers:delete"><a class="anchor" href="#school:setup:umc:computers:delete" title="Link to this section">§</a>4.5.3. Löschen von Rechnerkonten<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:umc:computers:delete" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		  Zum Löschen von Rechnerkonten sind diese in der Tabelle auszuwählen und anschließend die
		  Schaltfläche <span class="guimenu">Löschen</span> anzuklicken. Nach dem Bestätigen werden die Rechnerkonten
		  aus dem Verzeichnisdienst entfernt.
		</p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:setup:cli"><a class="anchor" href="#school:setup:cli" title="Link to this section">§</a>Kapitel 5. Verwaltung von Schulen über Importskripte</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#school:setup:cli:importusers">5.1. Pflege von Benutzerkonten für Schüler, Lehrer und Mitarbeiter</a></span></dt><dt><span class="section"><a href="#school:setup:cli:classes">5.2. Import von Schulklassen</a></span></dt><dt><span class="section"><a href="#school:setup:cli:annualrotation">5.3. Vorgehen zum Schuljahreswechsel</a></span></dt><dt><span class="section"><a href="#school:schoolcreate:network:import">5.4. Skriptbasierter Import von Netzwerken</a></span></dt><dt><span class="section"><a href="#school:schoolcreate:computers">5.5. Import von Rechnerkonten für Windows-PCs</a></span></dt><dd><dl><dt><span class="section"><a href="#school:schoolcreate:computers:import">5.5.1. Skriptbasierter Import von PCs</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:cli:printers">5.6. Konfiguration von Druckern an der Schule</a></span></dt></dl></div><p>
	UCS@school bietet für viele der regelmäßig wiederkehrenden Verwaltungsaufgaben spezielle
	UMC-Module und Assistenten an, die beim Anlegen, Modifizieren und Löschen von z.B. Schulen,
	Benutzerkonten und Rechnern unterstützen (diese werden in <a class="xref" href="#school:setup:umc" title="Kapitel 4. Verwaltung von Schulen über die Univention Management Console">Kapitel 4</a>
	beschrieben). Ergänzend hierzu gibt es Programme für die Kommandozeile, die auch eine automatisierte
	Pflege der UCS@school-Umgebung zulassen.
  </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
	Seit der UCS@school-Version 3.2 R2 halten die kommandozeilenbasierten Importskripte zu Beginn
	des jeweiligen Imports den Univention Directory Notifier auf dem Domänencontroller Master an. Nach Abschluss des Imports
	wird der Univention Directory Notifier wieder gestartet.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:cli:importusers"><a class="anchor" href="#school:setup:cli:importusers" title="Link to this section">§</a>5.1. Pflege von Benutzerkonten für Schüler, Lehrer und Mitarbeiter<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:cli:importusers" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Die Verwaltung der Schüler-, Lehrer und Mitarbeiterdaten und deren Aktualisierung zum
	  Schuljahreswechsel (Versetzungen, Schulabgänge etc.) erfolgt in der Regel durch
	  die Schulverwaltung. Hierbei wird eine große Anzahl an Lösungen zur Datenpflege
	  eingesetzt, die sich von Schulträger zu Schulträger unterscheidet.
	</p><p>
	  Die Benutzerverwaltung von UCS@school ist darauf ausgelegt, dass die primäre Verwaltung der
	  Schuldaten weiterhin durch die Schulverwaltung erfolgen kann. Diese Daten werden dann in eine Datei
	  im CSV-Format exportiert und kommandozeilenbasiert in UCS@school importiert. Die einzelnen Felder der
	  CSV-Datei sind durch ein Tabulatorzeichen zu trennen.
	</p><p>
	  Für punktuelle Anpassungen - etwa ein Schulwechsel mitten im Schuljahr -
	  besteht die Möglichkeit einzelne Schüler manuell zu bearbeiten. Dies
	  wird in <a class="xref" href="#school:setup:umc:user" title="4.2. Verwaltung einzelner Benutzerkonten">Abschnitt 4.2</a> beschrieben.
	</p><p>
	  Der Import der Schuldaten ist bei Single- und Multi-Server-Umgebungen identisch.
	</p><p>
	  Der Import von Benutzern erfolgt über das
	  Skript <code class="command">/usr/share/ucs-school-import/scripts/import_user</code>,
	  das auf dem Domänencontroller Master als Benutzer <code class="systemitem">root</code> gestartet werden muss.
	  Es erwartet den Namen einer CSV-Datei als ersten Parameter. Das Format
	  der Eingabedatei ist wie folgt aufgebaut:
	</p><div class="table" id="idp71637920"><a class="anchor" href="#idp71637920" title="Link to this section">§</a><p class="title"><strong>Tabelle 5.1. Aufbau der Datenzeilen für den Benutzer-Import</strong></p><div class="table-contents"><table summary="Aufbau der Datenzeilen für den Benutzer-Import" border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /></colgroup><thead><tr><th>Feld</th><th>Beschreibung</th><th>Mögliche Werte</th><th>Beispiel</th></tr></thead><tbody><tr><td>Aktion</td><td>Art der Benutzermodifikation</td><td><code class="literal">A</code>=Hinzufügen, <code class="literal">M</code>=Modifizieren, <code class="literal">D</code>=Löschen</td><td><strong class="userinput"><code>A</code></strong></td></tr><tr><td>Benutzername</td><td>Der zum Login verwendete Benutzername</td><td>---</td><td><strong class="userinput"><code>m.mustermann</code></strong></td></tr><tr><td>Nachname</td><td>Der Nachname des Benutzers</td><td>---</td><td><strong class="userinput"><code>Mustermann</code></strong></td></tr><tr><td>Vorname</td><td>Der Vorname des Benutzers</td><td>---</td><td><strong class="userinput"><code>Michael</code></strong></td></tr><tr><td>OU</td><td>Die OU, unter der der Benutzer angelegt werden soll</td><td>---</td><td><strong class="userinput"><code>g123m</code></strong></td></tr><tr><td>Klasse</td><td>Name der Klasse des Benutzers; nur Lehrer können in mehreren Klassen vertreten sein!</td><td>---</td><td><strong class="userinput"><code>g123m-1A,g123m-1B, g123m-2A,g123m-4C</code></strong></td></tr><tr><td>Rechte</td><td>derzeit ungenutzt; das Feld sollte leer bleiben, so dass 2 Tabulator-Zeichen aufeinander folgen</td><td>---</td><td> </td></tr><tr><td>Email-Adresse</td><td>Mailadresse des Benutzers</td><td>---</td><td><strong class="userinput"><code>m.musterm@beispiel.edu</code></strong></td></tr><tr><td>(Lehrer)</td><td>Definiert, ob der Benutzer ein Lehrer ist</td><td><code class="literal">0</code>=Kein Lehrer, <code class="literal">1</code>=Lehrer</td><td><strong class="userinput"><code>1</code></strong></td></tr><tr><td>(Aktiv)</td><td>Definiert, ob das Benutzerkonto beim Anlegen sofort aktiviert wird</td><td><code class="literal">0</code>=nicht aktivieren, <code class="literal">1</code>=aktivieren</td><td><strong class="userinput"><code>1</code></strong></td></tr><tr><td>(Mitarbeiter)</td><td>Definiert, ob der Benutzer ein Mitarbeiter ist</td><td><code class="literal">0</code>=Kein Mitarbeiter, <code class="literal">1</code>=Mitarbeiter</td><td><strong class="userinput"><code>0</code></strong></td></tr></tbody></table></div></div><br class="table-break" /><p>
	  Ein Beispiel für eine Importdatei:
	</p><pre class="programlisting">A  max   Meyer  Max     g123m  g123m-1A           max@schule.edu   0 1 0
M  m.we  Weber  Moritz  g123m  g123m-1A,g123m-2D  mw@schule.edu    1 1 0
D  a.la  Lang   Anke    g123m  g123m-4C           a.la@schule.edu  1 1 1</pre><p>
	  Über das Feld <span class="emphasis"><em>Aktion</em></span> kann die Art der Benutzermodifikation gesteuert
	  werden. Folgende Aktionen sind definiert:
	</p><div class="informaltable"><table border="1"><colgroup><col class="col1" /><col class="col2" /></colgroup><thead><tr><th>Aktion</th><th>Beschreibung</th></tr></thead><tbody><tr><td>A</td><td>Hinzufügen</td></tr><tr><td>M</td><td>Modifizieren</td></tr><tr><td>D</td><td>Löschen</td></tr></tbody></table></div><p>
	  Auch beim Löschen (Aktion <code class="literal">D</code>) müssen gültige Werte übergeben werden.
	</p><p>
	  Die Angabe von Klassen bezieht sich bei Schülern in der Regel auf eine
	  einzelne Klasse. Lehrer können dagegen in mehreren Klassen vertreten
	  sein. Diese sollten auch angegeben werden (kommasepariert), damit die
	  Benutzerkonten der Lehrer automatisch in die jeweilige Klassengruppe
	  eingetragen werden und sie somit auch Zugriff auf die jeweilige Dateifreigabe
	  der Klasse erhalten. Bei Mitarbeitern ist das Feld Klasse leer zu lassen.
	</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
	  Bei der Angabe von Schulklassen ist zu beachten, dass die Klassennamen domänenweit eindeutig
	  sein müssen. Das heißt, eine Klasse <em class="wordasword">1A</em> kann nicht in mehreren OUs verwendet
	  werden. Bei der Erstellung von Klassen über das UMC-Modul <span class="emphasis"><em>Klassen (Schulen)</em></span>
	  wird daher automatisch die OU und ein Bindestrich dem Klassennamen als Präfix vorangestellt. Dieses
	  Vorgehen wird auch für den Import auf der Kommandozeile empfohlen.
	  </p></div><p>
	  Die optionalen Felder <span class="emphasis"><em>Lehrer</em></span> und <span class="emphasis"><em>Mitarbeiter</em></span> bestimmen die
	  Rolle des Benutzers im System. Werden die Werte nicht angegeben, so
	  wird der Benutzer mit der Rolle Schüler angelegt. Es ist möglich einem
	  Benutzer sowohl die Rollen Lehrer und Mitarbeiter zu geben.
	</p><p>
	  Über das optionale Feld <span class="emphasis"><em>Aktiv</em></span> wird gesteuert, ob das Benutzerkonto aktiviert
	  werden soll. Ist kein Wert angegeben, wird das Konto automatisch aktiviert.
	</p><p>
	  Die Benutzerkonten werden mit zufälligen,
	  unbekannten Passwörtern initialisiert. Mehrere Personengruppen können die
	  Konten anschließend freischalten:
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Das Konto eines Schuladministrators kann durch Benutzer der Gruppe <code class="systemitem">Domain Admins</code> in der Univention Management Console erstellt und modifiziert werden.</li><li class="listitem">Die Konten von Mitarbeitern können durch Benutzer der Gruppe <code class="systemitem">Domain Admins</code> in der Univention Management Console durch die Vergabe eines Passworts freigeschaltet werden.</li><li class="listitem">Die Konten von Lehrern können durch den Schuladministrator über das Modul <span class="guimenu">Passwörter (Schüler)</span> durch die Vergabe eines Passworts freigeschaltet werden.</li><li class="listitem">Die Konten von Schülern können durch Lehrer über das Modul <span class="guimenu">Passwörter (Lehrer)</span> klassenweise durch die Vergabe eines Passworts freigeschaltet werden.</li></ul></div><p>
	  Mit den folgenden Univention Configuration Registry-Variablen kann für Schüler, Lehrer,
	  Schuladministratoren und Mitarbeiter eine UMC-Richtlinie zugewiesen
	  werden, die festlegt, welche UMC-Module bei einer Anmeldung der
	  entsprechenden Benutzergruppe angezeigt werden. Hierbei muss der LDAP-DN
	  (<span class="foreignphrase"><em class="foreignphrase">Distinguished Name</em></span>) der Richtlinie angegeben werden.
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="envar">ucsschool/ldap/default/policy/umc/pupils</code> gilt für Anmeldungen von Schülern</li><li class="listitem"><code class="envar">ucsschool/ldap/default/policy/umc/teachers</code> gilt für Anmeldungen von Lehrern</li><li class="listitem"><code class="envar">ucsschool/ldap/default/policy/umc/admins</code> gilt für Anmeldungen von Schuladministratoren</li><li class="listitem"><code class="envar">ucsschool/ldap/default/policy/umc/staff</code> gilt für Anmeldungen von Mitarbeitern</li></ul></div><p>
	  Wenn die UCR-Variablen auf den Wert <code class="literal">None</code> gesetzt sind, wird für den jeweiligen Benutzertyp keine Richtlinie
	  verknüpft. Es müssen dann eigene Richtlinien an die Container gebunden
	  werden.
	</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
		Bei der Verwendung von Samba 4 benötigt der S4-Connector einige Zeit, um die Benutzer in die
		Samba 4-Benutzerdatenbank zu synchronisieren. Je nach Menge der Importdaten und der verwendeten
		Hardware kann die Synchronisation einige Stunden benötigen. Währenddessen kann es zu Verzögerungen
		in der Synchronisation von nicht-import-abhängigen Änderungen im LDAP oder Active Directory kommen
		(z.B. interaktive Änderung von Benutzerpasswörtern).
	  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:cli:classes"><a class="anchor" href="#school:setup:cli:classes" title="Link to this section">§</a>5.2. Import von Schulklassen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:cli:classes" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Beim Import schon Schulklassen ist zu beachten, dass die Klassennamen domänenweit eindeutig sein müssen. Das heißt, eine
	  Klasse <em class="wordasword">1A</em> kann nicht in mehreren OUs verwendet werden. Daher sollte jedem
	  Klassennamen die OU und ein Bindestrich vorangestellt werden. Bei der Erstellung von Klassen über das UMC-Modul
	  <span class="emphasis"><em>Klassen (Schulen)</em></span> geschieht dies automatisch. Sprechende Namen, wie zum
	  Beispiel <span class="emphasis"><em>Igel</em></span> oder <em class="wordasword">BiologieAG</em>, sind für Klassennamen
	  ebenso möglich wie Buchstaben-Ziffern-Kombinationen (<em class="wordasword">10R</em>). Beispiele für die
	  Schule <em class="wordasword">gym123</em>:
	</p><pre class="programlisting">gym123-1A
gym123-1B
gym123-2A
gym123-Igel</pre><p>
	  Der Import von Benutzern erfolgt über das Skript
	  <code class="command">/usr/share/ucs-school-import/scripts/import_group</code>, das auf dem Domänencontroller Master als
	  Benutzer <code class="systemitem">root</code> gestartet werden muss.  Es erwartet den Namen einer CSV-Datei als
	  ersten Parameter. Das Dateiformat für die Gruppen-Importdatei ist wie folgt aufgebaut:
	</p><div class="table" id="idp75706208"><a class="anchor" href="#idp75706208" title="Link to this section">§</a><p class="title"><strong>Tabelle 5.2. Aufbau der Datenzeilen für den Gruppen-Import</strong></p><div class="table-contents"><table summary="Aufbau der Datenzeilen für den Gruppen-Import" border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /></colgroup><thead><tr><th>Feld</th><th>Beschreibung</th><th>Mögliche Werte</th><th>Beispiel</th></tr></thead><tbody><tr><td>Aktion</td><td>Art der Gruppenmodifikation</td><td><code class="literal">A</code>=Hinzufügen, <code class="literal">M</code>=Modifizieren, <code class="literal">D</code>=Löschen</td><td><strong class="userinput"><code>A</code></strong></td></tr><tr><td>OU</td><td>OU, in der die Gruppe modifiziert werden soll</td><td>---</td><td><strong class="userinput"><code>g123m</code></strong></td></tr><tr><td>Gruppenname</td><td>Der Name der Gruppe</td><td>---</td><td><strong class="userinput"><code>g123m-1A</code></strong></td></tr><tr><td>(Beschreibung)</td><td>Optionale Beschreibung der Gruppe</td><td>---</td><td><strong class="userinput"><code>Klasse 1A</code></strong></td></tr></tbody></table></div></div><br class="table-break" /><p>
	  Ein Beispiel für eine Importdatei:
	</p><pre class="programlisting">A	  g123m		g123m-1A		 Klaaassen 1A
A	  g123m		g123m-LK-Inf	 Leistungskurs Informatik
M	  g123m		g123m-1A		 Klasse 1A
D	  g123m		g123m-LK-Inf	 Leistungskurs Informatik
D	  g123m		g123m-R12		 Klasse R12</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:cli:annualrotation"><a class="anchor" href="#school:setup:cli:annualrotation" title="Link to this section">§</a>5.3. Vorgehen zum Schuljahreswechsel<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:cli:annualrotation" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Zum Schuljahreswechsel stehen zahlreiche Änderungen in den
	  Benutzerdaten an: Schüler werden in eine höhere Klasse versetzt, der
	  Abschlussjahrgang verlässt die Schule und ein neuer Jahrgang wird
	  eingeschult.
	</p><p>
	  Ein Schuljahreswechsel erfolgt in vier Schritten:
	</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Eine Liste aller Schulabgänger wird aus der
		Schulverwaltungssoftware exportiert und die Konten werden über das Import-Skript
		entfernt (Aktion D, siehe <a class="xref" href="#school:setup:cli:importusers" title="5.1. Pflege von Benutzerkonten für Schüler, Lehrer und Mitarbeiter">Abschnitt 5.1</a>).
		Die Klassen der Schulabgänger müssen ebenfalls über das
		Import-Skript für Gruppen entfernt werden.
		</li><li class="listitem"><p>Die bestehenden Klassen sollten umbenannt werden. Dies stellt
		sicher, dass Dateien, die auf einer Klassenfreigabe gespeichert werden
		und somit einer Klasse zugeordnet sind, nach dem Schuljahreswechsel
		weiterhin der Klasse unter dem neuen Klassennamen zugeordnet sind.
		</p><p>
		  Die ältesten Klassen (die der Abgänger zum Schulende) müssen zuvor
		  gelöscht werden. Die Umbenennung erfolgt über das
		  Skript <code class="command">/usr/share/ucs-school-import/scripts/rename_class</code>,
		  das auf dem Domänencontroller Master als Benutzer <code class="systemitem">root</code> aufgerufen werden
		  muss. Es erwartet den Namen einer tab-separierten CSV-Datei als ersten
		  Parameter. Die CSV-Datei enthält dabei pro Zeile zuerst den alten und dann den
		  neuen Klassennamen, z.B.
		</p><pre class="programlisting">gymmitte-6B		gymmitte-7B
gymmitte-5B		gymmitte-6B</pre><p>
		  Die Reihenfolge der Umbenennung ist wichtig, da die Umbenennung
		  sequentiell erfolgt und der Zielname nicht existieren darf.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
			Beim Umbenennen der Klassen-Freigaben werden auch deren Werte für
			<span class="guimenu">Samba-Name</span> sowie die <span class="guimenu">erzwungene Gruppe</span> automatisch angepasst,
			sofern diese noch die Standardwerte des UCS@school-Importskriptes aufweisen. Bei manuellen
			Änderungen müssen diese Werte nach dem Umbenennen der Klasse nachträglich manuell angepasst werden.
		  </p></div></li><li class="listitem">Eine aktuelle Liste aller verbleibenden Schülerdaten wird über das
		Import-Skript neu eingelesen (Aktion M, siehe <a class="xref" href="#school:setup:cli:importusers" title="5.1. Pflege von Benutzerkonten für Schüler, Lehrer und Mitarbeiter">Abschnitt 5.1</a>).
		</li><li class="listitem">Eine Liste aller Neuzugänge wird aus der
		Schulverwaltungssoftware exportiert und über das Import-Skript
		importiert (Aktion A, siehe <a class="xref" href="#school:setup:cli:importusers" title="5.1. Pflege von Benutzerkonten für Schüler, Lehrer und Mitarbeiter">Abschnitt 5.1</a>).
		</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:schoolcreate:network:import"><a class="anchor" href="#school:schoolcreate:network:import" title="Link to this section">§</a>5.4. Skriptbasierter Import von Netzwerken<a href="https://www.univention.de/produkt-feedback/?manual=school:schoolcreate:network:import" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Durch den Import von Netzwerken können IP-Subnetze im LDAP angelegt werden und diverse
	  Voreinstellungen wie Adressen von Router, DNS-Server etc. für diese Subnetze konfiguriert
	  werden. Darunter fällt z.B. auch ein Adressbereich aus dem für neuangelegte Systeme automatisch
	  IP-Adressen vergeben werden können.  
	</p><p>
	  Das Importieren von Subnetzen empfiehlt sich in größeren UCS@school-Umgebungen. Kleinere
	  Umgebungen können diesen Schritt häufig überspringen, da fehlende Netzwerke beim Import von
	  Rechnerkonten automatisch angelegt werden.
	</p><p>
	  Netzwerke können derzeit nur auf der Kommandozeile über das Skript
	  <code class="command">/usr/share/ucs-school-import/scripts/import_networks</code> importiert werden. Das
	  Skript muss auf dem Domänencontroller Master als Benutzer <code class="systemitem">root</code> aufgerufen werden. Das Format
	  der Import-Datei ist wie folgt aufgebaut:
	</p><div class="informaltable"><table border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /></colgroup><thead><tr><th>Feld</th><th>Beschreibung</th><th>Mögliche Werte</th></tr></thead><tbody><tr><td>OU</td><td>OU des zu modifizierenden Netzwerks</td><td><strong class="userinput"><code>g123m</code></strong></td></tr><tr><td>Netzwerk</td><td>Netzwerk und Subnetzmaske</td><td><strong class="userinput"><code>10.0.5.0/​255.255.255.0</code></strong></td></tr><tr><td>(IP-Adress-Bereich)</td><td>Bereich, aus dem IP-Adressen für neuangelegte Systeme automatisch vergeben werden</td><td><strong class="userinput"><code>10.0.5.10-​10.0.5.140</code></strong></td></tr><tr><td>(Router)</td><td>IP-Adresse des Routers</td><td><strong class="userinput"><code>10.0.5.1</code></strong></td></tr><tr><td>(DNS-Server)</td><td>IP-Adresse des DNS-Servers</td><td><strong class="userinput"><code>10.0.5.2</code></strong></td></tr><tr><td>(WINS-Server)</td><td>IP-Adresse des WINS-Servers</td><td><strong class="userinput"><code>10.0.5.2</code></strong></td></tr></tbody></table></div><p>
	  Beispiel für eine Importdatei:
	</p><pre class="programlisting">g123m  10.0.5.0                          10.0.5.1  10.0.5.2  10.0.5.2
g123m  10.0.6.0/25  10.0.6.5-10.0.6.120  10.0.6.1  10.0.6.2  10.0.6.15</pre><p>
	  Wird für das Feld <span class="emphasis"><em>Netzwerk</em></span> keine Netzmaske angegeben, so wird
	  automatisch die Netzmaske <code class="systemitem">255.255.255.0</code> verwendet. Sollte
	  der <span class="emphasis"><em>IP-Adressbereich</em></span> nicht explizit angegeben worden sein, wird der
	  Bereich <em class="wordasword">X.Y.Z.20-X.Y.Z.250</em> verwendet.
	</p><p>
	  Zur Vereinfachung der Administration der Netzwerke steht zusätzlich das Skript
	  <code class="command">import_router</code> zur Verfügung, das nur den Default-Router für das
	  angegebene Netzwerk neu setzt. Es verwendet das gleiche Format wie
	  <code class="command">import_networks</code>.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:schoolcreate:computers"><a class="anchor" href="#school:schoolcreate:computers" title="Link to this section">§</a>5.5. Import von Rechnerkonten für Windows-PCs<a href="https://www.univention.de/produkt-feedback/?manual=school:schoolcreate:computers" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Rechnerkonten können entweder einzeln über ein spezielles UMC-Modul oder über ein spezielles
	  Import-Skript als Massenimport angelegt werden. Die Rechnerkonten sollten vor dem Domänenbeitritt
	  von z.B. Windows-PCs angelegt werden, da so sichergestellt wird, dass die für den Betrieb von
	  UCS@school notwendigen Informationen im LDAP-Verzeichnis vorhanden sind und die Objekte an der
	  korrekten Position im LDAP-Verzeichnis abgelegt wurden.
	</p><p>
	  Nach dem Anlegen der Rechnerkonten können Windows-PCs über den im UCS-Handbuch beschriebenen
	  Weg der Domäne beitreten.
	</p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:schoolcreate:computers:import"><a class="anchor" href="#school:schoolcreate:computers:import" title="Link to this section">§</a>5.5.1. Skriptbasierter Import von PCs<a href="https://www.univention.de/produkt-feedback/?manual=school:schoolcreate:computers:import" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		Der Import mehrerer PCs erfolgt über das
		Skript <code class="command">/usr/share/ucs-school-import/scripts/import_computer</code>,
		das auf dem Domänencontroller Master als Benutzer <code class="systemitem">root</code> aufgerufen werden muss.
		Es erwartet den Namen einer CSV-Datei als ersten Parameter, die in
		folgender Syntax definiert wird. Die einzelnen Felder sind durch ein
		Tabulatorzeichen zu trennen.
	  </p><p>
		Es ist zu beachten, dass Computernamen domänenweit eindeutig sein müssen. Das heißt, ein
		Computer <code class="systemitem">windows01</code> kann nicht in mehreren OUs verwendet werden. Um die
		Eindeutigkeit zu gewährleisten, wird empfohlen, jedem Computernamen die OU voranzustellen oder zu
		integrieren (z.B. <em class="wordasword">340win01</em> für Schule <span class="emphasis"><em>340</em></span>).
	  </p><div class="informaltable"><table border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /></colgroup><thead><tr><th>Feld</th><th>Beschreibung</th><th>Mögliche Werte</th><th>Beispiel</th></tr></thead><tbody><tr><td>Rechnertyp</td><td>Typ des Rechnerobjektes</td><td><code class="literal">ipmanagedclient</code>, <code class="literal">macos</code>, <code class="literal">ucc</code>, <code class="literal">windows</code></td><td><strong class="userinput"><code>windows</code></strong></td></tr><tr><td>Name</td><td>Zu verwendender Rechnername</td><td>---</td><td><strong class="userinput"><code>wing123m-01</code></strong></td></tr><tr><td>MAC-Adresse</td><td>MAC-Adresse (wird für DHCP benötigt)</td><td>---</td><td><strong class="userinput"><code>00:0c:29:12:23:34</code></strong></td></tr><tr><td>OU</td><td>OU, in der das Rechnerobjekt modifiziert werden soll</td><td>---</td><td><strong class="userinput"><code>g123m</code></strong></td></tr><tr><td>IP-Adresse (/ Netzmaske) oder IP-Subnetz</td><td>IP-Adresse des Rechnerobjektes und optional die passende Netzmaske; alternativ das Ziel-IP-Subnetz</td><td>---</td><td><strong class="userinput"><code>10.0.5.45/​255.255.255.0</code></strong></td></tr><tr><td>(<abbr class="abbrev">Inventarnr.</abbr>)</td><td>Optionale Inventarnummer</td><td>---</td><td><strong class="userinput"><code>TR47110815-XA-3</code></strong></td></tr><tr><td>(Zone)</td><td>Optionale Zone</td><td><code class="literal">edukativ</code>, <code class="literal">verwaltung</code></td><td><strong class="userinput"><code>edukativ</code></strong></td></tr></tbody></table></div><p>
		Die Subnetzmaske kann sowohl als Präfix (<code class="systemitem">24</code>) als auch in
		Oktettschreibweise (<code class="systemitem">255.255.255.0</code>) angegeben werden. Die Angabe
		der Subnetzmaske ist optional. Wird sie weggelassen, wird die
		Subnetzmaske <code class="systemitem">255.255.255.0</code> angenommen.
	  </p><p>
		Wird im Feld <span class="emphasis"><em>IP-Adresse (/ Netzmaske)</em></span> nur ein Subnetz angegeben
		(z.B. <code class="systemitem">10.0.5.0</code>), wird dem Computerobjekt automatisch die nächste freie
		IP-Adresse aus diesem IP-Subnetz zugewiesen.
	  </p><p>
		Beispiel für eine Importdatei:
	  </p><pre class="programlisting">ipmanagedclient  routerg123m-01   10:00:ee:ff:cc:02  g123m  10.0.5.1
windows          wing123m-01      10:00:ee:ff:cc:00  g123m  10.0.5.5
windows          wing123m-02      10:00:ee:ff:cc:01  g123m  10.0.5.6
macos            macg123m-01      10:00:ee:ff:cc:03  g123m  10.0.5.7
ipmanagedclient  printerg123m-01  10:00:ee:ff:cc:04  g123m  10.0.5.250
ucc              uccg123m-01      10:00:ee:ff:cd:e2  g123m  10.0.5.10</pre><p>
		Die importierten Rechner werden so konfiguriert, dass ihnen die
		angegebene IP-Adresse automatisch per DHCP zugeordnet wird (sofern auf
		dem Schulserver der DHCP-Dienst installiert ist) und der angegebene
		Rechnername über das Domain Name System (DNS) aufgelöst werden kann.
	  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:cli:printers"><a class="anchor" href="#school:setup:cli:printers" title="Link to this section">§</a>5.6. Konfiguration von Druckern an der Schule<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:cli:printers" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Der Import der Drucker kann skriptbasiert über das
	  Skript <code class="command">/usr/share/ucs-school-import/scripts/import_printer</code> erfolgen,
	  das auf dem Domänencontroller Master als Benutzer <code class="systemitem">root</code> aufgerufen werden muss.
	  Es erwartet den Namen einer CSV-Datei als ersten Parameter, die in
	  folgender Syntax definiert wird. Die einzelnen Felder sind durch ein
	  Tabulatorzeichen zu trennen.
	</p><div class="informaltable"><table border="1"><colgroup><col class="col1" /><col class="col2" /><col class="col3" /><col class="col4" /></colgroup><thead><tr><th>Feld</th><th>Beschreibung</th><th>Mögliche Werte</th><th>Beispiel</th></tr></thead><tbody><tr><td>Aktion</td><td>Art der Druckermodifkation</td><td><code class="literal">A</code>=Hinzufügen, <code class="literal">M</code>=Modifizieren, <code class="literal">D</code>=Löschen</td><td><strong class="userinput"><code>A</code></strong></td></tr><tr><td>OU</td><td>OU, in der das Druckerobjekt modifiziert werden soll</td><td>---</td><td><strong class="userinput"><code>g123m</code></strong></td></tr><tr><td>Druckserver</td><td>Name des zu verwendenden Druckservers</td><td>---</td><td><strong class="userinput"><code>dcg123m-01</code></strong></td></tr><tr><td>Name</td><td>Name der Druckerwarteschlange</td><td>---</td><td><strong class="userinput"><code>laserdrucker</code></strong></td></tr><tr><td>URI</td><td>URI, unter dem der Drucker erreichbar ist</td><td>---</td><td><strong class="userinput"><code>lpd://10.0.5.250</code></strong></td></tr></tbody></table></div><p>
	  Die Druckerwarteschlange wird beim Anlegen eines neuen Druckers auf dem im
	  Feld <span class="emphasis"><em>Druckserver</em></span> angegebenen Druckserver eingerichtet. Das
	  URI-Format unterscheidet sich je nach angebundenem Drucker und ist im
	  Druckdienste-Kapitel des UCS-Handbuchs beschrieben.
	</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:setup:generic"><a class="anchor" href="#school:setup:generic" title="Link to this section">§</a>Kapitel 6. Erweiterte Konfiguration</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#school:setup:generic:printmoderation">6.1. Einrichtung der Druckmoderation</a></span></dt><dd><dl><dt><span class="section"><a href="#school:setup:generic:moderated-printer">6.1.1. Anlegen eines PDF-Druckers für die Druckermoderation</a></span></dt></dl></dd><dt><span class="section"><a href="#school:setup:generic:windowsattributes">6.2. Windows-spezifische Benutzereinstellungen</a></span></dt><dt><span class="section"><a href="#school:setup:generic:shares">6.3. Anlegen von Freigaben</a></span></dt><dt><span class="section"><a href="#school:setup:generic:roleshares">6.4. Lehrerzugriff auf Benutzerfreigaben</a></span></dt><dt><span class="section"><a href="#school:setup:generic:schooladmins">6.5. Anlegen von Benutzerkonten für Schuladministratoren</a></span></dt><dt><span class="section"><a href="#school:setup:generic:configurehelpdesk">6.6. Konfiguration der Helpdesk-Kontaktadresse</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:generic:printmoderation"><a class="anchor" href="#school:setup:generic:printmoderation" title="Link to this section">§</a>6.1. Einrichtung der Druckmoderation<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:generic:printmoderation" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Um unnötige oder fehlerhafte Druckaufträge zu minimieren, bietet UCS@school den Lehrern die
	  Möglichkeit, Druckaufträge zu moderieren.  Dafür werden die Druckaufträge zunächst über einen
	  speziellen PDF-Drucker (Druckerfreigabe <code class="systemitem">PDFDrucker</code>) auf dem
	  Schüler-/Lehrerrechner gedruckt und anschließend durch den Lehrer im UMC-Modul <span class="emphasis"><em>Drucker
	  moderieren</em></span> betrachtet, verworfen oder für den Druck freigegeben.
	</p><p>
	  In UCS@school gibt es vielfältige Möglichkeiten die Druckmoderation zu konfigurieren und
	  einzusetzen. Nachfolgend wird die Einrichtung eines einzelnen Szenarios beschrieben, welches leicht
	  an die Bedürfnisse der eigenen Schulumgebung angepasst werden kann. In dem beschriebenen Szenario
	  wird der Zugriff auf die physikalischen Drucker für alle Schüler gesperrt.
	</p><p>
	  Für die Druckmoderation ist es erforderlich, dass zunächst wie in <a class="xref" href="#school:setup:cli:printers" title="5.6. Konfiguration von Druckern an der Schule">Abschnitt 5.6</a> beschrieben, Druckfreigaben für die zu verwendenden, physikalisch
	  existierenden Drucker angelegt werden.
	</p><p>
	  An den Druckerfreigabeobjekten (UMC-Modul <span class="emphasis"><em>Drucker</em></span>) können spezielle
	  Zugriffsrechte gesetzt werden. Dabei kann der Zugriff für einzelne Benutzer oder ganze Gruppen
	  erlaubt bzw. gesperrt werden. Um den Schülern den Zugriff auf die physikalischen Drucker zu
	  verbieten, muss an den Druckerfreigaben für diese Drucker der Zugriff durch Benutzer der
	  OU-spezifischen Gruppe <code class="systemitem">schueler-<em class="replaceable"><code>OU</code></em></code>&gt; (z.B. <code class="systemitem">schueler-gsmitte</code>)
	  verboten werden. Für den PDF-Drucker <code class="systemitem">PDFDrucker</code> sollten keine Einschränkungen
	  gemacht werden.
	</p><p>
	  Schüler haben damit nur noch die Möglichkeit Druckaufträge an den
	  <code class="systemitem">PDFDrucker</code> zu senden.  Im UMC-Modul <span class="emphasis"><em>Drucker moderieren</em></span>
	  können die Druckaufträge anschließend durch den Lehrer aufgelistet und betrachtet werden. Dafür ist
	  ein geeignetes Programm zur Anzeige von PDF-Dateien auf den Lehrerrechnern erforderlich. Die
	  Druckaufträge können dann durch den Lehrer an einen beliebigen physikalischen Drucker der Schule
	  weitergeleitet oder auch verworfen werden.
	</p><p>
	  Um Ausnahmen von dieser strikte Regelung zu ermöglichen, kann der Lehrer im UMC-Modul
	  <span class="emphasis"><em>Computerraum</em></span> über den Punkt <span class="emphasis"><em>Einstellungen ändern</em></span> den
	  Druckmodus für einen einzelnen Computerraum beeinflussen. Die oben beschriebenen Einschränkungen für
	  Schüler werden dabei als <span class="emphasis"><em>Standard (globale Einstellungen)</em></span> beschrieben. Darüber
	  hinaus können auch die Druckmodi <span class="emphasis"><em>Drucken deaktiviert</em></span> und <span class="emphasis"><em>Drucken
	  möglich</em></span> ausgewählt werden, die das Drucken von den Rechnern des Computerraums entweder
	  vollständig untersagen oder - unabhängig der gemachten Voreinstellungen - auf allen physikalischen
	  Druckern erlauben.
	</p><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:setup:generic:moderated-printer"><a class="anchor" href="#school:setup:generic:moderated-printer" title="Link to this section">§</a>6.1.1. Anlegen eines PDF-Druckers für die Druckermoderation<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:generic:moderated-printer" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
		Druckerfreigaben werden, wie in einer Standard-UCS-Installation, über
		das UMC-Modul <span class="guimenu">Drucker</span> auf dem Domänencontroller Master
		angelegt. Weiterführende Dokumentation findet sich im
		Druckdienste-Kapitel des UCS-Handbuchs [<a href="#ucs-handbuch" class="biblioref">ucs-handbuch</a>].
	  </p><p>
		Die Drucker müssen unterhalb der OU der Schule angelegt werden,
		die Auswahl findet mit der Option <span class="guimenu">Container</span> beim
		Anlegen eines Drucker statt. Bei der OU <em class="wordasword">gym17</em> muss
		beispielsweise <span class="guimenuitem">gym17/printers</span> ausgewählt werden.
	  </p><p>
		Für die Verwendung der Druckermoderation muss ein PDF-Drucker unterhalb der OU der Schule
		angelegt werden. Dies geschieht in der Regel automatisch bei der Installation von UCS@school bzw. dem
		Ausführen der Joinskripte.
	  </p><p>
		Sollte der PDF-Drucker für eine OU fehlen, gibt es zwei Möglichkeiten dieses für eine OU zu erstellen:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			  Auf dem Schulserver kann über das UMC-Modul <span class="emphasis"><em>Domänenbeitritt</em></span> das Joinskript
			  <span class="emphasis"><em>80ucs-school-umc-printermoderation</em></span> (erneut) ausgeführt werden.
			</li><li class="listitem"><p class="simpara">
			  Alternativ kann das LDAP-Objekt im zuständigen Container für Druckerfreigaben der
			  betreffenden OU (siehe oben) angelegt werden. Dabei müssen folgende Werte am Druckerfreigabe-Objekt
			  gesetzt werden:
			</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
					<span class="guimenu">Server</span> : Name des Schulservers
				  </li><li class="listitem">
					<span class="guimenu">Protokoll</span> : <code class="uri">cups-pdf:/</code>
				  </li><li class="listitem">
					<span class="guimenu">Ziel</span> : leer
				  </li><li class="listitem">
					<span class="guimenu">Drucker-Hersteller</span> : <span class="emphasis"><em>PDF</em></span>
				  </li><li class="listitem">
					<span class="guimenu">Drucker-Modell</span> : <strong class="userinput"><code>Generic CUPS-PDF Printer</code></strong>
				  </li></ul></div></li></ul></div><p>
	  </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:generic:windowsattributes"><a class="anchor" href="#school:setup:generic:windowsattributes" title="Link to this section">§</a>6.2. Windows-spezifische Benutzereinstellungen<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:generic:windowsattributes" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Neben den in <a class="xref" href="#school:setup:umc:user" title="4.2. Verwaltung einzelner Benutzerkonten">Abschnitt 4.2</a>  und <a class="xref" href="#school:setup:cli:importusers" title="5.1. Pflege von Benutzerkonten für Schüler, Lehrer und Mitarbeiter">Abschnitt 5.1</a> genannten Attributen für Benutzer werden
	  beim Anlegen eines Benutzers auch automatisch einige Windows-spezifische Einstellungen vorgenommen:
	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara"> 
			Für die Verwendung von Samba ist es notwendig, dass für jeden Benutzer ein UNC-Pfad für
			das Windows-Benutzerprofil vorgegeben wird. In der Standardeinstellung von UCS@school wird der
			jeweilige Logonserver als Ablageort für das Benutzerprofil definiert
			(<code class="filename">%LOGONSERVER%\%USERNAME%\windows-profiles\default</code>).  Falls die
			Benutzerprofile statt auf dem Logonserver auf einem anderen Dateiserver gespeichert werden sollen, kann in der
			Univention Management Console am Rechnerobjekt des gewünschten Dateiservers der Dienst <span class="emphasis"><em>Windows Profile
			Server</em></span> gesetzt werden. Es wird dann ein UNC-Pfad nach dem Schema
			<code class="filename">\\DATEISERVERNAME\%USERNAME%\windows-profiles\default</code> am Benutzerobjekt gespeichert.
		  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
				Falls ein alternativer Dateiserver für den Benutzerprofilpfad verwendet werden soll, muss das entsprechende 
				Rechnerobjekt unterhalb der Schul-OU im LDAP-Verzeichnisdienst liegen.
			  </p><p>
				Für den reibungslosen Betrieb darf der Dienst <span class="emphasis"><em>Windows Profile Server</em></span> nur an einem Dateiserver pro OU
				gesetzt werden. Weiterhin ist der Dienst <span class="emphasis"><em>Windows Profile Server</em></span> veraltet und wird in
				einer zukünftigen UCS@school-Version entfernt bzw. durch einen äquivalenten Mechanismus ersetzt.
			  </p></div></li><li class="listitem">
			Darüber hinaus wird auch automatisch der Pfad zum Heimatverzeichnis des Benutzers
			gesetzt. In einer Single-Server-Umgebung wird automatisch der Domaincontroller Master als
			Dateiserver eingetragen. In Multi-Server-Umgebungen ist der für die OU zuständige Dateiserver am
			Schul-OU-Objekt hinterlegt. Um diesen zu ändern, muss in der Univention Management Console das OU-Objekt geöffnet werden
			und auf dem Reiter <span class="emphasis"><em>UCS@school</em></span> im Auswahlfeld <span class="emphasis"><em>Server für
			Windows-Heimatverzeichnisse</em></span> ein geeigneter Dateiserver ausgewählt werden (siehe auch
			<a class="xref" href="#school:setup:umc:schools:modify" title="4.1.2. Bearbeiten von Schulen">Abschnitt 4.1.2</a>). Der dort definierte Dateiserver wird beim Anlegen
			eines Benutzers ausgelesen und der UNC-Pfad am Benutzerobjekt entsprechend gesetzt (Beispiel:
			<code class="filename">\\server3.example.com\benutzer123</code>).
		  </li></ul></div><p>
	  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
		  Die Windows-spezifischen Einstellungen werden nur beim Anlegen eines Benutzers gesetzt
		  und am Benutzerobjekt gespeichert. Ein nachträgliches Modifizieren des Benutzers über die
		  Importskripte hat keinen Einfluss auf diese Einstellungen. Änderungen müssen manuell z.B. über das
		  UMC-Modul <span class="emphasis"><em>Benutzer</em></span> erfolgen.
		</p></div><p>
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:generic:shares"><a class="anchor" href="#school:setup:generic:shares" title="Link to this section">§</a>6.3. Anlegen von Freigaben<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:generic:shares" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Die meisten Freigaben in einer UCS@school-Umgebung werden automatisch
	  erstellt; jede Klasse oder Arbeitsgemeinschaft verfügt über eine
	  gemeinsame Freigabe. Weiterhin existiert mit
	  der <span class="emphasis"><em>Marktplatz</em></span>-Freigabe je Schule eine schulweite Freigabe. Das Erstellen der Marktplatzfreigabe beim
	  Anlegen einer OU kann durch das Setzen der Univention Configuration Registry-Variable <code class="envar">ucsschool/import/generate/marktplatz</code> auf den
	  Wert <code class="literal">no</code> verhindert werden.
	</p><p>
	  Diese Freigaben müssen zwingend auf dem Schulserver bereitgestellt
	  werden, um die von UCS@school bereitgestellten Funktionen nutzen zu können.
	</p><p>
	  Weitere Freigaben werden, wie in einer Standard-UCS-Installation, über
	  das UMC-Modul <span class="guimenu">Freigaben</span> auf dem Domänencontroller Master
	  angelegt. Weiterführende Dokumentation findet sich im
	  Freigaben-Kapitel des UCS-Handbuchs [<a href="#ucs-handbuch" class="biblioref">ucs-handbuch</a>].
	</p><p>
	  Die Freigaben müssen unterhalb der OU der Schule angelegt werden.
	  Die Auswahl findet mit der Option <span class="guimenu">Container</span> beim
	  Anlegen einer Freigabe statt. Für die OU <em class="wordasword">gym17</em> muss
	  beispielsweise der Container <span class="guimenuitem">gym17/shares</span> ausgewählt werden.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:generic:roleshares"><a class="anchor" href="#school:setup:generic:roleshares" title="Link to this section">§</a>6.4. Lehrerzugriff auf Benutzerfreigaben<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:generic:roleshares" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Lehrern kann der Zugriff auf alle Heimatverzeichnisse von Schülern an einer Schule
	  freigeschaltet werden.
	  Dies geschieht durch Installation des Pakets <span class="package">ucs-school-roleshares</span>
	  auf dem jeweiligen Schulserver.
	  Der Zugriff kann dann über eine spezielle Dateifreigabe erfolgen.
	</p><p>
	  Das Paket installiert das Skript
	  <code class="command">/usr/share/ucs-school-import/scripts/create_roleshares</code>,
	  welches über das Joinskript automatisch aufgerufen wird und später auch manuell
	  aufgerufen werden kann.
	  Mit der Standardoption <code class="option">--create student</code> aufgerufen, legt es
	  für alle Dateiserver des Schulstandorts
	  jeweils eine Freigabe mit dem Namensschema <code class="systemitem">schueler-&lt;OU&gt;</code> an.
	  Die Freigabe erlaubt der Gruppe <code class="systemitem">lehrer-&lt;OU&gt;</code> den administrativen
	  Zugriff auf das Basisverzeichnis <code class="filename">/home/&lt;OU&gt;/schueler</code>.
	</p><p>
	  Per Voreinstellung wird der Lehrergruppe Lesezugriff gewährt.
	  Die Freigabe wird vom jeweiligen Dateiserver nicht explizit angezeigt.
	  Eine an einem Windows-Arbeitsplatz angemeldete Lehrkraft sollte automatisch eine Verknüpfung
	  zu dieser Freigabe angezeigt bekommen.
	</p><p>
	  Die Freigabe-Einstellungen dieser Freigabe können wie üblich über die Univention Management Console auf
	  dem Domänencontroller Master angepasst werden, z.B. um Lehrern auch Schreibzugriff zu gewähren.
	</p><p>
	  Voraussetzung für diese Funktion ist, dass die
	  Heimatverzeichnisse der Benutzerkonten in entsprechend strukturierten Unterverzeichnissen
	  angelegt wurden. Dies geschieht in Domänen die mit UCS@school 3.2 R2 oder später installiert
	  wurden automatisch. In älteren Umgebungen wird dies dadurch verhindert, dass dort Univention Configuration Registry-Variable
	  <code class="envar">ucsschool/import/roleshare</code> automatisch auf <code class="literal">no</code> gesetzt wurde.
	  Dies gewährleistet eine einheitliche Anlage der Heimatverzeichnisse und sollte erst
	  nach einer manuellen Migration der Heimatverzeichnisse geändert werden.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:generic:schooladmins"><a class="anchor" href="#school:setup:generic:schooladmins" title="Link to this section">§</a>6.5. Anlegen von Benutzerkonten für Schuladministratoren<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:generic:schooladmins" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Benutzerkonten von Lehrern können durch eine zusätzliche Gruppenmitgliedschaft zu
	  Schuladministratoren umgewandelt werden. Sie unterliegen dann jedoch der Einschränkung, dass die
	  Benutzerkonten der Lehrer-Schuladministratoren nur auf den edukativen Schulserver und nicht auf den
	  Schulserver des Verwaltungsnetzes repliziert werden.
	</p><p>
	  Die zusätzliche Gruppenmitgliedschaft muss manuell über das UMC-Modul
	  <span class="guimenu">Benutzer</span> auf dem Domänencontroller Master hinzugefügt werden. Auf dem Reiter
	  <span class="guimenu">Gruppen</span> muss das Benutzerkonto in die Gruppe <code class="systemitem">admins-<em class="replaceable"><code>OU</code></em></code> (bei
	  der OU <em class="wordasword">gym17</em> ist dies die Gruppe <code class="systemitem">admins-gym17</code>) aufgenommen
	  werden.
	</p><p>
	  Soll das Benutzerkonten des Schuladministrators auch auf den Systemen des Verwaltungsnetzes
	  verfügbar sein, so reicht es nicht aus, die Gruppenmitgliedschaft zu ändern. Es muss manuell
	  ein neues Benutzerkonto über das UMC-Modul <span class="guimenu">Benutzer</span> auf dem Domänencontroller Master
	  angelegt werden.
	</p><p>
	  Die Benutzerkonten der Schuladministratoren müssen unterhalb der OU der Schule im Container
	  <code class="uri">cn=admins,cn=users</code> angelegt werden. Die Auswahl findet mit der Option
	  <span class="guimenu">Container</span> beim Anlegen eines Benutzers statt. Bei einer OU
	  <em class="wordasword">gym17</em> muss beispielsweise der Container <span class="guimenuitem">gym17/users/admins</span>
	  ausgewählt werden.
	</p><p>
	  Der Benutzer muss außerdem im Reiter <span class="guimenu">Gruppen</span> in die Gruppe
	  <code class="systemitem">admins-<em class="replaceable"><code>OU</code></em></code>, also z.B. <code class="systemitem">admins-gym17</code> aufgenommen werden.
	</p><p>
	  Sollte der Schuladministrator auch als Lehrer tätig sein, muss zusätzlich die Gruppe
	  <code class="systemitem">lehrer-<em class="replaceable"><code>OU</code></em></code>, also z.B. <code class="systemitem">lehrer-gym17</code>, hinzugefügt werden.
	</p><p>
	  Abschließend müssen die Angaben für Profilpfad und Heimatverzeichnispfad am Benutzerobjekt
	  gesetzt werden, um das gleiche Verhalten wie bei Schüler- und Lehrerkonten zu erhalten (siehe dazu
	  auch <a class="xref" href="#school:setup:generic:windowsattributes" title="6.2. Windows-spezifische Benutzereinstellungen">Abschnitt 6.2</a>).
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:setup:generic:configurehelpdesk"><a class="anchor" href="#school:setup:generic:configurehelpdesk" title="Link to this section">§</a>6.6. Konfiguration der Helpdesk-Kontaktadresse<a href="https://www.univention.de/produkt-feedback/?manual=school:setup:generic:configurehelpdesk" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Über das Helpdesk-Modul können Lehrer per E-Mail Kontakt zum
	  Helpdesk-Team einer Schule aufnehmen. Damit dieses Modul genutzt
	  werden kann, muss auf dem jeweiligen Server die
	  Univention Configuration Registry-Variable <code class="envar">ucsschool/helpdesk/recipient</code> auf die E-Mail-Adresse
	  des zuständigen Helpdesk-Teams gesetzt werden.
	</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:windows:general"><a class="anchor" href="#school:windows:general" title="Link to this section">§</a>Kapitel 7. Integration und Verwaltung von Microsoft Windows-Clients</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#school:windows:samba">7.1. Anmeldedienste mit Samba</a></span></dt><dt><span class="section"><a href="#school:windows:shares">7.2. Server für Dateifreigaben</a></span></dt><dt><span class="section"><a href="#school:windows:samba4netlogon">7.3. Netlogon-Skripte für Samba4-Umgebung</a></span></dt><dt><span class="section"><a href="#school:windows:italc">7.4. iTALC-Installation auf Windows-Clients</a></span></dt></dl></div><p>
	Microsoft Windows-Clients werden in Univention Corporate Server (UCS) mithilfe von Samba integriert und verwaltet. Die
	Windows-Clients authentifizieren sich dabei gegen den Samba-Server. Auch Datei- und Druckdienste
	werden für die Windows-Clients über Samba bereitgestellt. Weitere Hinweise finden sich in
	<a class="xref" href="#school:windows:samba" title="7.1. Anmeldedienste mit Samba">Abschnitt 7.1</a>.
  </p><p>
	Die Netzkonfiguration der Clients kann zentral über in UCS integrierte DNS- und DHCP-Dienste
	durchgeführt werden. Weitere Hinweise finden sich in <a class="xref" href="#school:schoolcreate:computers:import" title="5.5.1. Skriptbasierter Import von PCs">Abschnitt 5.5.1</a>.
  </p><p>
	Beim Import von neuen Benutzern des Edukativnetzes über die Importskripte oder über den Assistenten in der UMC
	werden automatisch windows-spezifische Einstellungen zum Profilpfad und zum Heimatverzeichnispfad
	vorgenommen. Weitere Hinweise finden sich in <a class="xref" href="#school:setup:generic:windowsattributes" title="6.2. Windows-spezifische Benutzereinstellungen">Abschnitt 6.2</a>.
  </p><p>
	Auf den Windows-Clients der Schüler kann die Software <span class="emphasis"><em>iTALC</em></span> installiert werden. Sie
	erlaubt es Lehrern, über ein UMC-Modul den Desktop der Schüler einzuschränken und z.B. Bildschirme
	und Eingabegeräte zu sperren. Außerdem kann ein Übertragungsmodus aktiviert werden, der die
	Bildschirmausgabe des Desktops des Lehrers auf die Schülerbildschirme überträgt. Die Installation
	von iTALC wird in <a class="xref" href="#school:windows:italc" title="7.4. iTALC-Installation auf Windows-Clients">Abschnitt 7.4</a> beschrieben.
  </p><p>
	Aufgrund einiger Limitierungen (u.a. von iTALC) kann auf Windows-Terminalservern nicht der volle
	Funktionsumfang von UCS@school genutzt werden. Die Verwendung von Terminalservern mit UCS@school wird
	daher nicht unterstützt.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:windows:samba"><a class="anchor" href="#school:windows:samba" title="Link to this section">§</a>7.1. Anmeldedienste mit Samba<a href="https://www.univention.de/produkt-feedback/?manual=school:windows:samba" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  In Univention Corporate Server 3.x stehen zwei verschiedene Samba-Varianten zur Auswahl:
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			<span class="emphasis"><em>Samba 3</em></span> implementiert Domänendienste auf Basis der Domänen-Technologie von
			Microsoft Windows NT. Samba 3 ist die aktuelle stabile und bewährte Haupt-Release-Serie des
			Samba-Projekts und ist seit vielen Jahren in UCS integriert.
		  </li><li class="listitem"><p>
			<span class="emphasis"><em>Samba 4</em></span> ist die nächste Generation der Samba-Suite. Die wichtigste
			Neuerung von Samba 4 besteht in der Unterstützung von Domänen-, Verzeichnis- und
			Authentifizierungsdiensten, die kompatibel zu Microsoft Active Directory sind. Mit Samba 4 lassen
			sich deswegen Active Directory-kompatible Windows-Domänen aufbauen. Diese ermöglichen auch die
			Verwendung der von Microsoft bereit gestellten Werkzeuge beispielsweise für die Verwaltung von
			Benutzern oder Gruppenrichtlinien (GPOs). Die aktuell vom Samba-Projekt veröffentlichten Versionen
			von Samba 4 unterliegen in der Weiterentwicklung noch stärkeren Änderungen als Samba 3. Univention
			hat die benötigten Komponenten für die Bereitstellung von Active Directory kompatiblen
			Domänendiensten mit Samba 4 getestet und in enger Zusammenarbeit mit dem Samba-Team in UCS
			integriert. Parallel dazu wurde für UCS Samba 3 mit Samba 4 integriert. Somit werden auch bei
			Verwendung der Active Directory kompatiblen Domänendienste die erprobten Datei- und Druckdienste aus
			Samba 3 verwendet.
		  </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
			  Bei der Verwendung von Samba 4 in einer Multi-Server-Umgebung ist es zwingend
			  erforderlich, dass alle Windows-Clients ihren jeweiligen Schul-DC als DNS-Server verwenden, um einen
			  fehlerfreien Betrieb zu gewährleisten.
			</p><p>
			Windows-Clients, die ihre DNS-Einstellungen über DHCP beziehen, erhalten in der
			Standardeinstellung automatisch die IP-Adresse des Schul-DCs als DNS-Server zugewiesen. Dafür wird
			beim Joinen eines Schulservers automatisch am unter dem Schul-OU-Objekt liegenden DHCP-Container
			eine DHCP-DNS-Richtlinie verknüpft. Das automatische Verknüpfen dieser Richtlinie kann über das
			Setzen einer UCR-Variable auf dem Schulserver (bzw. dem Domänencontroller Master bei
			Single-Server-Umgebungen) deaktiviert werden. Die folgende Variable muss vor der Installation von
			UCS@school oder dem Update des Systems gesetzt werden:
			</p><pre class="programlisting">ucr set ucsschool/import/generate/policy/dhcp/dns/set_per_ou=false</pre><p>
		  </p></div></li></ul></div><p>
	  Bei Neuinstallationen von UCS@school wird standardmäßig Samba 4 empfohlen. Umgebungen, die von
	  einer Vorversion aktualisiert wurden, können von Samba 3 auf Samba 4 migriert werden. Das dafür
	  notwendige Vorgehen ist unter der folgenden URI dokumentiert:
	</p><p>
	  <a class="ulink" href="http://wiki.univention.de/index.php?title=UCS%40school_Samba_3_to_Samba_4_Migration" target="_top">http://wiki.univention.de/index.php?title=UCS%40school_Samba_3_to_Samba_4_Migration</a>
	</p><p>
	  Weiterführende Hinweise zur Konfiguration von Samba finden sich im UCS-Handbuch [<a href="#ucs-handbuch" class="biblioref">ucs-handbuch</a>].
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:windows:shares"><a class="anchor" href="#school:windows:shares" title="Link to this section">§</a>7.2. Server für Dateifreigaben<a href="https://www.univention.de/produkt-feedback/?manual=school:windows:shares" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Beim Anlegen einer neuen Klasse bzw. eines Benutzers wird automatisch eine Klassenfreigabe für
	  die Klasse bzw. eine Heimatverzeichnisfreigabe für den Benutzer eingerichtet. Der für die
	  Einrichtung der Freigabe notwendige Dateiserver wird in den meisten Fällen ohne manuellen Eingriff
	  bestimmt. Dazu wird am Schul-OU-Objekt bei der Registrierung einer Schule automatisch der in der
	  Univention Management Console angegebene Schulserver als Dateiserver jeweils für Klassen- und Benutzerfreigaben
	  hinterlegt.
	</p><p>
	  Die an der Schul-OU hinterlegte Angabe bezieht sich ausschließlich auf neue Klassen- und
	  Benutzerobjekte und hat keinen Einfluss auf bestehende Objekte im LDAP-Verzeichnis. Durch das
	  Bearbeiten der entsprechenden Schul-OU im UMC-Modul <span class="emphasis"><em>LDAP-Verzeichnis</em></span> können die
	  Standarddateiserver für die geöffnete Schul-OU nachträglich modifiziert werden.
	</p><p>
	  Es ist zu beachten, dass die an der Schul-OU hinterlegten Dateiserver nur in einer
	  Multi-Server-Umgebung ausgewertet werden. In einer Single-Server-Umgebung wird für beide
	  Freigabetypen beim Anlegen neuer Objekte immer der Domänencontroller Master als Dateiserver konfiguriert.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:windows:samba4netlogon"><a class="anchor" href="#school:windows:samba4netlogon" title="Link to this section">§</a>7.3. Netlogon-Skripte für Samba4-Umgebung<a href="https://www.univention.de/produkt-feedback/?manual=school:windows:samba4netlogon" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  In UCS-Umgebungen mit mehreren Samba4-Domänencontrollern werden in der Standardeinstellung
	  alle Dateien der <code class="filename">NETLOGON</code>-Dateifreigabe automatisch (durch die
	  <code class="filename">SYSVOL</code>-Replikation) zwischen allen Samba4-Domänencontrollern repliziert. Beim
	  Einsatz von UCS@school kann es bei der Verwendung von domänenweiten Benutzerkonten und
	  benutzerspezifischen Netlogon-Skripten zu Synchronisationskonflikten kommen. Konflikte können
	  ebenfalls bei eigenen, standortbezogenen Netlogon-Skripten auftreten.
	</p><p>
	  In diesen Fällen ist es ratsam, die Synchronisation der <code class="filename">NETLOGON</code>-Freigabe
	  zu unterbinden, indem ein abweichendes Verzeichnis für die <code class="filename">NETLOGON</code>-Freigabe
	  definiert wird. Das Verzeichnis darf dabei nicht unterhalb der
	  <code class="filename">SYSVOL</code>-Dateifreigabe
	  (<code class="filename">/var/lib/samba/sysvol/<em class="replaceable"><code>REALM</code></em>/</code>) liegen.
	</p><p>
	  Das folgende Beispiel setzt das Verzeichnis der <code class="filename">NETLOGON</code>-Freigabe auf
	  <code class="filename">/var/lib/samba/netlogon/</code> und passt ebenfalls das Verzeichnis für die automatisch
	  generierten Benutzer-NETLOGON-Skripte an:
	  </p><pre class="programlisting">ucr set samba/share/netlogon/path=/var/lib/samba/netlogon
ucr set ucsschool/userlogon/netlogon/path=/var/lib/samba/netlogon/user</pre><p>
	  Die zwei UCR-Variablen müssen auf allen Samba4-Domänencontrollern gesetzt werden. Dies kann
	  z.B. in der UMC über eine UCR-Richtlinien global definiert werden. Nach der Änderung müssen die
	  Dienste <code class="systemitem">samba4</code> und <code class="systemitem">univention-directory-listener</code> neu
	  gestartet werden:
	  </p><pre class="programlisting">invoke-rc.d samba4 restart
invoke-rc.d univention-directory-listener restart</pre><p>
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:windows:italc"><a class="anchor" href="#school:windows:italc" title="Link to this section">§</a>7.4. iTALC-Installation auf Windows-Clients<a href="https://www.univention.de/produkt-feedback/?manual=school:windows:italc" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Für die Kontrolle und Steuerung der Schüler-PCs integriert UCS@school optional die Software
	  iTALC. Dieses Kapitel beschreibt die Installation von iTALC auf den Schüler-PCs. Die Administration
	  durch die Lehrkräfte ist in der UCS@school-Lehrerdokumentation [<a href="#ucs-school-teacher" class="biblioref">ucs-school-teacher</a>]
	  beschrieben.
	</p><p>
	  Für die Nutzung der Rechnerüberwachungs- und Präsentationsfunktionen in der Computerraumverwaltung
	  (siehe <a class="xref" href="#ucsschool:moduluebersicht" title="8.1. Modulübersicht">Abschnitt 8.1</a>) wird vorausgesetzt, dass auf den
	  Windows-Clients die Software iTALC installiert wurde.
	</p><p>
	  Seit UCS@school 3.1 R2 sind Windows-Binärpakete für die Open Source-Software iTALC in UCS@school
	  enthalten.  Die Binärpakete sind direkt über die Samba-Freigabe
	  <span class="emphasis"><em>iTALC-Installation</em></span> abruf- und installierbar. Alternativ finden sich die
	  Installationdateien für 32- und 64bit-Versionen von iTALC auf dem Schulserver im Verzeichnis
	  <code class="filename">/usr/share/italc-windows/</code>.  Interoperabilitätstests zwischen UCS@school und iTALC
	  wurden ausschließlich mit der von UCS@school mitgelieferten iTALC-Version unter Windows XP und Windows
	  7 (32 und 64 Bit) durchgeführt.
	</p><div class="figure" id="school:windows:italc:fig"><a class="anchor" href="#school:windows:italc:fig" title="Link to this section">§</a><p class="title"><strong>Abbildung 7.1. iTALC-Installation: Auswahl der Komponenten</strong></p><div class="figure-contents"><div align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="60%"><tr><td align="center"><img src="illustrations40/italc1.png" align="middle" width="100%" alt="iTALC-Installation: Auswahl der Komponenten" /></td></tr></table></div></div></div><br class="figure-break" /><p>
	  iTALC bringt ein Installationsprogramm mit, das durch alle notwendigen Schritte führt. Während
	  der Installation sollte nur der <span class="emphasis"><em>iTALC Service</em></span> installiert und der
	  <span class="emphasis"><em>iTALC Master</em></span> abgewählt werden.
	</p><p>
	  Nach der Installation von iTALC auf dem Windows-Client muss der öffentliche Schlüssel
	  importiert werden, damit der Schulserver Zugriff auf das installierte iTALC-Backend erhält. Dies
	  erfolgt durch Aufruf der iTALC Management Console unter <span class="guimenu">Authentifizierung -&gt;
	  Schlüsseldatei-Assistent starten -&gt; Öffentlichen Schlüssel importieren (Client-Computer) -&gt;
	  Lehrer</span>. Unter <span class="guimenu">Bitte geben Sie den Ort des öffentlichen Zugriffsschlüssels an, der
	  importiert werden soll</span> ist der iTALC-Schlüssel des Schulservers anzugeben. Der Schlüssel
	  wird automatisch auf der SYSVOL-Freigabe des Schulservers unter dem Namen der Schuldomäne unter
	  <code class="filename">scripts</code> abgelegt (Kommt Samba 3 zum Einsatz, wird der Schlüssel auf der
	  Netlogon-Freigabe abgelegt). Der Dateiname der Schlüsseldatei enthält den Namen des Schulservers für
	  den sie generiert wurde, um Namenskonflikte auf der SYSVOL-Freigabe bei der Verwendung von Samba 4
	  zu vermeiden.  Damit der iTALC-Assistent die Schlüsseldatei selbständig erkennt, sollte die Datei
	  <code class="filename">italc-key_<em class="replaceable"><code>SERVERNAME</code></em>.pub.key.txt</code> verwendet werden.
	</p><p>
	  Außerdem sollte auf den Windows-Clients sichergestellt werden, dass die installierte
	  System-Firewall so konfiguriert ist, dass Port <span class="emphasis"><em>11100</em></span> nicht blockiert wird. Dies
	  ist Voraussetzung für eine funktionierende Umgebung, da iTALC diesen Port für die Kommunikation mit
	  dem Schulserver bzw. anderen Computern verwendet.
	</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="module-overview"><a class="anchor" href="#module-overview" title="Link to this section">§</a>Kapitel 8. Übersicht über die schulspezifischen Anwendungen</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#ucsschool:moduluebersicht">8.1. Modulübersicht</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="ucsschool:moduluebersicht"><a class="anchor" href="#ucsschool:moduluebersicht" title="Link to this section">§</a>8.1. Modulübersicht<a href="https://www.univention.de/produkt-feedback/?manual=ucsschool:moduluebersicht" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			UCS@school stellt eine Reihe von Modulen für die Univention Management Console bereit, die
			für den IT-gestützten Unterricht verwendet werden können.
		</p><p>
			Im folgenden werden die Module kurz beschrieben. Eine ausführliche
			Beschreibung der Verwendung der Module findet sich im separaten
			Handbuch für Lehrer [<a href="#ucs-school-teacher" class="biblioref">ucs-school-teacher</a>].
		</p><p>
			Einige Module stehen Lehrern und Schuladministratoren zur Verfügung
			während andere Module nur Schuladministratoren vorbehalten sind:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
					<span class="emphasis"><em>Passwörter (Schüler)</em></span> erlaubt Lehrern das
					Zurücksetzen von Schüler-Passwörtern. Die bestehenden Schüler-Passwörter können
					aus Sicherheitsgründen nicht ausgelesen werden; wenn Schüler ihr Passwort
					vergessen, muss ein neues Passwort vergeben werden. Schuladministratoren dürfen
					außerdem die Passwörter von Lehrern zurücksetzen.
				</li><li class="listitem"><p>
					Das Modul <span class="emphasis"><em>Computerraum</em></span> erlaubt die Kontrolle der
					Schüler-PCs und des Internetzugangs während einer Schulstunde.
					Der Internetzugang kann gesperrt oder freigegeben werden und einzelne
					Internetseiten können gezielt freigegeben werden. Wenn eine entsprechende Software
					(iTALC) auf den Schüler-PCs installiert ist, besteht auch die
					Möglichkeit diese PCs zu steuern. So kann beispielsweise der
					Bildschirm gesperrt werden, so dass in einer
					Chemie-Stunde die ungeteilte Aufmerksamkeit auf ein Experiment gelenkt werden kann.
				</p><p>
					Außerdem kann der Bildschiminhalt eines PCs auf andere Systeme
					übertragen werden. Dies erlaubt es Lehrern, auch ohne einen Beamer
					Präsentationen durchzuführen.
				</p></li><li class="listitem">
					Jede Schule wird durch einen Helpdesk betreut. Der Helpdesk
					kann z.B. durch eine Support-Organisation beim Schulträger oder durch
					technisch versierte Lehrer an den Schulen umgesetzt werden. Über das
					Modul <span class="emphasis"><em>Helpdesk kontaktieren</em></span> können Lehrer und
					Schuladministratoren eine E-Mail-Anfrage stellen. Die Konfiguration
					des Helpdesk-Moduls wird in <a class="xref" href="#school:setup:generic:configurehelpdesk" title="6.6. Konfiguration der Helpdesk-Kontaktadresse">Abschnitt 6.6</a>
					beschrieben.
				</li><li class="listitem"><p>
					Jeder Schüler ist Mitglied seiner Klasse. Darüber hinaus gibt es die
					Möglichkeit mit dem Modul <span class="emphasis"><em>Arbeitsgruppen verwalten</em></span> Schüler
					und Lehrer in klassenübergreifende Arbeitsgruppen einzuordnen.
				</p><p>
				  Das Anlegen einer Arbeitsgruppe legt automatisch einen Datenbereich auf dem
				  Schulserver (Dateifreigabe) an, auf den alle Mitglieder der Arbeitsgruppe Zugriff erhalten. Der Name
				  der Dateifreigabe ist identisch mit dem gewählten Namen der Arbeitsgruppe.
				</p><p>
				  Das Anlegen, Bearbeiten und Löschen von Arbeitsgruppen ist in der
				  Standardkonfiguration sowohl den Lehrern als auch den Schuladministratoren erlaubt.
				</p></li><li class="listitem">
					Mit dem Modul <span class="emphasis"><em>Drucker moderieren</em></span> können Ausdrucke
					der Schüler geprüft werden. Die anstehenden Druckaufträge
					können vom Lehrer betrachtet und entweder verworfen oder zum
					Drucken freigegeben werden. Dadurch können unnötige oder
					fehlerhafte Ausdrucke vermieden werden.
				</li><li class="listitem">
					Das Modul <span class="emphasis"><em>Materialien verteilen</em></span> vereinfacht das
					Verteilen und Einsammeln von Unterrichtsmaterial an
					Klassen oder Arbeitsgruppen. Optional kann eine Frist zum Verteilen
					und Einsammeln festgelegt werden. So ist es möglich, Aufgaben
					zu verteilen, die bis zum Ende der Unterrichtsstunde zu bearbeiten sind. Nach
					Ablauf der Frist werden die verteilten Materialien dann automatisch wieder
					eingesammelt und im Heimatverzeichnis des Lehrers abgelegt.
				</li><li class="listitem">
					Mit dem Modul <span class="emphasis"><em>Computerräume verwalten</em></span> werden
					Computer einer Schule einem Computerraum zugeordnet. Diese
					Computerräume können von den Lehrern zentral verwaltet werden,
					etwa indem der Internetzugang freigegeben wird.
				</li><li class="listitem">
					Das Modul <span class="emphasis"><em>Unterrichtszeiten</em></span> erlaubt es, die
					Zeiträume der jeweiligen Schulstunden pro Schule zu definieren.
				</li><li class="listitem">
					Für jede Klasse gibt es einen gemeinsamen Datenbereich. Damit Lehrer
					auf diesen Datenbereich zugreifen können, müssen sie mit dem
					Modul <span class="emphasis"><em>Lehrer Klassen zuordnen</em></span> der Klasse
					zugewiesen werden.
				</li><li class="listitem"><p>
					Für die Filterung des Internetzugriffs wird ein Proxy-Server
					eingesetzt, der bei dem Abruf einer Internetseite prüft, ob der
					Zugriff auf diese Seite erlaubt ist. Ist das nicht der Fall, wird eine
					Informationsseite angezeigt. Dies wird in <a class="xref" href="#school:proxy" title="Kapitel 9. Web-Proxy auf den Schulservern">Kapitel 9</a>
					weitergehend beschrieben.
				</p><p>
					Wenn Schüler beispielsweise in einer Schulstunde in der Wikipedia
					recherchieren sollen, kann eine Regelliste definiert werden, die
					Zugriffe auf alle anderen Internetseiten unterbindet. Diese Regelliste
					kann dann vom Lehrer zugewiesen werden.
				</p><p>
					Mit der Funktion <span class="guimenu">Internetregeln definieren</span> können die
					Regeln verwaltet werden.
				</p></li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:proxy"><a class="anchor" href="#school:proxy" title="Link to this section">§</a>Kapitel 9. Web-Proxy auf den Schulservern</h1></div></div></div><p>
	In der Grundeinstellung läuft auf jedem Schulserver (bzw. im Single-Server-Betrieb auf dem
	Domänencontroller Master) ein Proxy-Server auf Basis von Squid in Zusammenspiel mit squidGuard. Der Proxy erlaubt
	Lehrern in Schulstunden den Zugriff auf einzelne Webseiten zu beschränken oder auch generell
	bestimmte Webseiten zu sperren. Dies ist in der UCS@school-Lehrerdokumentation [<a href="#ucs-school-teacher" class="biblioref">ucs-school-teacher</a>] beschrieben.
  </p><p>
	Der Proxyserver muss zwingend auf dem jeweiligen Schulserver betrieben werden.
  </p><p>
	Die Proxykonfiguration wird in der Grundeinstellung durch DHCP verteilt, diese Einstellung wird
	jedoch nicht von allen Browsern unterstützt. Die Konfiguration kann alternativ über eine
	Proxy-Autokonfigurationsdatei (PAC-Datei) automatisiert werden. In PAC-Dateien sind die relevanten
	Konfigurationparameter zusammengestellt. Die PAC-Datei eines Schulservers steht unter der folgenden URL bereit:
  </p><p>
	<code class="uri">http://<em class="replaceable"><code>schulserver.domaene.de</code></em>/proxy.pac</code>
  </p><p>
	Im Internet Explorer 8 wird die PAC-Datei beispielsweise unter <span class="guimenu">Internetoptionen
	-&gt; Reiter Verbindungen -&gt; LAN-Einstellungen -&gt; Automatisches
	Konfigurationsskript verwendet</span> zugewiesen.
  </p><p>
	In Firefox 10 kann die PAC-Datei im Menü unter <span class="guimenu">Bearbeiten -&gt;
	Einstellungen -&gt; Erweitert -&gt; Netzwerk -&gt; Verbindungen -&gt; Einstellungen -&gt; Automatische
	Proxy-Konfigurations-URL</span> zugewiesen werden.
  </p><p>
	Bei Einsatz von Samba 4 kann die Proxy-Konfiguration alternativ auch über Gruppenrichtlinien
	zugewiesen werden.
  </p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="radius"><a class="anchor" href="#radius" title="Link to this section">§</a>Kapitel 10. Authentifizierung des WLAN-Zugriffs über RADIUS</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#radius:install">10.1. Installation und Konfiguration des RADIUS-Servers</a></span></dt><dt><span class="section"><a href="#radius:config">10.2. Konfiguration der <span class="foreignphrase"><em class="foreignphrase">Access Points</em></span></a></span></dt><dt><span class="section"><a href="#radius:client">10.3. Konfiguration der zugreifenden Clients</a></span></dt><dt><span class="section"><a href="#radius:wlan">10.4. Freigabe des WLAN-Zugriffs in der Univention Management Console</a></span></dt><dt><span class="section"><a href="#radius:error">10.5. Fehlersuche</a></span></dt></dl></div><p>
		RADIUS ist ein Authentifizierungsprotokoll für Rechner in
		Computernetzen. Es wird in UCS@school für die Authentifizierung von
		Rechnern für den Wireless-LAN-Zugriff eingesetzt.
	</p><p>
		Der RADIUS-Server muss auf den <span class="foreignphrase"><em class="foreignphrase">Access Points</em></span> konfiguriert werden.
		Die vom Client übertragenen Benutzerkennungen werden dann durch den
		festgelegten RADIUS-Server geprüft, der wiederum für die Authentifizierung auf
		den UCS-Verzeichnisdienst zugreift.
	</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="radius:install"><a class="anchor" href="#radius:install" title="Link to this section">§</a>10.1. Installation und Konfiguration des RADIUS-Servers<a href="https://www.univention.de/produkt-feedback/?manual=radius:install" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			Um RADIUS-Unterstützung einzurichten muss das Paket
			<span class="package">ucs-school-radius-802.1x</span> auf dem Schulserver der Schule
			installiert werden, in der WLAN-Authentifizierung eingerichtet werden
			soll. Außerdem muss das Paket <span class="package">ucs-school-webproxy</span> auf dem
			Schulserver installiert sein.
		</p><p>
			Nun müssen alle <span class="foreignphrase"><em class="foreignphrase">Access Points</em></span> der Schule in der Konfigurationsdatei
			<code class="filename">/etc/freeradius/clients.conf</code> registriert werden. Pro <span class="foreignphrase"><em class="foreignphrase">Access
			Point</em></span> sollte ein zufälliges Passwort erstellt werden. Dies kann
			z.B. mit dem Befehl <code class="command">makepasswd</code> geschehen. Die
			Kurzbezeichnung ist frei wählbar. Ein Beispiel für einen solchen
			Eintrag für einen <span class="foreignphrase"><em class="foreignphrase">Access Point</em></span>:
		</p><pre class="programlisting">client 192.168.100.101 {
    secret = a9RPAeVG
    shortname = AP01
}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="radius:config"><a class="anchor" href="#radius:config" title="Link to this section">§</a>10.2. Konfiguration der <span class="foreignphrase"><em class="foreignphrase">Access Points</em></span><a href="https://www.univention.de/produkt-feedback/?manual=radius:config" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			Nun müssen die <span class="foreignphrase"><em class="foreignphrase">Access Points</em></span> konfiguriert werden. Die dafür nötigen
			Schritte unterscheiden sich je nach Hardwaremodell, prinzipiell müssen
			die folgenden vier Optionen konfiguriert werden:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
					Der Authentifizierungmodus muss auf RADIUS-Authentifzierung
					umgestellt werden (diese Option wird oft auch als <span class="foreignphrase"><em class="foreignphrase">WPA Enterprise</em></span>
					bezeichnet)
				</li><li class="listitem">
					Die IP-Adresse des Schulservers muss als RADIUS-Server angegeben
					werden
				</li><li class="listitem">
					Der Radius-Port ist 1812 (sofern kein abweichender Port in
					FreeRADIUS konfiguriert wurde)
				</li><li class="listitem">
					Das in der <code class="filename">/etc/freeradius/clients.conf</code>
					hinterlegte Passwort
				</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="radius:client"><a class="anchor" href="#radius:client" title="Link to this section">§</a>10.3. Konfiguration der zugreifenden Clients<a href="https://www.univention.de/produkt-feedback/?manual=radius:client" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			Der zugreifende Client muss zunächst das UCS-Wurzelzertifikat importieren.
			Es kann z.B. von der Startseite des Domänencontroller Master unter
			dem Link "Wurzelzertifikat" bezogen werden.
			Anschließend muss er eine Netzwerkverbindung mit den folgenden Parametern
			konfigurieren:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
					Authentifizierung per WPA und TKIP als Verschlüsselungsverfahren
				</li><li class="listitem">
					<code class="systemitem">PEAP</code> und <code class="systemitem">MSCHAPv2</code> als Authentifizierungsprotokoll
				</li></ul></div><p>
			Die Konfiguration unterscheidet sich je nach Betriebssystem des Clients. Im
			Univention Wiki findet sich eine exemplarische
			Schritt-für-Schritt-Anleitung für die Einrichtung unter Windows XP:
			<a class="ulink" href="http://wiki.univention.de/index.php?title=Einrichtung-WLAN-Authentifizierung-WinXP" target="_top">http://wiki.univention.de/index.php?title=Einrichtung-WLAN-Authentifizierung-WinXP</a>,
			sowie für die Einrichtung unter Windows 7:
			<a class="ulink" href="http://wiki.univention.de/index.php?title=Einrichtung-WLAN-Authentifizierung-Win7" target="_top">http://wiki.univention.de/index.php?title=Einrichtung-WLAN-Authentifizierung-Win7</a>.
		</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="radius:wlan"><a class="anchor" href="#radius:wlan" title="Link to this section">§</a>10.4. Freigabe des WLAN-Zugriffs in der Univention Management Console<a href="https://www.univention.de/produkt-feedback/?manual=radius:wlan" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			In der Grundeinstellung ist der WLAN-Zugriff nicht zugelassen. Um
			einzelnen Benutzergruppen WLAN-Zugriff zu gestatten, muss in
			der Univention Management Console im Modul <span class="guimenu">Internetregeln definieren</span> eine
			Regel hinzugefügt - oder eine bestehende editiert werden -, in der die
			Option <span class="guimenu">WLAN-Authentifizierung aktiviert</span> aktiviert ist.
		</p><p>
			Weiterführende Dokumentation zur Freigabe des WLAN-Zugriffs finden sich in der
			UCS@school-Lehrerdokumentation [<a href="#ucs-school-teacher" class="biblioref">ucs-school-teacher</a>].
		</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="radius:error"><a class="anchor" href="#radius:error" title="Link to this section">§</a>10.5. Fehlersuche<a href="https://www.univention.de/produkt-feedback/?manual=radius:error" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			Im Fehlerfall sollte die
			Logdatei <code class="filename">/var/log/freeradius/radius.log</code> geprüft
			werden. Erfolgreiche Logins führen zu einem Logeintrag <code class="computeroutput">Auth:
			Login OK</code> und eine fehlgeschlagene Authentifizierung beispielsweise
			zu <code class="computeroutput">Auth: Login incorrect</code>.
		</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:exam"><a class="anchor" href="#school:exam" title="Link to this section">§</a>Kapitel 11. Klassenarbeitsmodus</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#school:exam:concept">11.1. Technische Hintergründe</a></span></dt><dt><span class="section"><a href="#school:exam:configuration">11.2. Konfiguration</a></span></dt><dt><span class="section"><a href="#school:exam:gpo">11.3. Beispiele für Gruppenrichtlinien</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:general">11.3.1. Generelle Hinweise zu Gruppenrichtlinien und Administrativen Vorlagen</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:group">11.3.2. Windows-Anmeldung im Prüfungsraum auf Mitglieder der Klassenarbeitsgruppe beschränken</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:computer">11.3.2.1. Anwendungsbereich der GPO auf Klassenarbeitscomputer einschränken</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:user">11.3.2.2. Einschränkung der Windows-Anmeldung auf Klassenarbeitsbenutzerkonten und Lehrer</a></span></dt></dl></dd><dt><span class="section"><a href="#school:exam:gpo:usb">11.3.3. Zugriff auf USB-Speicher und Wechselmedien einschränken</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:usb:xp">11.3.3.1. Zugriff auf USB-Speicher an Windows XP einschränken</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:usb:xp:drivers">11.3.3.2. Installation neuer Gerätetreiber für USB-Speicher an Windows XP verbieten</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:usb:w7">11.3.3.3. Zugriff auf USB-Speicher an Windows 7 einschränken</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:usb:w7:drivers">11.3.3.4. Installation neuer Gerätetreiber für USB-Speicher an Windows 7 Clients verbieten</a></span></dt></dl></dd><dt><span class="section"><a href="#school:exam:gpo:proxy">11.3.4. Vorgabe von Proxy-Einstellungen für den Internetzugriff</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:proxy:ie">11.3.4.1. Proxy-Vorgabe für den Internet Explorer</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:proxy:ie:lock">11.3.4.2. Sperrung der Proxyeinstellung für den Internet Explorer</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:proxy:chrome">11.3.4.3. Proxy-Vorgabe für Google Chrome</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:proxy:firefox">11.3.4.4. Proxy-Vorgabe für Mozilla Firefox</a></span></dt></dl></dd><dt><span class="section"><a href="#school:exam:gpo:cmd">11.3.5. Zugriff auf bestimmte Programme einschränken</a></span></dt><dd><dl><dt><span class="section"><a href="#school:exam:gpo:cmd:cli">11.3.5.1. Kommandoeingabeaufforderung deaktivieren</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:cmd:regedit">11.3.5.2. Zugriff auf Windows-Registry-Editor deaktivieren</a></span></dt><dt><span class="section"><a href="#school:exam:gpo:cmd:srp">11.3.5.3. Konfiguration von <span class="foreignphrase"><em class="foreignphrase">Software Restriction Policies</em></span> (SRP)</a></span></dt></dl></dd></dl></dd></dl></div><p>
		Der Klassenarbeitsmodus ermöglicht die gezielte Einschränkung der Computernutzung für Schüler einer Klasse.
		Über das UMC-Modul für den Klassenarbeitsmodus kann ein Lehrer einen Klassenraum für die exklusive Nutzung durch bestimmte Gruppen konfigurieren.
		Der Klassenarbeitsmodus bietet darüber hinaus auch einen direkten Zugriff auf die Funktionalitäten der Materialverteilung.
		Hintergründe zur technischen Umsetzung werden in <a class="xref" href="#school:exam:concept" title="11.1. Technische Hintergründe">Abschnitt 11.1</a> und mögliche Konfigurationsschnittstellen in <a class="xref" href="#school:exam:configuration" title="11.2. Konfiguration">Abschnitt 11.2</a> genannt.
	</p><p>
		Für die Dauer des Klassenarbeitsmodus werden die ausgewählten Schüler und Räume in eine speziell benannte Gruppe aufgenommen.
		Dies macht es möglich mit Hilfe von Windows-Gruppenrichtlinien spezifische Einschränkungen für die Benutzung von Windows-Rechnern im gewählten Raum zu definieren,
		wie z.B. die Vorgabe eines Proxy-Servers zur Filterung des Internetzugriffs, die Einschränkung den Zugriffs auf USB-Speicher und andere Wechselmedien oder auch die Sperrung bestimmter Programme.
		Einsatzmöglichkeiten für Gruppenrichtlinien werden in <a class="xref" href="#school:exam:gpo" title="11.3. Beispiele für Gruppenrichtlinien">Abschnitt 11.3</a> beispielhaft beschrieben.
	</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:exam:concept"><a class="anchor" href="#school:exam:concept" title="Link to this section">§</a>11.1. Technische Hintergründe<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:concept" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
		    Zur Verwendung des Klassenarbeitsmodus sind folgende Voraussetzungen zu erfüllen:
			</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
				Verwendung einer Samba 4-Domäne (AD-Domäne)
				</li><li class="listitem">
				Einsatz von Windows XP oder höher auf den Prüfungscomputern
				</li><li class="listitem">
				Import von Computerkonten und Zuordnung der Computer zu Computerräumen
				</li><li class="listitem">
				Die Verwendung des UCS@school-HTTP-Proxys durch die Prüfungscomputer zur Filterung des Internetzugriffs
				</li></ul></div><p>
		</p><p>
			Eine neue Klassenarbeit kann über das Modul <span class="guimenu">Klassenarbeit starten</span> begonnen werden.
			Beim Durchlaufen der einzelnen Schritte werden von der Lehrkraft ein Name für die Klassenarbeit und die teilnehmenden Klassen/Arbeitsgruppen ausgewählt.
			Zusätzlich können für die Arbeit notwendige Dateien hochgeladen sowie Computerraumeinstellungen ausgewählt werden.
		</p><p>
			Damit Schülern nicht die Möglichkeit gegeben wird, auf ihr bisheriges Heimatverzeichnis zuzugreifen, werden zum Zeitpunkt des Einrichtens der Klassenarbeit für die ausgewählten Schülerkonten spezielle Klassenarbeitskonten neu angelegt.
			Der Loginname für das Klassenarbeitskonto setzt sich aus einem festgelegten Präfix (standardmäßig <code class="literal">exam-</code>) und dem normalen Benutzernamen zusammen.
			Bspw. wird für den Benutzer <code class="systemitem">anton123</code> das Klassenarbeitskonto <code class="systemitem">exam-anton123</code> angelegt, mit dem er sich während der Klassenarbeit anmelden muss.
			Für das Klassenarbeitskonto wird ein neues Heimatverzeichnis erzeugt, Passwörter und andere Konteneinstellungen werden jedoch aus dem ursprünglichen Benutzerkonto direkt übernommen.
		</p><p>
			Alle Klassenarbeitskonten der Schüler sowie alle Rechner des Computerraumes sind für den Zeitraum der Klassenarbeit Mitglieder der Gruppe <code class="systemitem">OU&lt;OU-Name&gt;-Klassenarbeit</code>.
			Durch diese Gruppe können spezifische Einschränkungen für Schüler und Rechner mit Hilfe von Windows-Gruppenrichtlinien vorgenommen werden (siehe <a class="xref" href="#school:exam:gpo" title="11.3. Beispiele für Gruppenrichtlinien">Abschnitt 11.3</a>).
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
				Damit die Einstellungen der Gruppenrichtlinien für die Rechner entsprechend greifen, ist es wichtig, dass die Schülerrechner des Computerraumes nach dem Einrichten einer Klassenarbeit neu gestartet werden.
				Dieser Vorgang wird durch das UMC-Modul <span class="guimenu">Klassenarbeit starten</span> unterstützt, indem alle eingeschalteten Rechner automatisch neu gestartet werden können.
				Zusätzlich ist es aus dem selben Grund wichtig, dass nach Beenden einer Klassenarbeit die Schülerrechner entweder ausgeschaltet oder neu gestartet werden.
				Nur so können die ursprünglichen Einstellungen der Gruppenrichtlinien wieder wirksam werden.
			</p><p>
				Damit leicht erkannt werden kann, dass die Gruppenrichtlinien für den Klassenarbeitsmodus an den Rechnern wirksam sind, empfehlen wir, bspw. ein optisch klar zu unterscheidendes Hintergrundbild über die Richtlinien zuzuweisen.
			</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:exam:configuration"><a class="anchor" href="#school:exam:configuration" title="Link to this section">§</a>11.2. Konfiguration<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:configuration" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			Für die Konfiguration des Klassenarbeitsmodus gibt es eine Reihe von Univention Configuration Registry-Variablen.
			Diese werden im folgenden aufgelistet und kurz erläutert. 
		</p><p>
			Die nachfolgenden Univention Configuration Registry-Variablen können geändert werden, um LDAP-Eigenschaften der Klassenarbeitskonten, -gruppen und -container anzupassen. Sofern diese Variablen manuell gesetzt werden, ist zu beachten, dass es sich dabei um globale Einstellungen handelt und diese Variablen sowohl auf dem Domänencontroller Master als auch auf den Schulservern identische Werte aufweisen müssen.
			</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
					<code class="envar">ucsschool/ldap/default/userprefix/exam</code> gibt den Präfix an, der dem ursprünglichen Benutzernamen im Klassenarbeitskonto vorangestellt wird. Er ist standardmäßig auf <code class="literal">exam-</code> gesetzt.
					</li><li class="listitem">
					<code class="envar">ucsschool/ldap/default/groupname/exam</code> bezeichnet die Gruppe, der alle Klassenarbeitskonten sowie Klassenarbeitsrechner zugeordnet sind. Über diese Gruppe können spezifische Windows-Gruppenrichtlinien für den Klassenarbeitsmodus gesetzt werden. Der Standardname für diese Gruppe ist <code class="systemitem">OU%(ou)s-Klassenarbeit</code>, wobei <code class="literal">%(ou)s</code> vom System automatisch durch den Namen der OU ausgetauscht wird.
					</li><li class="listitem">
					<code class="envar">ucsschool/ldap/default/container/exam</code> ist der Name des Containers, unterhalb dem die Klassenarbeitskonten gespeichert werden. Standardmäßig ist der Name auf <code class="literal">examusers</code> gesetzt. Die LDAP-Position des Containers ist direkt unterhalb der Schul-OU.
					</li></ul></div><p>
		</p><p>
			Das UMC-Modul zum Einrichten einer Klassenarbeit bietet die Möglichkeit bestimmte Standardwerte zu definieren, um das Starten einer Klassenarbeit zu vereinfachen; dazu gehören:
			</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
					<code class="envar">ucsschool/exam/default/room</code> definiert den vorausgewählten Raum für eine neue Klassenarbeit. Der Eintrag beinhaltet den LDAP-Namen des Raumes (inklusive des Schul-OU-Präfxies), also bspw. <strong class="userinput"><code>meineschule-PC Raum</code></strong>. Ist die Variable nicht gesetzt, wird standardmäßig der alphabetisch erste Raum ausgewählt.
					</li><li class="listitem">
					<code class="envar">ucsschool/exam/default/shares</code> gibt den vorausgewählten Freigabezugriff für eine neue Klassenarbeit an. Mögliche Werte sind <code class="literal">all</code> für Zugriff auf alle Freigaben ohne Einschränkungen sowie <code class="literal">home</code> für eingeschränkten Zugriff auf lediglich das Heimatverzeichnis des (Klassenarbeits-)Benutzerkonto. Ist die Variable nicht gesetzt, wird standardmäßig nur der Zugriff auf das Homeverzeichnis freigegeben.
					</li><li class="listitem">
					<code class="envar">ucsschool/exam/default/internet</code> definiert die vorausgewählte Internetregel für eine neue Klassenarbeit. Mögliche Werte umfassen die Namen aller Internetregeln wie sie im UMC-Modul <span class="guimenu">Internetregeln definieren</span> angezeigt werden. Normalerweise werden die globalen Standardeinstellungen verwendet.
					</li><li class="listitem">
						<code class="envar">ucsschool/exam/default/checkbox/distribution</code>
						definiert, ob das Auswahlkästchen <code class="literal">Unterrichtsmaterial verteilen</code> automatisch vorausgewählt ist. Der Wert <code class="literal">true</code> aktiviert dieses Auswahlkästchen automatisch. Andernfalls ist der Wert <code class="literal">false</code> einzutragen.
					</li><li class="listitem">
						<code class="envar">ucsschool/exam/default/checkbox/proxysettings</code>
						definiert, ob das Auswahlkästchen <code class="literal">Internetregeln definieren</code> automatisch vorausgewählt ist.
					</li><li class="listitem">
						<code class="envar">ucsschool/exam/default/checkbox/sharesettings</code>
						definiert, ob das Auswahlkästchen <code class="literal">Freigabezugriff konfigurieren</code> automatisch vorausgewählt ist.
					</li></ul></div><p>
		</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:exam:gpo"><a class="anchor" href="#school:exam:gpo" title="Link to this section">§</a>11.3. Beispiele für Gruppenrichtlinien<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
			Gruppenrichtlinien werden von einem Windows System aus mit Hilfe der Gruppenrichtlinienverwaltung (GPMC) angelegt und bearbeitet.
			Im Folgenden ist die Konfiguration der Gruppenrichtlinien von einem Windows 7 System aus beschrieben auf dem dazu die Gruppenrichtlinienverwaltung (GPMC) aus den Remote System Administration Tools (RSAT) installiert sein muss.
		</p><p>
		Alle Gruppenrichtlinieneinstellungen können je nach Bedarf gesammelt über ein Gruppenrichtlinienobjekt vorgenommen werden oder auf separate Objekte verteilt werden. Um den Bezug zwischen einem ausgewählten Gruppenrichtlinienobjekt und Objekten im Samba-Verzeichnisdienst herzustellen, kann es mit einer Organisationseinheit (OU) verknüpft werden, z.B. der Schul-OU. Einige der hier beispielhaft beschriebenen Gruppenrichtlinieneinstellungen wirken sich nur auf Benutzer- und andere nur auf Computer-Konten aus. Da die Einstellungen eines Gruppenrichtlinienobjekts nur für Objekte ausgewertet werden, die unterhalb des speziellen Verzeichniszweigs liegen, mit dem es verknüpft wurde, ist es wichtig, dass das entsprechende Gruppenrichtlinienobjekt hinreichend hoch in der hierarchischen Objektordnung verknüpft wird.
		</p><p>
			Einige der genannten Gruppenrichtlinien-Einstellungen beziehen sich auf den Bereich der Computerkonfiguration und werden nur beim Systemstart korrekt von den entsprechenden Windows-Komponenten ausgewertet. Für solche Einstellungen ist daher ein Neustart der Windows-Arbeitsplatzsysteme nach Aktivierung des Klassenarbeitsmodus notwendig.
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
			Zu diesem Thema ist auch ein Hinweis von Microsoft zu Windows XP Systemen zu beachten: <span class="quote">„<span class="quote">Jede Version von Windows XP Professional stellt eine Funktion zur Optimierung für schnelles Anmelden zur Verfügung. Computer mit diesen Betriebssystemen warten standardmäßig beim Starten nicht auf den Start des Netzwerks. Nach der Anmeldung werden die Richtlinien im Hintergrund verarbeitet, sobald das Netzwerk zur Verfügung steht. Dies bedeutet, dass der Computer bei der Anmeldung und beim Start weiterhin die älteren Richtlinieneinstellungen verwendet. Daher sind für Einstellungen, die nur beim Start oder bei der Anmeldung angewendet werden können (z. B. Softwareinstallation und Ordnerumleitung), möglicherweise nach dem Ausführen der ersten Änderung am Gruppenrichtlinienobjekt mehrere Anmeldungen durch den Benutzer erforderlich. Diese Richtlinie wird gesteuert durch die Einstellung in <code class="filename">Computerkonfiguration\Administrative Vorlagen\System\Anmeldung\Beim Neustart des Computers und bei der Anmeldung immer 
auf das Netzwerk warten</code>. Diese Funktion ist in den Betriebssystemversionen von Windows 2000 oder Windows Server 2003 nicht verfügbar.</span>“</span>
			<a href="#ftn.idp71853360" class="footnote" id="idp71853360"><sup class="footnote">[1]</sup></a>
			</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:exam:gpo:general"><a class="anchor" href="#school:exam:gpo:general" title="Link to this section">§</a>11.3.1. Generelle Hinweise zu Gruppenrichtlinien und Administrativen Vorlagen<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:general" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
			Auf dem Schulserver sollte das Verzeichnis
			<code class="filename">/var/lib/samba/sysvol/<em class="replaceable"><code>DomänenNameDerUCS@schoolUmgebung</code></em>/Policies/PolicyDefinitions/</code>
			angelegt werden. Sobald dieses Verzeichnis angelegt ist, bevorzugt das Windows-Programm zur
			Gruppenrichtlinienverwaltung die dort hinterlegten Administrativen Vorlagen im ADMX-Format vor den
			lokal auf dem Windows 7 System installierten Administrativen Vorlagen.
		  </p><p>
			Da in den nachfolgenden Abschnitten zusätzliche Administrative Vorlagen verwendet
			werden, die ebenfalls in dem oben genannten Verzeichnis abzulegen sind, wird empfohlen, nach dem
			Erstellen des Verzeichnisses einmalig die lokal installierten Administrativen Vorlagen aus dem
			Verzeichnis <code class="filename">C:\Windows\PolicyDefinitions</code> in das neue Verzeichnis zu
			kopieren. Da das Verzeichnis serverseitig unterhalb der <code class="filename">SYSVOL</code>-Freigabe liegt,
			wird es per Voreinstellung auf alle Samba 4-Server der Domäne synchronisiert. Die Administrativen
			Vorlagen sind an sich keine Gruppenrichtlinien, sie dienen nur zur Erweiterung der
			Einstellungsmöglichkeiten die das Windows Programm zur Gruppenrichtlinienverwaltung dem
			Administrator zur Auswahl anbietet. Für neuere Windows- Versionen, wie z.B. Windows 8 stellt
			Microsoft aktualisierte Administrative Vorlagen zum Download zur Verfügung.
		  </p><p>
			Grundsätzlich können Gruppenrichtlinien im Samba-Verzeichnisdienst mit Organisationseinheiten (OU) und der LDAP-Basis verknüpft werden. Im UCS@school-Kontext werden jedoch nur Verknüpfungen unterhalb der Schul-OU auch automatisch in das OpenLDAP-Verzeichnis synchronisiert. Verknüpfungen mit der LDAP-Basis werden z.B. durch OpenLDAP-Zugriffsbeschränkungen blockiert, damit sich eine Anpassung der damit verknüpften Gruppenrichtlinien durch einen Schul-Administrator nicht auch auf alle anderen Schulen auswirkt. Eine solche Änderung wird im S4-Connector auf der Schule als Reject notiert. Wenn tatsächlich gewünscht ist, eine Änderung der Gruppenrichtlinienverknüpfung an der LDAP-Basis und unter <code class="uri">OU=Domain Controllers</code> auch in das OpenLDAP-Verzeichnis und damit an alle Schulen zu synchronisieren, kann auf dem Schulserver folgender Befehl mit dem zentralen Administrator-Passwort ausgeführt werden:
			</p><pre class="programlisting">eval "$(ucr shell)"
/usr/share/univention-s4-connector/msgpo.py --write2ucs \
  --binddn "uid=Administrator,cn=users,$ldap_base" --bindpwd &lt;password&gt;</pre><p>
			Der S4-Connector erkennt eine kurze Zeit später bei dem nächsten Resync, dass der Reject aufgelöst wurde.
		  </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:exam:gpo:group"><a class="anchor" href="#school:exam:gpo:group" title="Link to this section">§</a>11.3.2. Windows-Anmeldung im Prüfungsraum auf Mitglieder der Klassenarbeitsgruppe beschränken<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:group" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
				Da das im folgenden konfigurierte Gruppenrichtlinienobjekt je nach Verknüpfung im Samba-Verzeichnisdienst die Anmeldung an betroffenen Windows-Arbeitsplatzsystemen einschränkt, wird dringend empfohlen, als erstes die Anwendung der neuen Gruppenrichtlinie auf solche Windows-Arbeitsplatzsysteme einzuschränken, auf die sie sich später im Klassenarbeitsmodus auswirken soll. Dies geschieht am einfachsten über die Anpassung der Sicherheitsfilterung, die im Folgenden beschrieben ist.
			</p><p>
			Damit die Gruppenrichtlinieneinstellungen von Windows-Arbeitsplatzrechnern ausgewertet werden, ist es notwendig, einen Bezug zwischen dem angelegten Gruppenrichtlinienobjekt und den Rechnerobjekten im Samba-Verzeichnisdienst herzustellen. Um dies zu erreichen kann das Gruppenrichtlinienobjekt mit einer Organisationseinheit (OU) verknüpft werden, die den Rechnerobjekten im Verzeichnisbaum übergeordnet ist, in der Regel mit der Schul-OU.
			</p><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:computer"><a class="anchor" href="#school:exam:gpo:computer" title="Link to this section">§</a>11.3.2.1. Anwendungsbereich der GPO auf Klassenarbeitscomputer einschränken<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:computer" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem">
						In der Baumdarstellung der Gruppenrichtlinienverwaltung die Gruppenrichtlinie anklicken.
						</li><li class="listitem">
						Auf dem geöffneten Reiter <span class="emphasis"><em>Bereich</em></span> im Abschnitt <span class="emphasis"><em>Sicherheitsfilterung</em></span> die Schaltfläche <span class="emphasis"><em>Hinzufügen</em></span> betätigen.
						</li><li class="listitem">
						In das Eingabefeld <span class="emphasis"><em>Geben Sie die zu verwendenden Objektnamen ein</em></span> den Namen der Klassenarbeitsgruppe (<code class="systemitem">OU<em class="replaceable"><code>NameDerOU</code></em>-Klassenarbeit</code>, z.B. <strong class="userinput"><code>OUgym17-Klassenarbeit</code></strong>) eintragen und den Dialog mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Auf dem geöffneten Reiter <span class="emphasis"><em>Bereich</em></span> im Abschnitt <span class="emphasis"><em>Sicherheitsfilterung</em></span> die Gruppe <span xml:lang="en" class="emphasis" lang="en"><em>Authenticated Users</em></span> auswählen und die Schaltfläche <span class="emphasis"><em>Entfernen</em></span> betätigen.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:user"><a class="anchor" href="#school:exam:gpo:user" title="Link to this section">§</a>11.3.2.2. Einschränkung der Windows-Anmeldung auf Klassenarbeitsbenutzerkonten und Lehrer<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:user" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung das Gruppenrichtlinienobjekt zur Bearbeitung öffnen (Kontextmenü des GPO in der Baumdarstellung).
						</li><li class="listitem"><p class="simpara">
							Im neu geöffneten Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Windows-Einstellungen</span> -&gt; <span class="guisubmenu">Sicherheitseinstellungen</span> -&gt; <span class="guisubmenu">Lokale Richtlinien</span> -&gt; <span class="guisubmenu">Zuweisen von Benutzerrechten</span>
						</p></li><li class="listitem">
						Im neu geöffneten Richtlinien-Dialog <span class="emphasis"><em>Eigenschaften von Lokal anmelden zulassen</em></span> auf dem Reiter <span class="emphasis"><em>Sicherheitsrichtlinie</em></span> die Option <span class="emphasis"><em>Diese Richtlinieneinstellung definieren</em></span> aktivieren.
						</li><li class="listitem">
						Dann die Schaltfläche <span class="emphasis"><em>Benutzer oder Gruppe hinzufügen</em></span> betätigen.
						</li><li class="listitem">
						In das Eingabefeld <span class="emphasis"><em>Benutzer und Gruppennamen</em></span> den Namen <strong class="userinput"><code>Administratoren</code></strong> eintragen und den Dialog mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Erneut die Schaltfläche <span class="emphasis"><em>Benutzer oder Gruppe hinzufügen</em></span> betätigen.
						</li><li class="listitem">
						Im neu geöffneten Dialog die Schaltfläche <span class="emphasis"><em>Durchsuchen</em></span> betätigen.
						</li><li class="listitem">
						In das Eingabefeld <span class="emphasis"><em>Geben Sie die zu verwendenden Objektnamen ein</em></span> den Namen der Klassenarbeitsgruppe (<code class="systemitem">OU<em class="replaceable"><code>NameDerOU</code></em>-Klassenarbeit</code>, z.B. <strong class="userinput"><code>OUgym17-Klassenarbeit</code></strong>) eintragen und den Dialog mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Den Dialog <span class="emphasis"><em>Benutzer oder Gruppe hinzufügen</em></span> ebenfalls mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Erneut die Schaltfläche <span class="emphasis"><em>Benutzer oder Gruppe hinzufügen</em></span> betätigen.
						</li><li class="listitem">
						Im neu geöffneten Dialog die Schaltfläche <span class="emphasis"><em>Durchsuchen</em></span> betätigen.
						</li><li class="listitem">
						In das Eingabefeld <span class="emphasis"><em>Geben Sie die zu verwendenden Objektnamen ein</em></span> den Namen der Lehrergruppe (<code class="systemitem">lehrer-<em class="replaceable"><code>NameDerOU</code></em></code>, z.B. <strong class="userinput"><code>lehrer-gym17</code></strong>) eintragen und den Dialog mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Den Dialog <span class="emphasis"><em>Benutzer oder Gruppe hinzufügen</em></span> ebenfalls mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Den Richtlinien-Dialog <span class="emphasis"><em>Eigenschaften von Lokal anmelden zulassen</em></span> mit <span class="emphasis"><em>OK</em></span> schließen.
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:exam:gpo:usb"><a class="anchor" href="#school:exam:gpo:usb" title="Link to this section">§</a>11.3.3. Zugriff auf USB-Speicher und Wechselmedien einschränken<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:usb" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
				Zur Einschränkung des Zugriffs auf USB-Speicher und Wechselmedien sind je nach Windowsversion zwei Fälle zu beachten: einerseits die Einschränkung der Benutzung bereits installierter Gerätetreiber und andererseits die Einschränkung der Installation neuer Gerätetreiber.
			</p><p>
				Während für Windows XP beide Einschränkungen notwendig sind, bietet Windows 7 durch erweiterte Richtlinien vereinfachte und erweiterte Kontrollmöglichkeiten. In Mischumgebungen ist eine Kombination der skizzierten Einstellungen zu empfehlen.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
				Die Liste der hier erwähnten Einstellungen erhebt nicht den Anspruch auf Vollständigkeit. Es ist notwendig die Einstellungen entsprechend der lokalen Gegebenheiten zu testen. Insbesondere sollte folgende Microsoft-Dokumentation beachtet werden:
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						<a class="ulink" href="http://technet.microsoft.com/de-de/library/hh125922%28v=ws.10%29.aspx" target="_top">http://technet.microsoft.com/de-de/library/hh125922%28v=ws.10%29.aspx</a>.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:usb:xp"><a class="anchor" href="#school:exam:gpo:usb:xp" title="Link to this section">§</a>11.3.3.1. Zugriff auf USB-Speicher an Windows XP einschränken<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:usb:xp" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><p>
					Diese Richtlinie wird über eine Administrative Vorlage (ADMX) definiert, die in Microsoft Knowledgebase Artikel 555324.
					<a href="#ftn.idp75925840" class="footnote" id="idp75925840"><sup class="footnote">[2]</sup></a> beschrieben ist.
					Erst nach Einbinden der Administrative Vorlage (ADMX) können folgende Einstellungen getroffen werden.
					Beispiele für ADMX-Dateien liegen unter <code class="filename">/usr/share/doc/ucs-school-umc-exam/examples/GPO</code>.
					Zum Einbinden der ADMX-Dateien müssen diese auf die <code class="filename">SYSVOL</code>-Freigabe kopiert werden (siehe <a class="xref" href="#school:exam:gpo:general" title="11.3.1. Generelle Hinweise zu Gruppenrichtlinien und Administrativen Vorlagen">Abschnitt 11.3.1</a>).
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen</span> -&gt; <span class="guisubmenu">Spezielle Einstellungen</span> -&gt; <span class="guisubmenu">Treiber einschränken</span>
						</p></li><li class="listitem">
						Richtlinie <span class="emphasis"><em>USB Sperren</em></span> öffnen, <span class="emphasis"><em>Aktiviert</em></span> auswählen und mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
					Hier stehen auch weitere Gerätetypen zur Auswahl, z.B. CD-ROM-Laufwerke.
					</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:usb:xp:drivers"><a class="anchor" href="#school:exam:gpo:usb:xp:drivers" title="Link to this section">§</a>11.3.3.2. Installation neuer Gerätetreiber für USB-Speicher an Windows XP verbieten<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:usb:xp:drivers" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><p>
					Diese Richtlinie definiert eingeschränkte Dateisystemberechtigungen gemäß Microsoft Knowledgebase Artikel 823732
					<a href="#ftn.idp75940112" class="footnote" id="idp75940112"><sup class="footnote">[3]</sup></a>.
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Windows-Einstellungen</span> -&gt; <span class="guisubmenu">Sicherheitseinstellungen</span> -&gt; <span class="guisubmenu">Dateisystem</span>
						</p></li><li class="listitem">
						Rechtsklick auf <span class="emphasis"><em>Datei hinzufügen...</em></span>
						</li><li class="listitem">
						Das Verzeichnis <code class="filename">C:\Windows\Inf</code> ansteuern und dort die Datei <code class="filename">usbstor.inf</code> auswählen und mit <span class="emphasis"><em>OK</em></span> bestätigen (ggf. wird die Dateiendung <code class="filename">.inf</code> nicht mit angezeigt).
						</li><li class="listitem">
						In dem neu geöffneten Dialog <span class="emphasis"><em>Datenbanksicherheit für ...</em></span>  in der oberen Liste <span class="emphasis"><em>Gruppen- oder Benutzernamen</em></span> die Schaltfläche <span class="emphasis"><em>Hinzufügen</em></span> betätigen und den Namen der Klassenarbeitsgruppe hinzufügen,
						</li><li class="listitem">
						In der darunter angezeigten Liste <span class="emphasis"><em>Berechtigungen für ...</em></span> in der Zeile <span class="emphasis"><em>Vollzugriff</em></span>, Spalte <span class="emphasis"><em>Verweigern</em></span> ein Häkchen setzen und mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li><li class="listitem">
						Den Dialog <span class="emphasis"><em>Datenbanksicherheit für ...</em></span> mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Das neue Dialogfenster <span class="emphasis"><em>Windows-Sicherheit</em></span> mit <span class="emphasis"><em>Ja</em></span> bestätigen.
						</li><li class="listitem">
						Das neue Dialogfenster <span class="emphasis"><em>Objekt hinzufügen</em></span> mit <span class="emphasis"><em>OK</em></span> schließen.
						</li><li class="listitem">
						Analog sollten Einstellungen für <code class="filename">%SystemRoot%\inf\usbstor.pnf</code> und <code class="filename">%SystemRoot%\system32\drivers\usbstor.sys</code> definiert werden.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:usb:w7"><a class="anchor" href="#school:exam:gpo:usb:w7" title="Link to this section">§</a>11.3.3.3. Zugriff auf USB-Speicher an Windows 7 einschränken<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:usb:w7" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Benutzerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen</span> -&gt; <span class="guisubmenu">System</span> -&gt; <span class="guisubmenu">Wechselmedienzugriff</span>
						</p></li><li class="listitem">
						Z.B. Richtlinie <span class="emphasis"><em>Wechseldatenträger: Lesezugriff verweigern</em></span> öffnen, <span class="emphasis"><em>Aktiviert</em></span> auswählen und mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
					Weitere Informationen zu diesem Thema liefert z.B. <a class="ulink" href="http://technet.microsoft.com/de-de/library/cc771759%28v=ws.10%29.aspx" target="_top">http://technet.microsoft.com/de-de/library/cc771759%28v=ws.10%29.aspx</a>.
					</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:usb:w7:drivers"><a class="anchor" href="#school:exam:gpo:usb:w7:drivers" title="Link to this section">§</a>11.3.3.4. Installation neuer Gerätetreiber für USB-Speicher an Windows 7 Clients verbieten<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:usb:w7:drivers" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><p>
					Zusätzliche Einschränkungen zur Installation von Gerätetreibern sind auch unter Windows 7 möglich. Die Einstellungsmöglichkeiten bieten eine größere Kontrolle, setzen aber auch konkrete Erfahrungen mit den im Einzelfall eingesetzten Geräten voraus. Daher ist dieser Abschnitt nur als Einstiegshilfe zu verstehen. Die folgende Einstellung würde die zusätzliche Installation jeglicher Treiber für Wechselgeräte deaktivieren. Es kann hier z.B. dann zusätzlich sinnvoll sein, Administratoren von dieser Einschränkung auszunehmen.
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen</span> -&gt; <span class="guisubmenu">System</span> -&gt; <span class="guisubmenu">Geräteinstallation</span> -&gt; <span class="guisubmenu">Einschränkungen bei der Geräteinstallation</span>
						</p></li><li class="listitem">
						Hier kann die Installation von Treibern für bestimmte Geräteklassen, Geräte-IDs oder alle Wechselgeräte eingeschränkt werden.
						</li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Installation von Wechselgeräten verhindern</em></span> öffnen, <span class="emphasis"><em>Aktiviert</em></span> auswählen und mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li><li class="listitem">
						Die Richtlinie <span class="emphasis"><em>Administratoren das Außerkraftsetzen der Richtlinien unter ... erlauben</em></span> erlaubt Mitgliedern der Administratorengruppe die getroffenen Einschränkungen zu umgehen.
						</li><li class="listitem">
						Noch stärkere Restriktionen sind möglich, indem man die Ausschlusslogik auf Whitelisting umstellt. Dies kann über die Richtlinie <span class="emphasis"><em>Installation von Geräten verhindern, die nicht in anderen Richtlinien beschrieben sind</em></span> erreicht werden.
						</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
					Weitere Informationen zu diesem Thema liefert z.B. <a class="ulink" href="http://technet.microsoft.com/de-de/library/cc731387%28v=ws.10%29.aspx" target="_top">http://technet.microsoft.com/de-de/library/cc731387%28v=ws.10%29.aspx</a>.
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:exam:gpo:proxy"><a class="anchor" href="#school:exam:gpo:proxy" title="Link to this section">§</a>11.3.4. Vorgabe von Proxy-Einstellungen für den Internetzugriff<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:proxy" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
				Im Folgenden sind Vorgaben für Internet Explorer, Google Chrome und Mozilla Firefox beschrieben. Während Microsoft selbst Administrative Vorlagen mitliefert, sind für Google Chrome und Mozilla Firefox jeweils eigene Administrative Vorlagen notwendig.
			</p><p>
				Zusätzlich zur Vorgabe einer Proxyeinstellung ist für den Klassenarbeitsmodus eine Sperrung des Benutzer-Zugriffs auf eben diese Einstellungen sinnvoll. Dazu gibt es zwei unterschiedliche Ansätze: Im Fall des Internet Explorers bietet die Administrative Vorlage die Möglichkeit, das entsprechende Einstellungsfenster zu sperren. Im Fall von Google Chrome und Mozilla Firefox werden hingegen die Proxy-Einstellungen per Gruppenrichtlinie für den Arbeitsplatzrechner vorgegeben, statt für den Benutzer, und sind dadurch z.B. für Schüler nicht mehr veränderbar. Für die beiden letztgenannten Browser ist es daher wichtig darauf zu achten, die Einstellungen, wo nötig, im Zweig <span class="emphasis"><em>Computerkonfiguration</em></span> des Gruppenrichtlinieneditors statt im Zweig <span class="emphasis"><em>Benutzerkonfiguration</em></span> zu treffen.
			</p><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:proxy:ie"><a class="anchor" href="#school:exam:gpo:proxy:ie" title="Link to this section">§</a>11.3.4.1. Proxy-Vorgabe für den Internet Explorer<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:proxy:ie" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Benutzerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Windows-Einstellungen</span> -&gt; <span class="guisubmenu">Internet Explorer-Wartung</span> -&gt; <span class="guisubmenu">Verbindung</span>
						</p></li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Proxyeinstellungen</em></span> öffnen, <span class="emphasis"><em>Aktiviert</em></span> auswählen und bestätigen.
						</li><li class="listitem">
						Proxyadresse für <span class="emphasis"><em>HTTP</em></span> sowie <span class="emphasis"><em>Secure</em></span> und das entsprechende <span class="emphasis"><em>Port</em></span>-Feld ausfüllen (Wert der Univention Configuration Registry-Variable <code class="envar">squid/httpport</code>, Standard 3128)
						</li><li class="listitem">
						Ggf. <span class="emphasis"><em>Für alle Adressen denselben Proxyserver verwenden</em></span> aktivieren.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:proxy:ie:lock"><a class="anchor" href="#school:exam:gpo:proxy:ie:lock" title="Link to this section">§</a>11.3.4.2. Sperrung der Proxyeinstellung für den Internet Explorer<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:proxy:ie:lock" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen: Vom zentralen Computer abgerufene Richtliniendefinitionen (ADMX-Dateien)</span> -&gt; <span class="guisubmenu">Windows-Komponenten</span> -&gt; <span class="guisubmenu">Internet Explorer</span> -&gt; <span class="guisubmenu">Internetsystemsteuerung</span>
						</p></li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Verbindungsseite deaktivieren</em></span> öffnen und  <span class="emphasis"><em>Aktiviert</em></span> auswählen und bestätigen.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:proxy:chrome"><a class="anchor" href="#school:exam:gpo:proxy:chrome" title="Link to this section">§</a>11.3.4.3. Proxy-Vorgabe für Google Chrome<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:proxy:chrome" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><p>
					Die Administrativen Vorlagen für Google Chrome werden durch das Zip-Archiv <code class="filename">policy_templates.zip</code> des Chromium-Projekts bereitgestellt. Die entsprechenden Dateien liegen unter <code class="filename">/usr/share/doc/ucs-school-umc-exam/examples/GPO/</code>.  Der Inhalt des <code class="filename">admx</code>-Verzeichnisses sollte in das Verzeichnis <code class="filename">PolicyDefinitions</code> auf den Schulserver kopiert werden, so dass dort die Datei <code class="filename">chrome.admx</code> liegt. Die <code class="filename">*.adml</code>-Dateien aus den Unterverzeichnissen müssen in gleichnamige Unterverzeichnisse unter <code class="filename">PolicyDefinitions</code> kopiert werden.
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen: Vom zentralen Computer abgerufene Richtliniendefinitionen (ADMX-Dateien)</span> -&gt; <span class="guisubmenu">Google</span> -&gt; <span class="guisubmenu">Google Chrome</span> -&gt; <span class="guisubmenu">Proxy-Server</span>
						</p></li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Auswählen, wie Proxy-Server-Einstellungen angegeben werden</em></span> öffnen und <span class="emphasis"><em>Aktiviert</em></span> auswählen,
						</li><li class="listitem">
						Im Dropdown <span class="emphasis"><em>System-Proxy-Einstellungen verwenden</em></span> auswählen und bestätigen.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:proxy:firefox"><a class="anchor" href="#school:exam:gpo:proxy:firefox" title="Link to this section">§</a>11.3.4.4. Proxy-Vorgabe für Mozilla Firefox<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:proxy:firefox" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><p>
					Auf dem Schulserver sollte das Verzeichnis <code class="filename">/var/lib/samba/sysvol/DomänenNameDerUCS@schoolUmgebung/Policies/PolicyDefinitions/</code> angelegt werden. Nähere Informationen sind im Abschnitt zu Google Chrome zu finden.
				</p><p>
					Die Administrativen Vorlagen für Mozilla Firefox werden durch das FirefoxADM-Projekt bereitgestellt. Es ist sinnvoll die dort definierten ADM-Vorlagen in das ADMX-Format umzuwandeln. Beispiele für ADMX Dateien liegen unter <code class="filename">/usr/share/doc/ucs-school-umc-exam/examples/GPO</code>. Der Inhalt des <code class="filename">admx</code>-Verzeichnisses sollte in das Verzeichnis <code class="filename">PolicyDefinitions</code>  auf den Schulserver kopiert werden, so dass dort die Datei <code class="filename">firefoxlock.admx</code> liegt. Die <code class="filename">*.adml</code>-Dateien aus den Unterverzeichnissen müssen in gleichnamige Unterverzeichnisse unter <code class="filename">PolicyDefinitions</code> kopiert werden.
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen: Vom zentralen Computer abgerufene Richtliniendefinitionen (ADMX-Dateien)</span> -&gt; <span class="guisubmenu">Mozilla Firefox Locked Settings</span> -&gt; <span class="guisubmenu">General</span>
						</p></li><li class="listitem">
						Richtlinie <span xml:lang="en" class="emphasis" lang="en"><em>Proxy Settings</em></span> öffnen und <span class="emphasis"><em>Aktiviert</em></span> auswählen,
						</li><li class="listitem">
						Im Dropdown <span xml:lang="en" class="emphasis" lang="en"><em>Preference State</em></span> die Einstellung <span xml:lang="en" class="emphasis" lang="en"><em>Locked</em></span> auswählen,
						</li><li class="listitem">
						Im Dropdown <span xml:lang="en" class="emphasis" lang="en"><em>Proxy Setting</em></span> die Einstellung <span xml:lang="en" class="emphasis" lang="en"><em>Manual Proxy Configuration</em></span> auswählen,
						</li><li class="listitem">
						Im Feld <span xml:lang="en" class="emphasis" lang="en"><em>Proxy Setting</em></span> die Einstellung <span xml:lang="en" class="emphasis" lang="en"><em>Manual Setting - HTTP Proxy</em></span> eintragen,
						</li><li class="listitem">
						Im Feld <span xml:lang="en" class="emphasis" lang="en"><em>HTTP Proxy Port</em></span> den Proxy Port eintragen (Wert der Univention Configuration Registry-Variable <code class="envar">squid/httpport</code>, Standard 3128)
						</li><li class="listitem">
						Den Dialog mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li></ul></div><p>
					Da Mozilla Firefox bisher nicht selbständig die über die Administrativen Vorlagen definierten Einstellungen in der Windows-Registry berücksichtigt, ist es notwendig diese Einstellungen über ein Startup- bzw. Shutdown-Skript in Mozilla-Konfigurationsdateien übersetzen zu lassen. Das <em class="wordasword">FirefoxADM</em>-Projekt stellt diese Skripte in Form von zwei <code class="filename">vbs</code>-Dateien zur Verfügung. Deren Einbindung ist über die folgenden Schritt möglich.
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Computerkonfiguration</span> -&gt; <span class="guisubmenu">Windows-Einstellungen</span> -&gt; <span class="guisubmenu">Skripts (Start/Herunterfahren)</span>
						</p></li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Starten</em></span> öffnen,
						</li><li class="listitem">
						Im Dialog <span class="emphasis"><em>Eigenschaften von Starten</em></span> auf dem Reiter <span class="emphasis"><em>Skripts</em></span> die Schaltfläche <span class="emphasis"><em>Dateien anzeigen</em></span> betätigen,
						</li><li class="listitem">
						In das vom automatisch geöffneten Windows Explorer angezeigte (leere) Verzeichnis (<code class="filename">Machine\Scripts\Startup</code> im betreffenden GPO-Verzeichnis) die Datei <code class="filename">firefox_startup.vbs</code> kopieren und das Explorer-Fenster schließen.
						</li><li class="listitem">
						Im Dialog <span class="emphasis"><em>Eigenschaften von Starten</em></span> die Schaltfläche <span class="emphasis"><em>Hinzufügen</em></span> betätigen,
						</li><li class="listitem">
						Im neu geöffneten Dialog <span class="emphasis"><em>Hinzufügen eines Skripts</em></span> neben dem Feld <span class="emphasis"><em>Skriptname</em></span> den Namen <code class="filename">firefox_startup.vbs</code> eintragen und Dialog mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li><li class="listitem">
						Im Dialog <span class="emphasis"><em>Eigenschaften von Starten</em></span> den Dialog mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Herunterfahren</em></span> öffnen, und dort analog zu dem Vorgehen bei <span class="emphasis"><em>Starten</em></span> das Skript <code class="filename">firefox_shutdown.vbs</code> eintragen. Im Detail also:
						</li><li class="listitem">
						Im Dialog <span class="emphasis"><em>Eigenschaften von Herunterfahren</em></span> die Schaltfläche <span class="emphasis"><em>Hinzufügen</em></span> betätigen,
						</li><li class="listitem">
						In das vom automatisch geöffneten Windows Explorer angezeigte (leere) Verzeichnis (<code class="filename">Machine\Scripts\Shutdown</code> im betreffenden GPO-Verzeichis) die Datei <code class="filename">firefox_shutdown.vbs</code> kopieren und das Explorer-Fenster schließen.
						</li><li class="listitem">
						Im neu geöffneten Dialog <span class="emphasis"><em>Hinzufügen eines Skripts</em></span> neben dem Feld <span class="emphasis"><em>Skriptname</em></span> den Namen <code class="filename">firefox_shutdown.vbs</code> eintragen und Dialog mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li><li class="listitem">
						Im Dialog <span class="emphasis"><em>Eigenschaften von Herunterfahren</em></span> den Dialog mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:exam:gpo:cmd"><a class="anchor" href="#school:exam:gpo:cmd" title="Link to this section">§</a>11.3.5. Zugriff auf bestimmte Programme einschränken<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:cmd" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
				Die Liste der hier erwähnten Einstellungen erhebt nicht den Anspruch der Vollständigkeit. Es ist notwendig die Einstellungen entsprechend der lokalen Gegebenheiten zu testen. Insbesondere sollten folgende Microsoft-Dokumentationen beachtet werden:
				</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						<a class="ulink" href="http://technet.microsoft.com/en-us/library/bb457006.aspx#EGAA" target="_top">http://technet.microsoft.com/en-us/library/bb457006.aspx#EGAA</a>.
						</li><li class="listitem">
						<a class="ulink" href="http://technet.microsoft.com/en-us/library/hh994606.aspx" target="_top">http://technet.microsoft.com/en-us/library/hh994606.aspx</a>.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:cmd:cli"><a class="anchor" href="#school:exam:gpo:cmd:cli" title="Link to this section">§</a>11.3.5.1. Kommandoeingabeaufforderung deaktivieren<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:cmd:cli" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Benutzerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen</span> -&gt; <span class="guisubmenu">System</span>
						</p></li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Zugriff auf Eingabeaufforderung verhindern</em></span> öffnen und  <span class="emphasis"><em>Aktiviert</em></span> auswählen und bestätigen.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:cmd:regedit"><a class="anchor" href="#school:exam:gpo:cmd:regedit" title="Link to this section">§</a>11.3.5.2. Zugriff auf Windows-Registry-Editor deaktivieren<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:cmd:regedit" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Benutzerkonfiguration</span> -&gt; <span class="guisubmenu">Richtlinien</span> -&gt; <span class="guisubmenu">Administrative Vorlagen</span> -&gt; <span class="guisubmenu">System</span>
						</p></li><li class="listitem">
						Richtlinie <span class="emphasis"><em>Zugriff auf Programme zum Bearbeiten der Registrierung verhindern</em></span> öffnen
						</li><li class="listitem">
						<span class="emphasis"><em>Aktiviert</em></span> auswählen und den Dialog mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title" id="school:exam:gpo:cmd:srp"><a class="anchor" href="#school:exam:gpo:cmd:srp" title="Link to this section">§</a>11.3.5.3. Konfiguration von <span class="foreignphrase"><em class="foreignphrase">Software Restriction Policies</em></span> (SRP)<a href="https://www.univention.de/produkt-feedback/?manual=school:exam:gpo:cmd:srp" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h4></div></div></div><p>
					Aufgrund der Tiefe des Eingriffs der <span class="foreignphrase"><em class="foreignphrase">Software Restriction Policies</em></span> ist zu empfehlen, diese zunächst in einer Testumgebung zu auszuprobieren. Bei der Analyse von Zugriffsfehlern kann die Ereignisanzeige des Windows-Clients helfen
					<a href="#ftn.Application_Whitelisting_Using_SRP" class="footnote" id="Application_Whitelisting_Using_SRP"><sup class="footnote">[4]</sup></a>.
				</p><p>
					Die <span class="foreignphrase"><em class="foreignphrase">Software Restriction Policies</em></span> greifen auch in die Bearbeitung von Login- und Logoff-Skripten ein. Alle dort verwendeten Programme bzw. Programmpfade sollten auf Ausführbarkeit getestet werden.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Anmerkung</h3><p>
					Die Liste der hier erwähnten Einstellungen erhebt nicht den Anspruch der Vollständigkeit. Es ist notwendig die Einstellungen entsprechend der lokalen Gegebenheiten zu testen. Insbesondere sollte folgende Microsoft-Dokumentation beachtet werden:
					</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
								<a class="ulink" href="http://technet.microsoft.com/en-us/library/bb457006.aspx#EGAA" target="_top">http://technet.microsoft.com/en-us/library/bb457006.aspx#EGAA</a>.
							</li><li class="listitem">
								<a class="ulink" href="http://technet.microsoft.com/en-us/library/hh994606.aspx" target="_top">http://technet.microsoft.com/en-us/library/hh994606.aspx</a>.
							</li></ul></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
						In der Gruppenrichtlinienverwaltung ein neues Gruppenrichtlinienobjekt anlegen und/oder ein existierendes Gruppenrichtlinienobjekt zur Bearbeitung öffnen.
						</li><li class="listitem"><p class="simpara">
							Im Gruppenrichtlinienverwaltungseditor den folgenden Zweig öffnen:
						</p><p class="simpara">
							<span class="guisubmenu">Benutzerkonfiguration</span> -&gt; <span class="guisubmenu">Windows-Einstellungen</span> -&gt; <span class="guisubmenu">Sicherheitseinstellungen</span> -&gt; <span class="guisubmenu">Richtlinien für Softwareeinschränkung</span>
						</p></li><li class="listitem">
						Rechtsklick auf <span class="emphasis"><em>Neue Richtlinien für Softwareeinschränkung erstellen</em></span>
						</li><li class="listitem">
						Im rechten Fensterteil <span class="emphasis"><em>Erzwingen</em></span> öffnen,
						</li><li class="listitem">
						Einstellung <span class="emphasis"><em>Alle Benutzer außer den lokalen Administratoren</em></span> auswählen und mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li><li class="listitem">
						Im rechten Fensterteil <span class="emphasis"><em>Sicherheitsstufen</em></span> öffnen.
						</li><li class="listitem">
						<span class="emphasis"><em>Nicht erlaubt</em></span> per Doppelklick öffnen.
						</li><li class="listitem">
						<span class="emphasis"><em>Als Standard</em></span> auswählen und mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</li><li class="listitem">
						Im rechten Fensterteil <span class="emphasis"><em>Zusätzliche Regeln</em></span> öffnen.
						</li><li class="listitem">
						Rechtsklick auf <span class="emphasis"><em>Neue Pfadregel...</em></span>
						</li><li class="listitem">
						In das Eingabefeld <span class="emphasis"><em>Pfad</em></span> den UNC-Pfad <code class="filename">\\%USERDNSDOMAIN%\SysVol</code> eingeben, damit Logon- und GPO-Skripte ausgeführt werden können.
						</li><li class="listitem"><p class="simpara">
							In der Dropdown-Liste <span class="emphasis"><em>Nicht eingeschränkt</em></span> auswählen und mit <span class="emphasis"><em>OK</em></span> bestätigen.
						</p><div class="table" id="idp77447024"><a class="anchor" href="#idp77447024" title="Link to this section">§</a><p class="title"><strong>Tabelle 11.1. Beispiele für weitere Pfadregeln</strong></p><div class="table-contents"><table summary="Beispiele für weitere Pfadregeln" border="1"><colgroup><col class="col1" /><col class="col2" /></colgroup><thead><tr><th>Pfad</th><th>Sicherheitsstufe</th></tr></thead><tbody><tr><td><code class="filename">\\%USERDNSDOMAIN%\SysVol</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">\\%LogonServer%\SysVol</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">\\%LogonServer%\netlogon</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">\\%COMPUTERNAME%\Templates$\*</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">%UserProfile%\Local Settings\Temp\*.tmp</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">%WinDir%\system32\cscript.exe</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">%WinDir%\system32\wscript.exe</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">%ProgramFiles%</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">%ProgramFiles(x86)%</code></td><td>Nicht eingeschränkt</td></tr><tr><td><code class="filename">*.lnk</code></td><td>Nicht eingeschränkt</td></tr></tbody></table></div></div><br class="table-break" /></li><li class="listitem"><p class="simpara">
							Es kann sinnvoll sein zusätzlich Programm-Pfade als <span class="emphasis"><em>Nicht erlaubt</em></span> einzustufen, z.B.:
						</p><div class="table" id="idp77468720"><a class="anchor" href="#idp77468720" title="Link to this section">§</a><p class="title"><strong>Tabelle 11.2. Beispiele für weitere Pfadregeln</strong></p><div class="table-contents"><table summary="Beispiele für weitere Pfadregeln" border="1"><colgroup><col class="col1" /><col class="col2" /></colgroup><thead><tr><th>Pfad</th><th>Sicherheitsstufe</th></tr></thead><tbody><tr><td><code class="filename">%UserProfile%\Local Settings\Temp</code></td><td>Nicht erlaubt</td></tr><tr><td><code class="filename">%SystemRoot%\temp\*</code></td><td>Nicht erlaubt</td></tr><tr><td><code class="filename">%SystemRoot%\System32\mstsc.exe</code></td><td>Nicht erlaubt</td></tr><tr><td><code class="filename">%SystemRoot%\System32\dllcache\*</code></td><td>Nicht erlaubt</td></tr><tr><td><code class="filename">%SystemRoot%\System32\command.com</code></td><td>Nicht erlaubt</td></tr><tr><td><code class="filename">%SystemRoot%\System32\cmd.exe</code></td><td>Nicht erlaubt</td></tr><tr><td><code class="filename">%SystemRoot%\repair\*</code></td><td>Nicht erlaubt</td></tr><tr><td><code class="filename">%SystemDrive%\temp\*</code></td><td>Nicht erlaubt</td></tr></tbody></table></div></div><br class="table-break" /></li><li class="listitem">
						Es sollte beachtet werden, dass schreibbare Verzeichnisse, auf die der Zugriff nicht per Software Restriction Policy eingeschränkt ist, Benutzern die Möglichkeit geben, Programmdateien dort abzulegen und so die definierten Regeln zu umgehen
						<a href="#ftn.Application_Whitelisting_Using_SRP2" class="footnote" id="Application_Whitelisting_Using_SRP2"><sup class="footnote">[5]</sup></a>.
						</li></ul></div></div></div></div><div class="footnotes"><br /><hr style="width:100; text-align:left;margin-left: 0" /><div id="ftn.idp71853360" class="footnote"><p><a href="#idp71853360" class="para"><sup class="para">[1] </sup></a><a class="ulink" href="http://technet.microsoft.com/de-de/library/cc785665(v=ws.10).aspx" target="_top">http://technet.microsoft.com/de-de/library/cc785665(v=ws.10).aspx</a></p></div><div id="ftn.idp75925840" class="footnote"><p><a href="#idp75925840" class="para"><sup class="para">[2] </sup></a><a class="ulink" href="http://support.microsoft.com/kb/555324" target="_top">http://support.microsoft.com/kb/555324</a></p></div><div id="ftn.idp75940112" class="footnote"><p><a href="#idp75940112" class="para"><sup class="para">[3] </sup></a><a class="ulink" href="http://support.microsoft.com/kb/823732" target="_top">http://support.microsoft.com/kb/823732</a></p></div><div id="ftn.Application_Whitelisting_Using_SRP" class="footnote"><p><a href="#Application_Whitelisting_Using_SRP" class="para"><sup class="para">[4] </sup></a>
							Weitere sinnvolle Hinweise zur Analyse und Pflege der Software Restriction Policies liefert z.B.
							<a class="ulink" href="http://www.nsa.gov/ia/_files/os/win2k/Application_Whitelisting_Using_SRP.pdf" target="_top">http://www.nsa.gov/ia/_files/os/win2k/Application_Whitelisting_Using_SRP.pdf</a>
						</p></div><div id="ftn.Application_Whitelisting_Using_SRP2" class="footnote"><p><a href="#Application_Whitelisting_Using_SRP2" class="para"><sup class="para">[5] </sup></a>
								Weitere sinnvolle Hinweise zur Analyse und Pflege der Software Restriction Policies liefert z.B.
								<a class="ulink" href="http://www.nsa.gov/ia/_files/os/win2k/Application_Whitelisting_Using_SRP.pdf" target="_top">http://www.nsa.gov/ia/_files/os/win2k/Application_Whitelisting_Using_SRP.pdf</a>
							</p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:ucc:general"><a class="anchor" href="#school:ucc:general" title="Link to this section">§</a>Kapitel 12. Integration und Verwaltung von Univention Corporate Client-Systemen</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#school:ucc:installation">12.1. Installation von UCC</a></span></dt><dt><span class="section"><a href="#school:ucc:configuration">12.2. Konfigurationseinstellungen für UCC-Systeme</a></span></dt><dt><span class="section"><a href="#school:ucc:new-ucc-clients">12.3. Ausrollen von neuen UCC-Systemen</a></span></dt></dl></div><p>
	Univention Corporate Client (UCC) ist wie UCS@school eine aus dem Univention App Center heraus
	installierbare Erweiterung für Univention Corporate Server. UCC enthält eine optimierte
	Desktop-Umgebung auf Basis von Linux (Ubuntu), die eine Anpassung des Desktops an die jeweilige
	Hardware und den Einsatzzweck zulässt. Der Rollout der UCC-Systeme wird über ein imagebasiertes
	Verfahren durchgeführt. Dabei kann entweder auf offiziell bereitgestellte Images (ThinClient oder
	Desktop) zurückgegeriffen werden oder es können speziell an die eigene Umgebung angepasste Images
	erstellt werden. Die Verwaltung der UCC-Systeme erfolgt über die Univention Management Console.
  </p><p>
	UCS@school bietet die Möglichkeit, UCC-Desktop-Systeme ähnlich wie Windows-Systeme in die
	UCS@school-Umgebung einzubinden. Die dafür notwendigen Konfigurationsschritte werden durch spezielle
	Integrationspakete für UCS@school und UCC auf ein Minimum reduziert. Nach dem Einbinden der
	UCC-Systeme stehen in Verbindung mit UCS@school unter anderem die folgenden Features auf den
	UCC-Systemen zur Verfügung:
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
		  Automatisches Einbinden der Heimatverzeichnisse der Benutzer während des Anmeldevorgangs und
		  der Zugriff auf Klassen- und Arbeitsgruppen-Dateifreigaben über eine Verknüpfung auf dem Desktop
		</li><li class="listitem">
		  Automatische Einbindung der CUPS-Druckerfreigaben vom Schulserver
		</li><li class="listitem">
		  Automatischer Start von iTALC auf den UCC-Systemen, welches die Verwendung der Bildschirm-
		  bzw. Eingabegerätesperre über das UMC-Modul <span class="emphasis"><em>Computerraum</em></span> ermöglicht
		</li><li class="listitem">
		  Über Univention Configuration Registry-Richtlinien gesteuerte Einrichtung des Proxy-Servers für KDE-Anwendungen und
		  Firefox inklusive einer transparenten Authentifizierung gegenüber dem HTTP-Proxy (Squid)
		  des Schulservers
		</li></ul></div><p>
  </p><p>
	Für die Integration von UCC in UCS@school gelten die folgenden Einschränkungen:
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
		  Für die Integration von UCC-Desktop-Systemen in UCS@school ist die Verwendung von Samba 4
		  auf dem UCS@school-Schulserver erforderlich.
		</li><li class="listitem">
		  Die UCC-Systeme müssen mit dem offiziellen Desktop-Image (oder einem äquivalenten,
		  selbst erstellten Image) installiert werden. UCC-ThinClient-Systeme bzw. UCC-Terminalserver werden in
		  Verbindung mit UCS@school nicht unterstützt.
		</li><li class="listitem">
		  Der über iTALC realisierte Präsentationsmodus sowie das Beaufsichtigen von Systemen über
		  das UMC-Modul <span class="emphasis"><em>Computerraum</em></span> werden für UCC-Systeme derzeit nicht unterstützt.
		</li><li class="listitem">
		  Die über CUPS eingebundenen Druckerfreigaben unterstützen nicht alle Kombinationen für
		  Zugriffsberechtigungen. Das Freigeben aller Drucker über das Computerraum-Modul hat daher keine
		  Auswirkung auf UCC-Systeme.
		</li><li class="listitem">
		  Der Klassenarbeitsmodus von UCS@school wird auf UCC-Systemen nicht unterstützt.
		</li></ul></div><p>
  </p><p>
	Weitere Informationen zu UCC finden sich im UCC-Handbuch [<a href="#ucc-handbuch" class="biblioref">ucc-handbuch</a>].
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:ucc:installation"><a class="anchor" href="#school:ucc:installation" title="Link to this section">§</a>12.1. Installation von UCC<a href="https://www.univention.de/produkt-feedback/?manual=school:ucc:installation" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Im Folgenden wird die Installation von Univention Corporate Client (UCC) auf einem
	  UCS@school-Schulserver beschrieben. Dabei wird die Kenntnis des UCC-Handbuchs [<a href="#ucc-handbuch" class="biblioref">ucc-handbuch</a>] vorausgesetzt und neben einer Kurzanleitung für die Installation nur
	  abweichende Installationsschritte beschrieben.
	</p><p>
	  Die Installation von UCC erfolgt über das Univention App Center in der Univention
	  Management Console. Die Applikation <span class="emphasis"><em>Univention Corporate Client</em></span> muss auf
	  dem UCS@school-Schulserver installiert werden. Dies ist in einer Single-Server-Umgebung der
	  Domänencontroller Master und in einer Multi-Server-Umgebung der Domänencontroller Slave. Die
	  notwendigen Installationsschritte sind auf beiden UCS-Systemrollen gleich und werden daher im
	  folgenden gemeinsam beschrieben. Vor der Installation von UCC muss zunächst die UCS@school-Umgebung
	  fertig installiert und konfiguriert werden.
	</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
		Die Verwendung von UCC in UCS@school setzt die Verwendung des offiziellen UCC-Desktop-Images
		oder eines selbsterstellten Desktop-Images voraus. Das offizielle UCC-Desktop-Image wird während der
		Installation vom Univention UCC-Repository-Server heruntergeladen und hat im gepackten Zustand eine
		Größe von ca. 1 GB. Es ist daher, je nach Art und Geschwindigkeit der Internetanbindung, mit längeren
		Downloadzeiten zu rechnen. Nach erfolgreichem Download wird das Image entpackt. Daher muss vor der
		Installation von UCC auf dem Schulserver sichergestellt werden, dass mindestens mindestens 22 GB an
		freiem Speicherplatz vorhanden sind.
	  </p></div><p>
	  Auf dem Schulserver sind für die Installation von UCC die folgenden Schritte durchzuführen:
	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			Die Installation von UCC erfolgt über das Univention App Center. Dafür muss auf dem
			betreffenden System im Univention App Center die Applikation <span class="application">Univention Corporate
			Client</span> ausgewählt und installiert werden. Der
			<span class="emphasis"><em>UCC-Setup</em></span>-Assistent ist nicht für die Einrichtung von UCS@school geeignet!
		  </li><li class="listitem">
			Nun muss das offizielle UCC-Desktop-Image installiert werden. Dazu wird das
			Univention Management Console-Modul <span class="guimenu">UCC-Images</span> geöffnet und <span class="guimenuitem">UCC 2.0 desktop
			image</span> ausgewählt. Nach einem Klick auf <span class="guimenu">Herunterladen</span> wird
			das Image heruntergeladen.
		  </li><li class="listitem">
			Nach Abschluss der Installation von UCC und des UCC-Desktop-Images sind ggf. neue
			Joinskripte auf dem System installiert worden, die noch nicht ausgeführt wurden. Daher ist es
			wichtig, die noch nicht ausgeführten Joinskripte jetzt über das UMC-Modul
			<span class="emphasis"><em>Domänenbeitritt</em></span> zu starten. Alternativ kann das Starten der Joinskripte auch
			auf der Kommandozeile über den Befehl <code class="command">univention-run-join-scripts</code> erfolgen.
		  </li></ul></div><p>
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:ucc:configuration"><a class="anchor" href="#school:ucc:configuration" title="Link to this section">§</a>12.2. Konfigurationseinstellungen für UCC-Systeme<a href="https://www.univention.de/produkt-feedback/?manual=school:ucc:configuration" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Im Folgenden werden die UCS@school-spezifischen Konfigurationseinstellungen beschrieben, die von
	  regulären UCC-Systemen abweichen. Weitergehende Konfigurationsmöglichkeiten werden im UCC-Handbuch
	  [<a href="#ucc-handbuch" class="biblioref">ucc-handbuch</a>] beschrieben.
	</p><p>
	  Für die korrekte Funktion der UCC-Systeme ist sicherzustellen, dass die UCC-Systeme den
	  Domänencontroller Master (nur bei Single-Server-Umgebungen!) bzw. den Domänencontroller Slave
	  (Multi-Server-Umgebung) als DNS-Server verwenden. In der Standardeinstellung wird automatisch eine
	  DHCP-DNS-Richtlinie
	  <code class="uri">cn=dhcp-dns-SCHULNAME,cn=policies,ou=SCHULNAME,dc=example,dc=com</code> erstellt und
	  mit dem Container <code class="uri">cn=dhcp,ou=SCHULNAME,dc=example,dc=com</code> verknüpft, die die
	  IP-Adresse des Schulservers als DNS-Server über DHCP konfiguriert.  Das automatische Erstellen und
	  Verknüpfen der DHCP-DNS-Richtlinie kann durch das Setzen der
	  UCR-Variable <code class="envar">ucsschool/import/generate/policy/dhcp/dns/set_per_ou=false</code> auf
	  Domänencontroller Master- <span class="emphasis"><em>und</em></span> Domänencontroller Slave-Systemen deaktiviert
	  werden.
	</p><p>
	  Die Konfiguration der UCC-Systeme erfolgt in der Standardeinstellung über eine automatisch vom
	  Schulserver generierte UCR-Richtlinie. Diese trägt den Namen
	  <code class="uri">ou-default-ucr-policy</code> und wird für jede Schul-OU unter dem DN
	  <code class="uri">cn=ou-default-ucr-policy,cn=policies,ou=SCHULNAME,dc=example,dc=com</code> im
	  LDAP-Verzeichnis abgelegt. Diese UCR-Richtlinie wird automatisch bei der Installation des
	  Schulservers mit geeigneten Werten vordefiniert, welche nachfolgend beschrieben werden:
	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			Die UCR-Variable <code class="envar">ucc/mount/cifshome/server</code> definiert den Server, von dem
			das Samba-Heimatverzeichnis des sich anmeldenden Benutzers gemountet wird. In der Variable ist der
			FQDN anzugeben (Beispiel: <strong class="userinput"><code>ucc/mount/cifshome/server=schulserver1.example.com</code></strong>).
		  </li><li class="listitem">
			Analog zur aus UCS bereits bekannten UCR-Variable <code class="envar">proxy/http</code> kann über
			die Variable <code class="envar">ucc/proxy/http</code> der HTTP-Proxy für die UCC-Systeme definiert werden
			(Beispiel: <strong class="userinput"><code>ucc/proxy/http=http://schulserver1.example.com:3128</code></strong>).
		  </li><li class="listitem">
			Der CUPS-Druckserver für UCC-Systeme wird über die UCR-Variable
			<code class="envar">ucc/cups/server</code> festgelegt. Auch hier ist der FQDN des Druckservers anzugeben
			(Beispiel: <strong class="userinput"><code>ucc/cups/server=schulserver1.example.com</code></strong>).
		  </li><li class="listitem">
			Für die Verwendung von iTALC wird auf den UCC-Systemen der iTALC-Schlüssel des
			Schulservers zur automatischen Authentifizierung benötigt. Die folgenden zwei Variablen definieren
			eine Samba-Freigabe sowie den Dateinamen der iTALC-Schlüsseldatei, über die das UCC-System die
			Schlüsseldatei beziehen kann: <code class="envar">ucc/italc/key/sambasource</code> und
			<code class="envar">ucc/italc/key/filename</code>. In der Standardeinstellung wird der iTALC-Schlüssel auf der
			<span class="emphasis"><em>NETLOGON</em></span>-Freigabe des Schulservers abgelegt. Die Schlüsseldatei enthält dabei
			den Namen des Schulservers (Beispiel:
			<strong class="userinput"><code>ucc/italc/key/sambasource=\\schulserver1\netlogon</code></strong> und
			<strong class="userinput"><code>ucc/italc/key/filename=italc-key_schulserver1.pub</code></strong>).
		  </li></ul></div><p>
	  Das automatische Erstellen und Verknüpfen der UCR-Richtlinie
	  <code class="uri">ou-default-ucr-policy</code> kann durch das Setzen der UCR-Variable
	  <code class="envar">ucsschool/import/generate/policy/ucc/settings=false</code> auf Domänencontroller Master-
	  <span class="emphasis"><em>und</em></span> Domänencontroller Slave-Systemen deaktiviert werden.
	</p><p>
	  Die UCC-Systeme können Kerberos als Authentifizierungsmethode für die transparente
	  Authentifizierung gegenüber dem HTTP-Proxy (Squid) des Schulservers verwenden. Diese
	  Authentifizierungsmethode ist in der Standardeinstellung im HTTP-Proxy des Schulservers deaktiviert
	  und muss manuell durch das Setzen der Univention Configuration Registry-Variable <code class="envar">squid/krb5auth=yes</code> aktiviert
	  werden. Anschließend ist auf dem Schulserver ein Neustart des Dienstes <code class="systemitem">squid</code>
	  notwendig, der entweder über das UMC-Modul <span class="emphasis"><em>Systemdienste</em></span> oder auf der
	  Kommandozeile über das Kommando <code class="command">invoke-rc.d squid3 restart</code> durchgeführt werden
	  kann.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:ucc:new-ucc-clients"><a class="anchor" href="#school:ucc:new-ucc-clients" title="Link to this section">§</a>12.3. Ausrollen von neuen UCC-Systemen<a href="https://www.univention.de/produkt-feedback/?manual=school:ucc:new-ucc-clients" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Sind Installation und Konfiguration von UCC auf dem Schulserver abgeschlossen, können neue
	  UCC-Desktop-Systeme installiert und für UCS@school eingerichtet werden. Die nachfolgenden Schritte für
	  den Rollout wurden auf ein Minimum reduziert und beinhalten abweichende Schritte zum regulären
	  UCC-Rollout. Hinweise zu Rollout und Konfiguration von UCC-Desktop-Systemen können dem UCC-Handbuch
	  [<a href="#ucc-handbuch" class="biblioref">ucc-handbuch</a>] entnommen werden.
	</p><p>
	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			Für die Installation eines UCC-Desktop-Systems muss zunächst für jedes zu installierende
			System ein UCC-Objekt im LDAP-Verzeichnis erstellt werden. Hierzu werden Angaben wie IP-Adresse und
			MAC-Adresse benötigt. Das UCC-Objekt muss entweder in der Univention Management Console über das
			Modul <span class="emphasis"><em>Rechner (Schulen)</em></span> oder auf der Kommandozeile über das
			UCS@school-Importskript <code class="command">import_computer</code> angelegt werden. Bei beiden Varianten ist
			darauf zu achten, dass als Rechnertyp <span class="emphasis"><em>Univention Corporate Client</em></span>
			bzw. <em class="wordasword">ucc</em> angegeben wird. Hinweise zum Importskript
			<code class="command">import_computer</code> finden sich in <a class="xref" href="#school:schoolcreate:computers:import" title="5.5.1. Skriptbasierter Import von PCs">Abschnitt 5.5.1</a>.
		  </li><li class="listitem">
			Nach dem Anlegen des UCC-Objektes muss das Rechner-Objekt in der Univention Management Console
			geöffnet und auf den Reiter <span class="emphasis"><em>Images</em></span> gewechselt werden. Dort sollte als
			Startvariante <span class="emphasis"><em>Installation: Neupartitionierung und Image-Rollout</em></span> und das gewünschte
			UCC-Desktop-Image ausgewählt werden. Diese Einstellungen beziehen sich ausschließlich auf
			den erstmaligen Rollout des UCC-Images auf ein neues System. Der Rechner muss nun neu
			gestartet und ein PXE-Boot initiiert werden. Dabei werden im Rahmen des Rollouts alle
			vorhandenen Daten des Systems überschrieben!
		  </li><li class="listitem">
			Die Installation der notwendigen Integrationspakete auf dem UCC-System kann manuell auf
			der Kommandozeile des UCC-Systems erfolgen (<code class="command">apt-get install
			univention-ucc-ucsschool-integration</code>). Sollen mehrere UCC-Systeme ausgerollt werden, wird
			empfohlen, am Container <code class="uri">cn=computers,ou=SCHULNAME,dc=example,dc=com</code> eine neue
			Richtlinie vom Typ <span class="emphasis"><em>UCC Software-Update-Einstellungen</em></span> zu verknüpfen, über die
			das Paket <span class="package">univention-ucc-ucsschool-integration</span> automatisch beim Systemstart
			installiert wird.
		  </li><li class="listitem"><p class="simpara">
			Wurden die vorgenannten Schritte durchgeführt, kann das UCC-System gestartet
			werden. Während des PXE-Boot-Vorgangs wird automatisch eine Repartitionierung und die Installation
			des UCC-Desktop-Images vorgenommen. Dabei werden vom UCC-System Informationen für den
			Domänenbeitritt abgefragt. Sofern die oben genannte Richtlinie eingerichtet wurde, wird beim Starten
			des UCC-Systems das Integrationspaket nachinstalliert.
		  </p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
				Für die Nachinstallation des Integrationspakets muss das UCC-System Zugriff auf die
				offiziellen Univention-UCC-Repository-Server erhalten. Die dafür notwendigen
				DHCP-Routing-Einstellungen müssen ggf. vor dem ersten Bootvorgang eingerichtet werden.
			  </p></div></li><li class="listitem">
			Nach Abschluss der manuellen bzw. automatischen Installation des Integrationspakets
			müssen einmalig auf dem UCC-System noch nicht ausgeführte Joinskripte aufgerufen werden. Dazu ist
			auf dem UCC-System auf der Kommandozeile der Befehl <code class="command">univention-run-join-scripts</code>
			auszuführen. Dabei wird z.B. der iTALC-Schlüssel vom Schulserver auf das UCC-System kopiert.
		  </li><li class="listitem">
			Zum Abschluss sollte das UCC-System neu gestartet werden.
		  </li></ul></div><p>
	</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="import"><a class="anchor" href="#import" title="Link to this section">§</a>Kapitel 13. Pre- und Post-Hook-Skripte für den Import</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#import:extend">13.1. Erweiterung von Importdateien</a></span></dt><dt><span class="section"><a href="#import:marketplace">13.2. Beispiel-Hook-Skript: automatische Erstellung der Marktplatzfreigabe</a></span></dt><dt><span class="section"><a href="#import:dhcp">13.3. Beispiel-Hook-Skript: Setzen des LDAP-Containers für DHCP-Objekte</a></span></dt></dl></div><p>
	Während des Datenimports kann es notwendig sein, dass in Abhängigkeit von der
	jeweiligen Umgebung zusätzlich einige weitere Einstellungen vorgenommen werden
	müssen. Mit den Pre- und Post-Hook-Skripten besteht die Möglichkeit vor und
	nach dem Import eines Objektes, Skripte auszuführen. Zu allen Objekten und den
	davon jeweils unterstützten Operationen können mehrere Skripte definiert
	werden, die dann vor und nach den Operationen Anpassungen vornehmen.
  </p><p>
	Damit die Import-Skripte die Hook-Skripte finden können, müssen diese unterhalb
	des Verzeichnisses <code class="filename">/usr/share/ucs-school-import/hooks/</code> abgelegt
	werden. Dort gibt es für jede unterstützte Operation ein eigenes
	Unterverzeichnis. Beispielsweise gibt es das Verzeichnis
	<code class="filename">user_create_pre.d</code>, das alle Skripte enthalten muss, die vor dem
	Import eines Benutzers ausgeführt werden sollen. Alle weiteren Verzeichnisse
	sind nach dem gleichen Schema benannt: <code class="filename"><em class="replaceable"><code>&lt;Objekt&gt;</code></em>_<em class="replaceable"><code>&lt;Operation&gt;</code></em>_pre.d</code>
	für die Skripte, die <span class="emphasis"><em>vor</em></span> einer Operation ausgeführt werden sollen
	und <code class="filename"><em class="replaceable"><code>&lt;Objekt&gt;</code></em>_<em class="replaceable"><code>&lt;Operation&gt;</code></em>_post.d</code> für die Skripte, die nach einer
	Operation ausgeführt werden sollen. Das Paket <span class="package">ucs-school-import</span>
	bringt diese Verzeichnisse bereits mit. Skripte, die bei der Ausführung
	berücksichtigt werden sollen, müssen zwei Bedingungen erfüllen. Der Name darf
	nur aus Ziffern, Buchstaben und Unter- und Bindestrichen bestehen und die
	Ausführungsrechte müssen für die Datei gesetzt sein. Alle anderen Dateien in
	diesen Verzeichnissen werden ignoriert.
  </p><p>
	Die Hook-Skripte werden derzeit für die Objekttypen <code class="classname">ou</code>, <code class="classname">user</code>,
	<code class="classname">group</code>, <code class="classname">printer</code>, <code class="classname">computer</code>, <code class="classname">network</code> und <code class="classname">router</code>
	für die Operationen <code class="option">create</code>, <code class="option">modify</code> und <code class="option">remove</code> ausgeführt.
	Dabei ist zu beachten, dass für Rechner (<span class="foreignphrase"><em class="foreignphrase">computer</em></span>), Netzwerke, Router und Schul-OUs
	nur die Operation zum Erzeugen (<code class="option">create</code>) definiert ist und daher auch nur dafür
	Hook-Skripte definiert werden können.
  </p><p>
	Die Pre-Hook-Skripte werden mit einem Parameter aufgerufen. Dieser enthält den
	Namen einer Datei in der die Zeile des als nächstes zu bearbeitenden Objektes
	aus der Import-Datei gespeichert ist. Darüber können die Skripte jede
	Einstellung für das Objekt auslesen; allerdings ist zu berücksichtigen, dass
	zu diesem Zeitpunkt die Daten noch nicht durch das Import-Skript geprüft
	worden sind. Die Post-Hook-Skripte bekommen als zusätzlichen Parameter noch
	den LDAP-DN des gerade bearbeiteten Objektes übergeben.
  </p><p>
	Das folgende Beispiel-Skript soll ausgeführt werden, nachdem eine neue
	Schul-OU angelegt wurde. Dafür muss das Skript in das Verzeichnis
	<code class="filename">/usr/share/ucs-school-import/hooks/ou_create_post.d/</code> kopiert
	werden. Die Aufgabe des Skriptes soll es sein, die LDAP-Basis für den
	DHCP-Server der Schule per Univention Configuration Registry-Richtlinie auf den Container
	<code class="uri">cn=dhcp</code> unterhalb der LDAP-Basis der Schule zu setzen.
  </p><pre class="programlisting">#!/bin/sh
ldap_base="$(ucr get ldap/base)"
# Auslesen der ersten Spalte (OU-name) der Importdatei
ou="$(awk -F '\t' '{print $1}' "$1")"
# Den Standard-Schul-DC-Namen erzeugen
host="dc${ou}-01.$(ucr get domainname)"
# Eine UCR-Richtlinie erstellen und mit dem Schul-DC verbinden
udm policies/registry create \
  --position "cn=policies,ou=$ou,$ldap_base" \
  --set name=dhcpd_ldap_base \
  --append "registry=dhcpd/ldap/base=cn=dhcp,ou=$ou,$ldap_base"
udm computers/domaincontroller_slave \
  --dn "cn=dc${ou}-01,cn=dc,cn=computers,ou=$ou,$ldap_base" \
  --policy-reference "cn=dhcpd_ldap_base,cn=policies,ou=$ou,$ldap_base"
echo "$(basename $0): Added policy dhcpd_ldap_base ."</pre><p>
	Obwohl das Skript <code class="command">create_ou</code> keine Eingabedatei übergeben bekommt,
	wird für die Hook-Skripte eine generiert, die in der Zeile den Namen der OU
	enthält. Wenn ein vom Standard abweichender Schul-DC-Name angegeben wurde,
	wird dieser als zweiter Wert übergeben. Für alle anderen Operationen auf den
	Objekten können Hook-Skripte auf äquivalente Weise erstellt werden.
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="import:extend"><a class="anchor" href="#import:extend" title="Link to this section">§</a>13.1. Erweiterung von Importdateien<a href="https://www.univention.de/produkt-feedback/?manual=import:extend" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Eine weitere Funktion von den Hook-Skripten ist die Möglichkeit mit
	  Erweiterungen in den Import-Dateien umzugehen, d.h. wenn in den Importdateien
	  mehr Felder eingetragen sind, als durch die Import-Skripte selbst
	  verarbeitet werden, so können die erweiterten Attribute in den Hook-Skripten
	  ausgelesen und verarbeitet werden. Als Beispiel könnten bei den Benutzern
	  Adressinformationen oder eine Abteilung gespeichert werden. Die zusätzlichen
	  Felder werden in den Importdateien jeweils hinten an die Zeilen getrennt durch
	  einen Tabulator angehängt. Da die Hook-Skripte die komplette Zeile übergeben
	  bekommen, kann ein Post-Hook-Skript genutzt werden, um die neuen Felder auszulesen
	  und die Informationen z.B. an dem gerade erzeugten Benutzer zu ergänzen.
	</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="import:marketplace"><a class="anchor" href="#import:marketplace" title="Link to this section">§</a>13.2. Beispiel-Hook-Skript: automatische Erstellung der Marktplatzfreigabe<a href="https://www.univention.de/produkt-feedback/?manual=import:marketplace" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Um den Austausch von Dokumenten zwischen Benutzern zu erleichtern, wird
	  empfohlen, die Freigabe <span class="emphasis"><em>Marktplatz</em></span> auf den jeweiligen Schul-DCs
	  anzulegen, auf die alle Benutzer Zugriff erhalten.
	</p><p>
	  Das Hook-Skript <code class="command">ou_create_post.d/52marktplatz_create</code> wird ab UCS@school
	  für UCS 2.4 mitgeliefert und legt beim Aufruf von <code class="command">create_ou</code> die
	  Freigabe ``Marktplatz'' automatisch an. Über
	  die Univention Configuration Registry-Variable <code class="envar">ucsschool/import/generate/share/marktplatz</code> kann der Hook
	  de-/aktiviert werden, indem der Variable der Wert <code class="literal">no</code> bzw. <code class="literal">yes</code>
	  zugeordnet wird.
	</p><p>
	  Über drei weitere Univention Configuration Registry-Variablen kann das Verhalten des Hooks gesteuert
	  werden:
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
			<code class="command">ucsschool/import/generate/share/marktplatz/sharepath</code>
		  </p><p>
			Diese Variable definiert das Verzeichnis auf dem Server, welches als
			Freigabe <code class="systemitem">Marktplatz</code> freigegeben wird. In der Standardeinstellung wird das Verzeichnis
			<code class="filename">/home/&lt;OU&gt;/groups/Marktplatz</code> verwendet.
		  </p></li><li class="listitem"><p>
			<code class="command">ucsschool/import/generate/share/marktplatz/group</code>
		  </p><p>
			Beim Anlegen der Freigabe wird die in dieser Variable definierte Gruppe
			als Gruppenbesitzer der Freigabe festgelegt. In der Standardeinstellung
			ist	dies die Gruppe <code class="systemitem">Domain Users</code>. Es ist zu beachten, dass abweichend vom UCS-Standard
			die über die Importskripte angelegten Benutzer nicht in der Gruppe <code class="systemitem">Domain Users</code> enthalten sind.
		  </p></li><li class="listitem"><p>
			<code class="command">ucsschool/import/generate/share/marktplatz/permissions</code>
		  </p><p>
			Die Zugriffsrechte der Freigabe sind in oktaler Schreibweise anzugeben
			(z.B. 0777). In der Standardeinstellung erhalten der Benutzer <code class="systemitem">root</code>,
			die vordefinierte Gruppe (z.B. <code class="systemitem">Domain Users</code>) sowie alle sonstigen Benutzer Lese- und
			Schreibrechte (0777).
		  </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="import:dhcp"><a class="anchor" href="#import:dhcp" title="Link to this section">§</a>13.3. Beispiel-Hook-Skript: Setzen des LDAP-Containers für DHCP-Objekte<a href="https://www.univention.de/produkt-feedback/?manual=import:dhcp" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><p>
	  Auf den Schul-DCs wird ein abweichender Container für DHCP-Objekte
	  verwendet, weshalb die Univention Configuration Registry-Variable <code class="envar">dhcpd/ldap/base</code> entsprechend gesetzt werden
	  muss. Um das manuelle Setzen der UCR-Variable für jede neue OU bzw. jeden
	  neuen Schul-DC zu vermeiden, wird über den Standard-Hook
	  <code class="command">ou_create_post.d/40dhcpsearchbase_create</code> automatisch beim Erstellen einer OU die
	  UCR-Richtlinie <code class="uri">ou-default-ucr-policy</code> im Container
	  <code class="uri">cn=policies,ou=<em class="replaceable"><code>XXX</code></em>,<em class="replaceable"><code>LDAPBASIS</code></em></code> angelegt und anschließend mit dem OU-Objekt <code class="uri">ou=<em class="replaceable"><code>XXX</code></em>,<em class="replaceable"><code>LDAPBASIS</code></em></code>
	  verknüpft. Über die Richtlinie wird die Univention Configuration Registry-Variable <code class="envar">dhcpd/ldap/base</code>
	  entsprechend gesetzt. Dadurch wird sichergestellt, dass die in der Richtlinie
	  gesetzten UCR-Variablen auf allen UCS-Systemen der OU
	  automatisch übernommen werden.
	</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title" id="school:performance:general"><a class="anchor" href="#school:performance:general" title="Link to this section">§</a>Kapitel 14. Hinweise für große UCS@school-Umgebungen</h1></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="#school:performance:scaling">14.1. Skalierung von UCS@school Samba 4 Umgebungen</a></span></dt><dd><dl><dt><span class="section"><a href="#school:performance:additionalMemberserver">14.1.1. Installation zusätzlicher Memberserver</a></span></dt><dt><span class="section"><a href="#school:performance:secondarySamba4DC">14.1.2. Installation zusätzlicher Anmeldeserver</a></span></dt></dl></dd><dt><span class="section"><a href="#school:performance:backup-share">14.2. Verzeichnisfreigabe für backup-Heimatverzeichnisse</a></span></dt><dd><dl><dt><span class="section"><a href="#idp72929360">14.2.1. </a></span></dt></dl></dd></dl></div><p>
	Die Standardkonfiguration von Univention Corporate Server und UCS@school ist für Umgebungen mit bis zu 5.000
	Benutzern optimiert worden. In größeren Umgebungen kann es notwendig werden, Anpassungen an der
	Standardkonfiguration vorzunehmen. Die meisten Schritte werden bereits im <span class="foreignphrase"><em class="foreignphrase">UCS performance
	guide</em></span> [<a href="#ucs-performance-guide" class="biblioref">ucs-performance-guide</a>] beschrieben.
  </p><p>
	Darüber hinaus sollten einige Punkte bereits bei der Planung und dem Aufbau einer UCS@school-Umgebung beachtet werden:
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
		  Durch die Verwendung einer Multi-Server-Umgebung und einer geeigneten Unterteilung der
		  Benutzerkonten auf mehrere Schul-OUs kann die Last der einzelnen Schulserver bei einer großen
		  Gesamtanzahl an Benutzern erheblich reduziert werden. Zusätzlich wird durch die Unterteilung für die
		  Nutzer das Bedienen der UCS@school-Systeme erleichtert, da zum Beispiel die Menge der angezeigten
		  Benutzer, Klassen, Räume usw. auf die jeweilige Schul-OU eingeschränkt wird.
		</li><li class="listitem"><p class="simpara">
		  Gruppen mit einer großen Anzahl an Mitgliedern können negative Auswirkungen auf die
		  Geschwindigkeit der UCS@school-Systeme haben.  Es sollte daher beim Anlegen von Benutzern vermieden
		  werden, dass alle Benutzer Mitglied einer bestimmten Gruppe (z.B. <code class="systemitem">Domain Users</code>) werden.  Die
		  UCS@school-Importskripte beachten dies bereits und legen pro Schul-OU eine eigene Gruppe
		  <code class="systemitem">Domain Users OUNAME</code> an, die als primäre Gruppe für die Benutzerkonten verwendet
		  wird.
		</p><p class="simpara">
		  Falls für die Rechteverwaltung eine Zusammenfassung der Benutzer notwendig ist, können
		  mehrere dieser Gruppen über die <span class="emphasis"><em>Gruppen in Gruppen</em></span>-Funktionalität
		  zusammengeführt werden.  Die einzelnen <code class="systemitem">Domain User <em class="replaceable"><code>OUNAME</code></em></code>-Gruppen können dann
		  bei Bedarf z.B. als Mitglied in der Gruppe <code class="systemitem">Domain Users</code> eingetragen werden.
		</p></li></ul></div><p>
  </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:performance:scaling"><a class="anchor" href="#school:performance:scaling" title="Link to this section">§</a>14.1. Skalierung von UCS@school Samba 4 Umgebungen<a href="https://www.univention.de/produkt-feedback/?manual=school:performance:scaling" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:performance:additionalMemberserver"><a class="anchor" href="#school:performance:additionalMemberserver" title="Link to this section">§</a>14.1.1. Installation zusätzlicher Memberserver<a href="https://www.univention.de/produkt-feedback/?manual=school:performance:additionalMemberserver" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
  	  In UCS@school Umgebungen in denen Samba 4 Active Directory kompatible Dienste bereitstellt,
	  kann ein zusätzlicher UCS Memberserver an einem Schulstandort installiert werden.
  	</p><p>
  	  Um einen solchen zusätzlichen Memberserver an einem Schulstandort zu installieren und zu joinen, müssen
	  vorbereitende Schritte durchgeführt werden:
  	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
			Für den neuen Memberserver muss im Container <code class="uri">cn=computers</code> der gewünschten Schul-OU ein
			Rechnerobjekt angelegt werden. Der Name des Rechnerobjekts muss mit dem Hostnamen übereinstimmen, mit dem
			der neue Memberserver installiert wurde.
  		  </li><li class="listitem">
			Der Memberserver muss in die Gruppen <code class="systemitem">Member-Edukativnetz</code> und
			<code class="systemitem">OU&lt;OUNAME&gt;-Member-Edukativnetz</code> aufgenommen werden.
  		  </li><li class="listitem">
			Im Univention Directory Manager sollte eine Univention Configuration Registry Richtlinie angelegt werden, die die UCR-Variable <code class="envar">ldap/server/name</code>
			auf den Namen des gewünschten Schulservers setzt. Diese Univention Configuration Registry Richtlinie sollte dann mit der gewünschten Schul-OU
			oder mit dem Container verknüpft werden, in dem das Rechnerobjekt des Memberservers positioniert ist.
  		  </li><li class="listitem">
			Auf dem Memberserver selbst muss vor dem Domänenbeitritt die UCR-Variable <code class="envar">nameserver1</code>
			auf die IP-Adresse des Schulservers gesetzt werden. Die UCR-Variablen <code class="envar">nameserver2</code>
			und <code class="envar">nameserver3</code> dürfen nicht gesetzt sein.
  		  </li><li class="listitem">
			Nach diesen Schritten kann der Memberserver wie gewohnt der Domäne beitreten.
  		  </li></ul></div><p>
  	</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="school:performance:secondarySamba4DC"><a class="anchor" href="#school:performance:secondarySamba4DC" title="Link to this section">§</a>14.1.2. Installation zusätzlicher Anmeldeserver<a href="https://www.univention.de/produkt-feedback/?manual=school:performance:secondarySamba4DC" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h3></div></div></div><p>
  	  In UCS@school-Umgebungen in denen Samba 4 Active Directory-kompatible Dienste bereitstellt,
      kann zur Skalierung der Anmeldedienste ein zusätzlicher UCS DC Slave an einem Schulstandort
  	  installiert werden. Dieser zusätzliche, sekundäre Domänencontroller wird als normaler UCS DC Slave
  	  installiert und muss danach durch Ausführung eines speziellen Skripts an dem Schulstandort
	  der Domäne beitreten. Auf diesem sekundären Domänencontroller wird nicht die UCS@school App installiert.
  	</p><p>
	  Zwischen dem Samba4-Verzeichnisdienst auf dem neuen UCS DC Slave und dem UCS@school-Server wird
	  die DRS Replikation eingesetzt, die Samba 4 auch im Standard-UCS verwendet. Die für UCS@school
	  charakteristische selektive LDAP-Replikation von Verzeichnisdaten findet wie üblich weiter vom UCS
	  DC Master zu den DC Slave-Systemen statt. Allerdings findet die Synchronisation mit dem
	  Samba4-Verzeichnisdienst nur auf dem primären Schulserver statt.
  	</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Achtung</h3><p>
  	    Der sekundäre Domänencontroller stellt nur redundante Anmeldedienste zur Verfügung, UCS@school-spezifische
  	    Dienste und UMC-Module stellt er nicht bereit.
  	  </p><p>
		Damit in diesem Setup der Domänenbeitritt von Windows-Clients problemlos funktioniert, sollten für diese
		immer über die UCS@school-spezifischen Import-Werkzeuge Rechnerobjekte in der Univention Management Console angelegt werden.
		Wenn dies nicht vor dem Domänenbeitritt eines Windows-Clients erfolgt, kann der Domänenbeitritt
		mit einer Windows-Fehlermeldung abbrechen. Dies ist darauf zurückzuführen, dass zur Konfliktvermeidung
		im Samba-Verzeichnisdienst auf dem sekundären Schul-DC per Voreinstellung keine neuen Maschinenkonten
		angelegmt werden können.
  	  </p></div><p>
  	  Um einen solchen sekundären Domänencontroller an einem Schulstandort zu installieren und in
	  die Domäne aufzunehmen, müssen auf dem Master folgende vorbereitende Schritte als
	  <code class="systemitem">root</code> durchgeführt werden:
  	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><pre class="programlisting">/usr/share/ucs-school-import/scripts/create_ou \
    &lt;Schul-OU&gt; &lt;Name des neuen Schul-DCs&gt;</pre></li><li class="listitem"><pre class="programlisting">/usr/share/ucs-school-import/scripts/move_domaincontroller_to_ou \
    --ou &lt;Schul-OU&gt; --dcname &lt;Name des neuen Schul-DCs&gt;</pre></li><li class="listitem"><pre class="programlisting">cd /usr/share/ucs-school-import/scripts
scp ucs-school-join-secondary-samba4 root@&lt;Name des neuen Schul-DCs&gt;:</pre></li></ul></div><p>
  	</p><p>
	  Danach muss auf dem neuen DC Slave für den Domänenbeitritt folgender Schritt als Benutzer
	  <code class="systemitem">root</code> ausgeführt werden:
  	  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><pre class="programlisting">/root/ucs-school-join-secondary-samba4 &lt;IP des primären Schul-DCs&gt;</pre></li></ul></div><p>
  	</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="school:performance:backup-share"><a class="anchor" href="#school:performance:backup-share" title="Link to this section">§</a>14.2. Verzeichnisfreigabe für backup-Heimatverzeichnisse<a href="https://www.univention.de/produkt-feedback/?manual=school:performance:backup-share" class="feedback"><img src="images/manual-feedback-button.svg" width="auto" height="24" align="right" alt="Feedback" /></a></h2></div></div></div><div class="section"><div class="titlepage"></div>
		Gelöschte Benutzerprofile werden standardmäßig unterhalb von <span class="emphasis"><em>/home/backup/</em></span> gesichert.
		Um eine Administration des Verzeichnisses zu ermöglichen wird empfohlen eine Verzeichnisfreigabe für Schuladministratoren zu erstellen.
		Im folgendem Beispiel wird eine Freigabe für die Schule <em class="replaceable"><code>OUNAME</code></em> angelegt.
		Dazu müssen als root auf dem entsprechenden Schulserver folgende Befehle ausgeführt werden:

		<pre class="programlisting">eval "$(ucr shell)"
udm shares/share create \
    --position "cn=shares,ou=<em class="replaceable"><code>OUNAME</code></em>,$ldap_base" \
    --option samba \
    --set name="backup" \
    --set host="$hostname.$domainname" \
    --set path="/home/backup" \
    --set directorymode="0750" \
    --set group="$(getent group admins-OUNAME | cut -d ':' -f3)" \
    --set sambaWriteList="@admins-<em class="replaceable"><code>OUNAME</code></em>" \
    --set sambaValidUsers="@admins-<em class="replaceable"><code>OUNAME</code></em>"</pre></div></div></div><div class="bibliography"><div class="titlepage"><div><div><h1 class="title" id="bibliography"><a class="anchor" href="#bibliography" title="Link to this section">§</a>Literaturverzeichnis</h1></div></div></div><div class="biblioentry" id="ucs-handbuch"><a class="anchor" href="#ucs-handbuch" title="Link to this section">§</a><p>[ucs-handbuch] <span class="publishername">Univention GmbH. </span><span class="pubdate">2014. </span><span class="title"><em>Univention Corporate Server - Handbuch für Benutzer und Administratoren</em>. </span><span class="releaseinfo"><a class="ulink" href="http://docs.univention.de/handbuch-4.0.html" target="_top">http://docs.univention.de/handbuch-4.0.html</a>. </span></p></div><div class="biblioentry" id="ucc-handbuch"><a class="anchor" href="#ucc-handbuch" title="Link to this section">§</a><p>[ucc-handbuch] <span class="publishername">Univention GmbH. </span><span class="pubdate">2014. </span><span xml:lang="en" class="title" lang="en"><em>Univention Corporate Client - Manual for administrators</em>. </span><span class="releaseinfo"><a class="ulink" href="http://docs.univention.de/ucc-manual.html" target="_top">http://docs.univention.de/ucc-manual.html</a>. </span></p></div><div class="biblioentry" id="ucs-school-teacher"><a class="anchor" href="#ucs-school-teacher" title="Link to this section">§</a><p>[ucs-school-teacher] <span class="publishername">Univention GmbH. </span><span class="pubdate">2012. </span><span class="title"><em>UCS@school - Handbuch für Lehrkräfte und Schuladministratoren</em>. </span><span class="releaseinfo"><a class="ulink" href="http://docs.univention.de/ucsschool-lehrer-handbuch-4.0.pdf" target="_top">http://docs.univention.de/ucsschool-lehrer-handbuch-4.0.pdf</a>. </span></p></div><div class="biblioentry" id="ucs-performance-guide"><a class="anchor" href="#ucs-performance-guide" title="Link to this section">§</a><p>[ucs-performance-guide] <span class="publishername">Univention GmbH. </span><span class="pubdate">2014. </span><span xml:lang="en" class="title" lang="en"><em>UCS performance guide</em>. </span><span class="releaseinfo"><a class="ulink" href="http://docs.univention.de/performance-guide-4.0.html" target="_top">http://docs.univention.de/performance-guide-4.0.html</a>. </span></p></div></div><html>
	<!-- Piwik -->
	<script type="text/javascript">
		var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.univention.de/" : "http://piwik.univention.de/");
		document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
		//<!-- Local Piwik Tracker -->
		var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 11);
		//<!-- Global Piwik Tacker *.univention.de -->
		var globalTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 10);

		piwikTracker.trackPageView();
		globalTracker.trackPageView();

		piwikTracker.enableLinkTracking();
		globalTracker.enableLinkTracking();
		globalTracker.setConversionAttributionFirstReferrer();
		globalTracker.setCookieDomain('*.univention.de');
		} catch( err ) {}
	</script>
	<noscript>
		<p><img src="http://piwik.univention.de/piwik.php?idsite=11" style="border:0" alt="" /></p>
		<p><img src="http://piwik.univention.de/piwik.php?idsite=10" style="border:0" alt="" /></p>
	</noscript>
	<!-- End Piwik Tracking Code -->
</html></div></body></html>